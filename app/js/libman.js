import { $APP, shadow$provide, $jscomp } from "./common.js";
var mG=function(a){return a.lastIndexOf("x",0)==0},nG=function(a){a=a.destroy;return a==null?null:a.o?a.o():a.call(null)},oG=function(a){$APP.yi(a,$APP.La());$APP.m($APP.Ma)&&$APP.zi($APP.La())},pG=function(){var a=$APP.gk;return a==null?[]:$APP.sk(function(){return[]},a,$APP.Sv,null,nG)},rG=function(a,b,c,d,e){var f=$APP.Pl($APP.u(c)),g=$APP.Pl($APP.u(c)),k=$APP.ma(e);return function(n,p,q,t,w){$APP.af($APP.u(g),$APP.u(q))&&($APP.sf(f,$APP.u(q)),$APP.sf(g,$APP.u(q)));return new $APP.V(null,2,5,$APP.W,
[n,$APP.Y.j(p,$APP.cw,function(){var y=$APP.u(f);return t.g?t.g(y):t.call(null,y)}(),$APP.N([$APP.Pv,function(y){y=y.target.value;k.h?k.h(q,y):k.call(null,q,y);return w.h?w.h(f,y):w.call(null,f,y)}]))],null)}},sG=function(a,b,c){for(var d=0,e=$APP.I(a);;)if(d<e){var f=$APP.pe(d+e,2);var g=$APP.P(a,f);g=c.g?c.g(g):c.call(null,g);$APP.Wd(g,b)<0?d=f+1:e=f}else return d},tG=function(a,b,c){return $APP.cg($APP.Cf.j($APP.jg(a,0,b),new $APP.V(null,1,5,$APP.W,[c],null),$APP.N([$APP.jg(a,b,$APP.I(a))])))},
uG=function(a,b){return $APP.cg($APP.Cf.h($APP.jg(a,0,b),$APP.jg(a,b+1,$APP.I(a))))},vG=function(a,b){function c(g){return $APP.jg(g,0,2)}a=$APP.cg(a);var d=c(b),e=sG(a,d,c),f=$APP.P(a,e);return $APP.Nd(f)&&$APP.K.h(d,c(f))?$APP.Y.i(a,e,b):tG(a,e,b)},wG=function(a,b){function c(f){return $APP.jg(f,0,2)}a=$APP.cg(a);b=c(b);var d=sG(a,b,c),e=$APP.P(a,d);return $APP.Nd(e)&&$APP.K.h(b,c(e))?uG(a,d):a},xG=function(a,b){function c(e){return $APP.jg(e,0,2)}a=$APP.cg(a);b=c(b);var d=sG(a,b,c);a=$APP.P(a,
d);return $APP.Nd(a)&&$APP.K.h(b,c(a))},yG=function(a){var b=pG(),c=b.length===0,d=c||$APP.Ta(b.hasOwnProperty(0))?b[0]=$APP.Pl(!1):b[0],e=c||$APP.Ta(b.hasOwnProperty(1))?b[1]=$APP.rf(null):b[1],f=c||$APP.Ta(b.hasOwnProperty(2))?b[2]=function(){return $APP.sf(d,!0)}:b[2];return $APP.m(function(){var g=$APP.u(d);return $APP.m(g)?g:$APP.Hd($APP.u(a))}())?new $APP.V(null,3,5,$APP.W,[$APP.Px,new $APP.l(null,1,[$APP.Ey,function(g){console.log(g);g.preventDefault();$APP.sf(a,g.target.elements.namefield.value);
return $APP.sf(d,!1)}],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,5,[$APP.dz,$APP.$x,$APP.Oj,"namefield",$APP.nx,!0,$APP.yv,$APP.u(a),$APP.iw,function(g){$APP.sf(a,g.target.value);return $APP.sf(d,!1)}],null)],null)],null):new $APP.V(null,3,5,$APP.W,[$APP.$y,new $APP.l(null,1,[$APP.Rx,function(g){return $APP.K.h(g.detail,1)?$APP.sf(e,window.setTimeout(f,1E3)):window.clearTimeout($APP.u(e))}],null),$APP.u(a)],null)},BG=function(){return new $APP.V(null,3,5,$APP.W,[zG,new $APP.l(null,
1,[$APP.Gl,$APP.m($APP.u(AG))?"visible":"hidden"],null),$APP.u(AG)],null)},HG=function(){var a=$APP.u(CG),b=$APP.$e(a);a=$APP.P(b,$APP.iy);var c=$APP.P(b,$APP.hy);b=$APP.P(b,DG);return new $APP.V(null,3,5,$APP.W,[EG,new $APP.l(null,2,[$APP.px,new $APP.l(null,2,[FG,c,GG,a],null),$APP.Gl,$APP.m(b)?"visible":"hidden"],null),b],null)},JG=function(a,b){return $APP.sf(AG,new $APP.V(null,6,5,$APP.W,[$APP.Px,new $APP.l(null,1,[$APP.Ey,function(c){console.log(c);c.preventDefault();c=c.target.elements.valuefield.value;
$APP.D(c)&&(b.g?b.g(c):b.call(null,c));return $APP.sf(AG,null)}],null),new $APP.V(null,2,5,$APP.W,[IG,a],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,3,[$APP.Oj,"valuefield",$APP.dz,"text",$APP.nx,!0],null)],null),new $APP.V(null,3,5,$APP.W,[$APP.bz,new $APP.l(null,1,[$APP.Rx,function(){return $APP.sf(AG,null)}],null),"Cancel"],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,2,[$APP.dz,"submit",$APP.cw,"Ok"],null)],null)],null))},KG=function(a){return $APP.sf(AG,new $APP.V(null,
3,5,$APP.W,[IG,new $APP.V(null,2,5,$APP.W,[$APP.ky,a],null),new $APP.V(null,3,5,$APP.W,[$APP.bz,new $APP.l(null,1,[$APP.Rx,function(){return $APP.sf(AG,null)}],null),"Ok"],null)],null))},OG=function(a,b){a.preventDefault();return $APP.sf(CG,new $APP.l(null,3,[$APP.iy,a.clientX,$APP.hy,a.clientY,DG,new $APP.V(null,2,5,$APP.W,[LG,new $APP.V(null,3,5,$APP.W,[MG,new $APP.l(null,1,[$APP.Rx,function(){return $APP.Z.i(NG,$APP.kk,b)}],null),"delete"],null)],null)],null))},PG=function(a,b){var c=$APP.K,d=
c.h,e=$APP.I(a),f=$APP.I(b);return d.call(c,$APP.jg(a,0,e<f?e:f),b)},RG=function(a){return $APP.vf.h(function(b){return $APP.ze.h($APP.Ij(b,"/"),$APP.Ym.g(a))},$APP.ze.h($APP.Df(QG,$APP.N([$APP.Ih($APP.Nv.g(a))])),"Everything"))},SG=function(){var a=$APP.u(NG);return $APP.cb(function(b,c){return $APP.Tu(b,c,$APP.S)},$APP.S,$APP.Df(RG,$APP.N([$APP.Ih(a)])))},WG=function(){return new $APP.V(null,2,5,$APP.W,[TG,$APP.D($APP.u(NG))?new $APP.V(null,3,5,$APP.W,[UG,$APP.bg,SG()],null):new $APP.V(null,2,5,
$APP.W,[VG,'There aren\'t any interfaces yet. Open a different workspace or click "Add interface" to get started.'],null)],null)},ZG=function(a,b){a=[$APP.r.g(a),"$",$APP.r.g(b)].join("");b=new URL("..",window.location);b.searchParams.append("schem",a);b.searchParams.append("db",XG);b.searchParams.append("sync",YG);return b},aH=function(a,b,c,d){a.preventDefault();return $APP.sf(CG,new $APP.l(null,3,[$APP.iy,a.clientX,$APP.hy,a.clientY,DG,new $APP.V(null,3,5,$APP.W,[LG,new $APP.V(null,3,5,$APP.W,
[MG,new $APP.l(null,1,[$APP.Rx,function(){return window.open(ZG($APP.td(c.split(":")),$APP.Vh(d)),c)}],null),"edit"],null),new $APP.V(null,3,5,$APP.W,[MG,new $APP.l(null,1,[$APP.Rx,function(){return $APP.Z.j(b,$G,new $APP.V(null,2,5,$APP.W,[c,$APP.Nv],null),$APP.kk,$APP.N([d]))}],null),"delete"],null)],null)],null))},fH=function(a){var b=$APP.u(bH),c=$APP.P($APP.u(a),b);return new $APP.V(null,2,5,$APP.W,[cH,$APP.m($APP.u(bH))?new $APP.V(null,5,5,$APP.W,[$APP.hB,dH,$APP.gi(function(){return function f(e){return new $APP.Ge(null,
function(){for(var g=e;;)if(g=$APP.D(g)){if($APP.Od(g)){var k=$APP.tc(g),n=$APP.I(k),p=$APP.Je(n);return function(){for(var y=0;;)if(y<n){var z=$APP.xd(k,y),A=$APP.O(z,0,null);z=$APP.O(z,1,null);var F=(F=$APP.K.h($APP.u(eH),new $APP.V(null,1,5,$APP.W,["Everything"],null)))?F:$APP.kf($APP.Fp.h($APP.K,$APP.U.h($APP.r,$APP.Bf("/",$APP.u(eH)))),QG.g(z));if($APP.m(F)){var J=$APP.K.h($APP.If(c,new $APP.V(null,3,5,$APP.W,[$APP.Nv,A,$APP.dz],null)),"schematic")?$APP.$A:$APP.ZA;F=p;A=new $APP.V(null,4,5,$APP.W,
[new $APP.V(null,4,5,$APP.W,[$APP.$y,new $APP.V(null,1,5,$APP.W,[J],null)," ",$APP.zd(z,$APP.Oj,A)],null),new $APP.V(null,4,5,$APP.W,[$APP.$y,new $APP.V(null,1,5,$APP.W,[J],null)," ",new $APP.V(null,2,5,$APP.W,[yG,$APP.Ql(a,new $APP.V(null,4,5,$APP.W,[b,$APP.Nv,A,$APP.Oj],null))],null)],null),A,A],null);F.add(A)}y+=1}else return!0}()?$APP.Me($APP.Pe(p),f($APP.uc(g))):$APP.Me($APP.Pe(p),null)}var q=$APP.E(g),t=$APP.O(q,0,null),w=$APP.O(q,1,null);if($APP.m(function(){var y=$APP.K.h($APP.u(eH),new $APP.V(null,
1,5,$APP.W,["Everything"],null));return y?y:$APP.kf($APP.Fp.h($APP.K,$APP.U.h($APP.r,$APP.Bf("/",$APP.u(eH)))),QG.g(w))}()))return q=$APP.K.h($APP.If(c,new $APP.V(null,3,5,$APP.W,[$APP.Nv,t,$APP.dz],null)),"schematic")?$APP.$A:$APP.ZA,$APP.Ce(new $APP.V(null,4,5,$APP.W,[new $APP.V(null,4,5,$APP.W,[$APP.$y,new $APP.V(null,1,5,$APP.W,[q],null)," ",$APP.zd(w,$APP.Oj,t)],null),new $APP.V(null,4,5,$APP.W,[$APP.$y,new $APP.V(null,1,5,$APP.W,[q],null)," ",new $APP.V(null,2,5,$APP.W,[yG,$APP.Ql(a,new $APP.V(null,
4,5,$APP.W,[b,$APP.Nv,t,$APP.Oj],null))],null)],null),t,t],null),f($APP.G(g)));g=$APP.G(g)}else return null},null,null)}($APP.Nv.g(c))}()),function(d){return $APP.K.h($APP.If(c,new $APP.V(null,3,5,$APP.W,[$APP.Nv,d,$APP.dz],null)),"schematic")?function(){return window.open(ZG($APP.td(b.split(":")),$APP.Vh(d)),b)}:null},function(d){return function(e){return aH(e,a,b,d)}}],null):new $APP.V(null,2,5,$APP.W,[VG,"There are no implementations to show. Select an interface to edit its schematics and SPICE models."],
null)],null)},jH=function(){return new $APP.V(null,2,5,$APP.W,[gH,new $APP.V(null,3,5,$APP.W,[$APP.Vw,new $APP.V(null,2,5,$APP.W,[$APP.Cx,"Workspace properties"],null),new $APP.V(null,6,5,$APP.W,[hH,new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,1,[$APP.Tx,"dbname"],null),"Name"],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,3,[$APP.Il,"dbname",$APP.Oj,"db",$APP.yv,XG],null)],null),new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,1,[$APP.Tx,"dbsync"],null),"URL"],null),new $APP.V(null,
2,5,$APP.W,[$APP.$w,new $APP.l(null,3,[$APP.Il,"dbsync",$APP.Oj,"sync",$APP.yv,YG],null)],null),new $APP.V(null,4,5,$APP.W,[iH,new $APP.l(null,1,[$APP.dz,"submit"],null),new $APP.V(null,1,5,$APP.W,[$APP.aB],null),"Open"],null)],null)],null)],null)},oH=function(a){var b=$APP.Jx.g($APP.u(a)),c=$APP.O(b,0,null),d=$APP.O(b,1,null),e=2+c,f=2+d;return new $APP.V(null,2,5,$APP.W,[kH,new $APP.V(null,2,5,$APP.W,[lH,$APP.gi(function(){return function n(k){return new $APP.Ge(null,function(){for(;;){var p=$APP.D(k);
if(p){var q=p;if($APP.Od(q)){var t=$APP.tc(q),w=$APP.I(t),y=$APP.Je(w);return function(){for(var A=0;;)if(A<w){var F=$APP.xd(t,A);$APP.Ne(y,new $APP.V(null,3,5,$APP.W,[mH,new $APP.l(null,1,[$APP.Rj,F],null),$APP.gi(function(){return function(J,M,T,X,da,ka,Oa,Sa,va,Aa,ya,ta){return function pc(Ya){return new $APP.Ge(null,function(Wc,Tb,Xc,Gf,Fd,$b,hf,ae,qc,Rc,qe,ac){return function(){for(;;){var Cc=$APP.D(Ya);if(Cc){var cd=Cc;if($APP.Od(cd)){var Hf=$APP.tc(cd),jj=$APP.I(Hf),qh=$APP.Je(jj);return function(){for(var rh=
0;;)if(rh<jj){var og=$APP.xd(Hf,rh),kj=function(lj,mj,gc,vy,wy,xy,cp,Si,Sf){return function(Tf){return $APP.m(Tf.target.checked)?$APP.Z.j(a,$APP.Uu,$APP.hz,vG,$APP.N([new $APP.V(null,3,5,$APP.W,[gc,Sf,"#"],null)])):$APP.Z.j(a,$APP.Uu,$APP.hz,wG,$APP.N([new $APP.V(null,3,5,$APP.W,[gc,Sf,"#"],null)]))}}(rh,Wc,og,Hf,jj,qh,cd,Cc,Tb,Xc,Gf,Fd,$b,hf,ae,qc,Rc,qe,ac);$APP.Ne(qh,new $APP.V(null,3,5,$APP.W,[nH,new $APP.l(null,1,[$APP.Rj,og],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,3,[$APP.dz,
"checkbox",$APP.Xy,xG($APP.hz.g($APP.u(a)),new $APP.V(null,2,5,$APP.W,[og,Tb],null)),$APP.Pv,kj],null)],null)],null));rh+=1}else return!0}()?$APP.Me($APP.Pe(qh),pc($APP.uc(cd))):$APP.Me($APP.Pe(qh),null)}var Oe=$APP.E(cd),pk=function(rh,og,kj,lj,mj){return function(gc){return $APP.m(gc.target.checked)?$APP.Z.j(a,$APP.Uu,$APP.hz,vG,$APP.N([new $APP.V(null,3,5,$APP.W,[og,mj,"#"],null)])):$APP.Z.j(a,$APP.Uu,$APP.hz,wG,$APP.N([new $APP.V(null,3,5,$APP.W,[og,mj,"#"],null)]))}}(Wc,Oe,cd,Cc,Tb,Xc,Gf,Fd,
$b,hf,ae,qc,Rc,qe,ac);return $APP.Ce(new $APP.V(null,3,5,$APP.W,[nH,new $APP.l(null,1,[$APP.Rj,Oe],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,3,[$APP.dz,"checkbox",$APP.Xy,xG($APP.hz.g($APP.u(a)),new $APP.V(null,2,5,$APP.W,[Oe,Tb],null)),$APP.Pv,pk],null)],null)],null),pc($APP.G(cd)))}return null}}}(J,M,T,X,da,ka,Oa,Sa,va,Aa,ya,ta),null,null)}}(A,F,t,w,y,q,p,b,c,d,e,f)($APP.di(e))}())],null));A+=1}else return!0}()?$APP.Me($APP.Pe(y),n($APP.uc(q))):$APP.Me($APP.Pe(y),null)}var z=$APP.E(q);
return $APP.Ce(new $APP.V(null,3,5,$APP.W,[mH,new $APP.l(null,1,[$APP.Rj,z],null),$APP.gi(function(){return function(A,F,J,M,T,X,da,ka){return function va(Sa){return new $APP.Ge(null,function(){for(;;){var Aa=$APP.D(Sa);if(Aa){var ya=Aa;if($APP.Od(ya)){var ta=$APP.tc(ya),wa=$APP.I(ta),Ya=$APP.Je(wa);return function(){for(var Tb=0;;)if(Tb<wa){var Xc=$APP.xd(ta,Tb),Gf=function(Fd,$b,hf,ae,qc,Rc,qe,ac){return function(Cc){return $APP.m(Cc.target.checked)?$APP.Z.j(a,$APP.Uu,$APP.hz,vG,$APP.N([new $APP.V(null,
3,5,$APP.W,[$b,ac,"#"],null)])):$APP.Z.j(a,$APP.Uu,$APP.hz,wG,$APP.N([new $APP.V(null,3,5,$APP.W,[$b,ac,"#"],null)]))}}(Tb,Xc,ta,wa,Ya,ya,Aa,A,F,J,M,T,X,da,ka);$APP.Ne(Ya,new $APP.V(null,3,5,$APP.W,[nH,new $APP.l(null,1,[$APP.Rj,Xc],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,3,[$APP.dz,"checkbox",$APP.Xy,xG($APP.hz.g($APP.u(a)),new $APP.V(null,2,5,$APP.W,[Xc,A],null)),$APP.Pv,Gf],null)],null)],null));Tb+=1}else return!0}()?$APP.Me($APP.Pe(Ya),va($APP.uc(ya))):$APP.Me($APP.Pe(Ya),null)}var pc=
$APP.E(ya),Wc=function(Tb,Xc,Gf,Fd){return function($b){return $APP.m($b.target.checked)?$APP.Z.j(a,$APP.Uu,$APP.hz,vG,$APP.N([new $APP.V(null,3,5,$APP.W,[Tb,Fd,"#"],null)])):$APP.Z.j(a,$APP.Uu,$APP.hz,wG,$APP.N([new $APP.V(null,3,5,$APP.W,[Tb,Fd,"#"],null)]))}}(pc,ya,Aa,A,F,J,M,T,X,da,ka);return $APP.Ce(new $APP.V(null,3,5,$APP.W,[nH,new $APP.l(null,1,[$APP.Rj,pc],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,3,[$APP.dz,"checkbox",$APP.Xy,xG($APP.hz.g($APP.u(a)),new $APP.V(null,2,5,$APP.W,
[pc,A],null)),$APP.Pv,Wc],null)],null)],null),va($APP.G(ya)))}return null}},null,null)}}(z,q,p,b,c,d,e,f)($APP.di(e))}())],null),n($APP.G(q)))}return null}},null,null)}($APP.di(f))}())],null)],null)},pH=function(a){return new $APP.V(null,5,5,$APP.W,[$APP.Zy,new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,2,[$APP.Tx,"bgwidth",$APP.Lv,"Width of the background tile"],null),"Background width"],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,4,[$APP.Il,"bgwidth",$APP.dz,"number",$APP.yv,
$APP.zd($APP.Jx.g($APP.u(a)),0,1),$APP.Pv,$APP.ma(function(b){return $APP.Z.j(a,$APP.Uu,$APP.Jx,$APP.nf($APP.Y,new $APP.V(null,2,5,$APP.W,[0,0],null)),$APP.N([0,parseInt(b.target.value)]))})],null)],null),new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,2,[$APP.Tx,"bgheight",$APP.Lv,"Width of the background tile"],null),"Background height"],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,4,[$APP.Il,"bgheigt",$APP.dz,"number",$APP.yv,$APP.zd($APP.Jx.g($APP.u(a)),1,1),$APP.Pv,$APP.ma(function(b){return $APP.Z.j(a,
$APP.Uu,$APP.Jx,$APP.nf($APP.Y,new $APP.V(null,2,5,$APP.W,[0,0],null)),$APP.N([1,parseInt(b.target.value)]))})],null)],null)],null)},qH=function(a){return new $APP.V(null,2,5,$APP.W,[$APP.Zy,function(){return function d(c){return new $APP.Ge(null,function(){for(;;){var e=$APP.D(c);if(e){var f=e;if($APP.Od(f)){var g=$APP.tc(f),k=$APP.I(g),n=$APP.Je(k);return function(){for(var y=0;;)if(y<k){var z=$APP.xd(g,y),A=$APP.O(z,0,null),F=$APP.O(z,1,null),J=$APP.O(z,2,null);z=$APP.ma(function(M,T,X,da){return function(ka){return $APP.Z.j(a,
$APP.Uu,$APP.hz,vG,$APP.N([new $APP.V(null,3,5,$APP.W,[X,da,ka.target.value],null)]))}}(y,z,A,F,J,g,k,n,f,e));$APP.Ne(n,new $APP.V(null,4,5,$APP.W,[$APP.Zy,new $APP.l(null,1,[$APP.Rj,new $APP.V(null,2,5,$APP.W,[A,F],null)],null),new $APP.V(null,5,5,$APP.W,[$APP.Ew,new $APP.l(null,2,[$APP.Tx,["port",$APP.r.g(A),":",$APP.r.g(F)].join(""),$APP.Lv,"Port name"],null),A,"/",F],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,4,[$APP.Il,["port",$APP.r.g(A),":",$APP.r.g(F)].join(""),$APP.dz,"text",
$APP.yv,J,$APP.Pv,z],null)],null)],null));y+=1}else return!0}()?$APP.Me($APP.Pe(n),d($APP.uc(f))):$APP.Me($APP.Pe(n),null)}var p=$APP.E(f),q=$APP.O(p,0,null),t=$APP.O(p,1,null),w=$APP.O(p,2,null);p=$APP.ma(function(y,z,A){return function(F){return $APP.Z.j(a,$APP.Uu,$APP.hz,vG,$APP.N([new $APP.V(null,3,5,$APP.W,[z,A,F.target.value],null)]))}}(p,q,t,w,f,e));return $APP.Ce(new $APP.V(null,4,5,$APP.W,[$APP.Zy,new $APP.l(null,1,[$APP.Rj,new $APP.V(null,2,5,$APP.W,[q,t],null)],null),new $APP.V(null,5,
5,$APP.W,[$APP.Ew,new $APP.l(null,2,[$APP.Tx,["port",$APP.r.g(q),":",$APP.r.g(t)].join(""),$APP.Lv,"Port name"],null),q,"/",t],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,4,[$APP.Il,["port",$APP.r.g(q),":",$APP.r.g(t)].join(""),$APP.dz,"text",$APP.yv,w,$APP.Pv,p],null)],null)],null),d($APP.G(f)))}return null}},null,null)}($APP.hz.g($APP.u(a)))}()],null)},rH=function(a){var b=$APP.u(bH),c=$APP.Ql(a,new $APP.V(null,1,5,$APP.W,[b],null));return $APP.m(b)?new $APP.V(null,2,5,$APP.W,[$APP.Zy,
new $APP.V(null,7,5,$APP.W,[$APP.ov,new $APP.V(null,2,5,$APP.W,[pH,c],null),new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,2,[$APP.Tx,"ports",$APP.Lv,"pattern for the device ports"],null),"ports"],null),new $APP.V(null,2,5,$APP.W,[oH,c],null),new $APP.V(null,2,5,$APP.W,[qH,c],null),new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,2,[$APP.Tx,"symurl",$APP.Lv,"image url for this component"],null),"url"],null),new $APP.V(null,2,5,$APP.W,[$APP.$w,new $APP.l(null,4,[$APP.Il,"symurl",$APP.dz,"text",
$APP.yv,$APP.If($APP.u(a),new $APP.V(null,2,5,$APP.W,[b,$APP.Ww],null)),$APP.iw,function(d){return $APP.Z.s(a,$APP.Tu,new $APP.V(null,2,5,$APP.W,[b,$APP.Ww],null),d.target.value)}],null)],null)],null)],null):new $APP.V(null,2,5,$APP.W,[VG,"Select an interface to edit its properties."],null)},yH=function(a){var b=$APP.Ql(a,new $APP.V(null,4,5,$APP.W,[$APP.u(bH),$APP.Nv,$APP.si.g($APP.u(dH)),$APP.si.g($APP.u(sH))],null));oG($APP.N([$APP.u(b)]));return new $APP.V(null,3,5,$APP.W,[$APP.ov,$APP.K.h($APP.If($APP.u(a),
new $APP.V(null,4,5,$APP.W,[$APP.u(bH),$APP.Nv,$APP.si.g($APP.u(dH)),$APP.dz],null)),"spice")?new $APP.V(null,10,5,$APP.W,[$APP.Zy,new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,1,[$APP.Tx,"dialect"],null),"Simulator"],null),new $APP.V(null,4,5,$APP.W,[$APP.qw,new $APP.l(null,4,[$APP.Il,"dialect",$APP.dz,"text",$APP.cw,$APP.u(sH),$APP.Pv,function(c){return $APP.sf(sH,c.target.value)}],null),new $APP.V(null,2,5,$APP.W,[$APP.Ex,"NgSpice"],null),new $APP.V(null,2,5,$APP.W,[$APP.Ex,"Xyce"],null)],
null),new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,1,[$APP.Tx,"reftempl"],null),"Reference template"],null),new $APP.V(null,6,5,$APP.W,[rG,$APP.Wx,new $APP.l(null,2,[$APP.Il,"reftempl",tH,"X{name} {ports} {properties}"],null),b,uH,function(c,d){return $APP.Z.s(c,$APP.Y,uH,d)}],null),new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,1,[$APP.Tx,"decltempl"],null),"Declaration template"],null),new $APP.V(null,6,5,$APP.W,[rG,$APP.Wx,new $APP.l(null,1,[$APP.Il,"decltempl"],null),b,vH,function(c,
d){return $APP.Z.s(c,$APP.Y,vH,d)}],null),new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,2,[$APP.Tx,"vectors",$APP.Lv,"Comma-seperated device outputs to save"],null),"Vectors"],null),new $APP.V(null,6,5,$APP.W,[rG,$APP.$w,new $APP.l(null,2,[$APP.Il,"vectors",tH,"id, gm"],null),b,function(c){return $APP.U.h($APP.r,$APP.Bf(", ",wH.g(c)))},function(c,d){return $APP.Z.s(c,$APP.Y,wH,$APP.Hj(d,/, /,-1))}],null),mG($APP.Fj(uH.h($APP.u(b),"")))?new $APP.V(null,3,5,$APP.W,[$APP.Zy,new $APP.V(null,3,5,
$APP.W,[$APP.Ew,new $APP.l(null,2,[$APP.Tx,"vectorcomp",$APP.Lv,"For subcircuits, the name of the thing inside of which to save vectors"],null),"Main component"],null),new $APP.V(null,6,5,$APP.W,[rG,$APP.$w,new $APP.l(null,1,[$APP.Il,"vectorcomp"],null),b,xH,function(c,d){return $APP.Z.s(c,$APP.Y,xH,d)}],null)],null):null],null):$APP.m(function(){var c=$APP.u(bH);return $APP.m(c)?$APP.u(dH):c}())?new $APP.V(null,2,5,$APP.W,[$APP.Zy,new $APP.V(null,3,5,$APP.W,[$APP.sy,new $APP.l(null,2,[$APP.gz,ZG($APP.td($APP.u(bH).split(":")),
$APP.Vh($APP.u(dH))),$APP.iz,$APP.u(bH)],null),"Edit"],null)],null):null,$APP.m(function(){var c=$APP.u(bH);return $APP.m(c)?$APP.u(dH):c}())?new $APP.V(null,3,5,$APP.W,[$APP.Zy,new $APP.V(null,3,5,$APP.W,[$APP.Ew,new $APP.l(null,2,[$APP.Tx,"categories",$APP.Lv,"Comma-seperated device categories"],null),"Categories"],null),new $APP.V(null,6,5,$APP.W,[rG,$APP.$w,new $APP.l(null,1,[$APP.Il,"categories"],null),b,function(c){return $APP.U.h($APP.r,$APP.Bf(", ",QG.g(c)))},function(c,d){return $APP.Z.s(c,
$APP.Y,QG,$APP.Hj(d,/, /,-1))}],null)],null):new $APP.V(null,2,5,$APP.W,[VG,"Select a schematic or SPICE model to edit its properties."],null)],null)},IH=function(){return new $APP.V(null,3,5,$APP.W,[$APP.Zy,new $APP.V(null,4,5,$APP.W,[zH,new $APP.V(null,3,5,$APP.W,[AH,new $APP.V(null,4,5,$APP.W,[$APP.bz,new $APP.l(null,2,[$APP.Rx,function(){return JG("Enter the name of the new interface",function(a){return $APP.Z.s(NG,$APP.Y,["models:",$APP.r.g(a)].join(""),new $APP.l(null,1,[$APP.Oj,a],null))})},
BH,$APP.u(eH)==null],null),new $APP.V(null,1,5,$APP.W,[$APP.cB],null),"Add interface"],null),new $APP.V(null,3,5,$APP.W,[CH,new $APP.V(null,4,5,$APP.W,[$APP.bz,new $APP.l(null,2,[$APP.Rx,function(){return JG("Enter the name of the new schematic",function(a){return $APP.Z.s(NG,$APP.Tu,new $APP.V(null,3,5,$APP.W,[$APP.u(bH),$APP.Nv,$APP.si.g(a)],null),new $APP.l(null,2,[$APP.Oj,a,$APP.dz,"schematic"],null))})},BH,$APP.u(eH)==null||$APP.u(bH)==null],null),new $APP.V(null,1,5,$APP.W,[$APP.bB],null),"Add schematic"],
null),new $APP.V(null,3,5,$APP.W,[$APP.Vw,new $APP.V(null,1,5,$APP.W,[DH],null),new $APP.V(null,4,5,$APP.W,[$APP.bz,new $APP.l(null,2,[$APP.Rx,function(){return JG("Enter the name of the new SPICE model",function(a){return $APP.Z.s(NG,$APP.Tu,new $APP.V(null,3,5,$APP.W,[$APP.u(bH),$APP.Nv,$APP.si.g(a)],null),new $APP.l(null,2,[$APP.Oj,a,$APP.dz,"spice"],null))})},BH,$APP.u(eH)==null||$APP.u(bH)==null],null),new $APP.V(null,1,5,$APP.W,[$APP.bB],null),"Add SPICE model"],null)],null)],null)],null),new $APP.V(null,
3,5,$APP.W,[EH,"Interface ",function(){var a=$APP.u(bH);return $APP.m(a)?$APP.td(a.split(":")):null}()],null),new $APP.V(null,2,5,$APP.W,[fH,NG],null)],null),new $APP.V(null,4,5,$APP.W,[FH,new $APP.V(null,2,5,$APP.W,[GH,new $APP.V(null,2,5,$APP.W,[yH,NG],null)],null),new $APP.V(null,2,5,$APP.W,[HH,"Interface properties"],null),new $APP.V(null,2,5,$APP.W,[rH,NG],null)],null)],null)},MH=function(){return new $APP.V(null,5,5,$APP.W,[$APP.Zy,new $APP.V(null,4,5,$APP.W,[JH,new $APP.V(null,3,5,$APP.W,[KH,
new $APP.V(null,2,5,$APP.W,[$APP.wx,"Libraries"],null),$APP.m($APP.u(LH))?new $APP.V(null,3,5,$APP.W,[$APP.dw,new $APP.l(null,1,[$APP.Lv,"saving changes"],null),new $APP.V(null,1,5,$APP.W,[$APP.dB],null)],null):new $APP.V(null,3,5,$APP.W,[$APP.Zx,new $APP.l(null,1,[$APP.Lv,"changes saved"],null),new $APP.V(null,1,5,$APP.W,[$APP.eB],null)],null)],null),new $APP.V(null,1,5,$APP.W,[WG],null),new $APP.V(null,1,5,$APP.W,[jH],null)],null),new $APP.V(null,1,5,$APP.W,[IH],null),new $APP.V(null,1,5,$APP.W,
[HG],null),new $APP.V(null,1,5,$APP.W,[BG],null)],null)},OH=function(){if($APP.D(YG)){var a=NH.sync(YG,{live:!0});a.on("paused",function(){return $APP.sf(LH,!1)});a.on("active",function(){return $APP.sf(LH,!0)});a.on("denied",function(){return KG(["Permission denied synchronising to ",$APP.r.g(YG),", changes are saved locally"].join(""))});a.on("error",function(){return KG(["Error synchronising to ",$APP.r.g(YG),", changes are saved locally"].join(""))})}},PH=function(){window.name="libman";document.onclick=
function(){return $APP.Z.s(CG,$APP.Y,DG,null)};localStorage.setItem("db",XG);$APP.D(YG)&&localStorage.setItem("sync",YG);OH();return $APP.Vl(new $APP.V(null,1,5,$APP.W,[MH],null),document.getElementById("mosaic_libman"))},$G=function $G(a){switch(arguments.length){case 3:return $G.i(arguments[0],arguments[1],arguments[2]);case 4:return $G.s(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return $G.H(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return $G.ha(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=6<c.length?new $APP.C(c.slice(6),0,null):null;return $G.j(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};$G.i=function(a,b,c){var d=$APP.D(b);b=$APP.E(d);if(d=$APP.H(d))a=$APP.Y.i(a,b,$G.i($APP.P(a,b),d,c));else{d=$APP.Y.i;var e=$APP.P(a,b);c=c.g?c.g(e):c.call(null,e);a=d.call($APP.Y,a,b,c)}return a};
$G.s=function(a,b,c,d){var e=$APP.D(b);b=$APP.E(e);if(e=$APP.H(e))a=$APP.Y.i(a,b,$G.s($APP.P(a,b),e,c,d));else{e=$APP.Y.i;var f=$APP.P(a,b);c=c.h?c.h(f,d):c.call(null,f,d);a=e.call($APP.Y,a,b,c)}return a};$G.H=function(a,b,c,d,e){var f=$APP.D(b);b=$APP.E(f);if(f=$APP.H(f))a=$APP.Y.i(a,b,$G.H($APP.P(a,b),f,c,d,e));else{f=$APP.Y.i;var g=$APP.P(a,b);c=c.i?c.i(g,d,e):c.call(null,g,d,e);a=f.call($APP.Y,a,b,c)}return a};
$G.ha=function(a,b,c,d,e,f){var g=$APP.D(b);b=$APP.E(g);if(g=$APP.H(g))a=$APP.Y.i(a,b,$G.ha($APP.P(a,b),g,c,d,e,f));else{g=$APP.Y.i;var k=$APP.P(a,b);c=c.s?c.s(k,d,e,f):c.call(null,k,d,e,f);a=g.call($APP.Y,a,b,c)}return a};$G.j=function(a,b,c,d,e,f,g){var k=$APP.D(b);b=$APP.E(k);return(k=$APP.H(k))?$APP.Y.i(a,b,$APP.U.j($G,$APP.P(a,b),k,c,d,$APP.N([e,f,g]))):$APP.Y.i(a,b,$APP.U.j(c,$APP.P(a,b),d,e,f,$APP.N([g])))};
$G.B=function(a){var b=$APP.E(a),c=$APP.H(a);a=$APP.E(c);var d=$APP.H(c);c=$APP.E(d);var e=$APP.H(d);d=$APP.E(e);var f=$APP.H(e);e=$APP.E(f);var g=$APP.H(f);f=$APP.E(g);g=$APP.H(g);return this.j(b,a,c,d,e,f,g)};$G.C=6;
var GG=new $APP.Q(null,"left","left",-399115937),zH=new $APP.Q(null,"div.schsel","div.schsel",-1209283060),TG=new $APP.Q(null,"div.cellsel","div.cellsel",-277762551),FG=new $APP.Q(null,"top","top",-1856271961),iH=new $APP.Q(null,"button.primary","button.primary",-486456892),hH=new $APP.Q(null,"form.properties","form.properties",-224476671),AH=new $APP.Q(null,"div.addbuttons","div.addbuttons",-579122699),lH=new $APP.Q(null,"tbody","tbody",-80678300),zG=new $APP.Q(null,"div.modal.window","div.modal.window",
-1398751510),DG=new $APP.Q(null,"body","body",-2049205669),QG=new $APP.Q(null,"categories","categories",178386610),CH=new $APP.Q(null,"div.buttongroup.primary","div.buttongroup.primary",1038300842),BH=new $APP.Q(null,"disabled","disabled",-1529784218),QH=new $APP.Q(null,"on-toggle","on-toggle",-695538774),EG=new $APP.Q(null,"div.contextmenu.window","div.contextmenu.window",729411641),vH=new $APP.Q(null,"decltempl","decltempl",-878889161),HH=new $APP.Q(null,"h3","h3",2067611163),EH=new $APP.Q(null,
"h2","h2",-372662728),gH=new $APP.Q(null,"div.dbprops","div.dbprops",-1556934616),FH=new $APP.Q(null,"div.proppane","div.proppane",-1332639267),cH=new $APP.Q(null,"div.schematics","div.schematics",908542795),uH=new $APP.Q(null,"reftempl","reftempl",2007300758),VG=new $APP.Q(null,"div.empty","div.empty",47401225),IG=new $APP.Q(null,"div","div",1057191632),DH=new $APP.Q(null,"summary.button","summary.button",-1314921300),MG=new $APP.Q(null,"li","li",723558921),GH=new $APP.Q(null,"div.preview","div.preview",
-1882273840),xH=new $APP.Q(null,"component","component",1555936782),LG=new $APP.Q(null,"ul","ul",-1349521403),kH=new $APP.Q(null,"table","table",-564943036),nH=new $APP.Q(null,"td","td",1479933353),mH=new $APP.Q(null,"tr","tr",-1424774646),RH=new $APP.Q(null,"open","open",-1763596448),tH=new $APP.Q(null,"placeholder","placeholder",-104873083),SH=new $APP.Q(null,"div.detailbody","div.detailbody",-1679946259),TH=new $APP.Q(null,"details.tree","details.tree",-1643409151),KH=new $APP.Q(null,"div.libhead",
"div.libhead",1365032704),JH=new $APP.Q(null,"div.libraries","div.libraries",704668226),wH=new $APP.Q(null,"vectors","vectors",-1408542231);var UH=new URLSearchParams(window.location.search),XG;var VH=UH.get("db");if($APP.m(VH))XG=VH;else{var WH=localStorage.getItem("db");XG=$APP.m(WH)?WH:"schematics"}var XH=$APP.m(window.dburl)?(new URL(XG,window.dburl)).href:XG,YG;var YH=UH.get("sync");if($APP.m(YH))YG=YH;else{var ZH=localStorage.getItem("sync");YG=$APP.m(ZH)?ZH:window.default_sync}var NH=new $APP.sz(XH),NG=$APP.cn(NH,"models",$APP.Pl($APP.S)),$H=$APP.cn(NH,"snapshots",$APP.Pl($APP.S));$APP.an(NH,$APP.N([NG,$H]));
var eH=$APP.Pl($APP.bg),bH=$APP.Pl(null),dH=$APP.Pl(null),LH=$APP.Pl(!1),AG=$APP.Pl(null),CG=$APP.Pl(new $APP.l(null,3,[$APP.iy,0,$APP.hy,0,DG,null],null)),UG=function UG(a,b){return new $APP.V(null,3,5,$APP.W,[$APP.Zy,$APP.gi(function(){return function f(e){return new $APP.Ge(null,function(){for(var g=e;;){var k=$APP.D(g);if(k){var n=k;if($APP.Od(n)){var p=$APP.tc(n),q=$APP.I(p),t=$APP.Je(q);return function(){for(var F=0;;)if(F<q){var J=$APP.xd(p,F),M=$APP.O(J,0,null),T=$APP.O(J,1,null);if($APP.D(M)&&
$APP.D(T)){var X=$APP.ze.h(a,M);$APP.Ne(t,new $APP.V(null,4,5,$APP.W,[TH,new $APP.l(null,4,[$APP.Rj,X,$APP.Gl,X,RH,PG($APP.u(eH),X),QH,function(da,ka,Oa){return function(Sa){return $APP.m(Sa.target.open)?(Sa.stopPropagation(),$APP.sf(bH,null),$APP.sf(dH,null),$APP.sf(eH,Oa)):null}}(F,g,X,J,M,T,p,q,t,n,k)],null),new $APP.V(null,2,5,$APP.W,[$APP.Cx,M],null),new $APP.V(null,2,5,$APP.W,[SH,new $APP.V(null,3,5,$APP.W,[UG,X,T],null)],null)],null))}F+=1}else return!0}()?$APP.Me($APP.Pe(t),f($APP.uc(n))):
$APP.Me($APP.Pe(t),null)}var w=$APP.E(n),y=$APP.O(w,0,null),z=$APP.O(w,1,null);if($APP.D(y)&&$APP.D(z)){var A=$APP.ze.h(a,y);return $APP.Ce(new $APP.V(null,4,5,$APP.W,[TH,new $APP.l(null,4,[$APP.Rj,A,$APP.Gl,A,RH,PG($APP.u(eH),A),QH,function(F,J){return function(M){return $APP.m(M.target.open)?(M.stopPropagation(),$APP.sf(bH,null),$APP.sf(dH,null),$APP.sf(eH,J)):null}}(g,A,w,y,z,n,k)],null),new $APP.V(null,2,5,$APP.W,[$APP.Cx,y],null),new $APP.V(null,2,5,$APP.W,[SH,new $APP.V(null,3,5,$APP.W,[UG,
A,z],null)],null)],null),f($APP.G(n)))}g=$APP.G(n)}else return null}},null,null)}(b)}()),new $APP.V(null,5,5,$APP.W,[$APP.hB,bH,$APP.gi(function(){return function f(e){return new $APP.Ge(null,function(){for(var g=e;;)if(g=$APP.D(g)){if($APP.Od(g)){var k=$APP.tc(g),n=$APP.I(k),p=$APP.Je(n);a:{for(var q=0;;)if(q<n){var t=$APP.xd(k,q),w=$APP.O(t,0,null);t=$APP.O(t,1,null);if($APP.Hd(t)){var y=$APP.P($APP.u(NG),w),z=$APP.td(w.split(":"));t=p;w=new $APP.V(null,4,5,$APP.W,[$APP.zd(y,$APP.Oj,z),new $APP.V(null,
2,5,$APP.W,[yG,$APP.Ql(NG,new $APP.V(null,2,5,$APP.W,[w,$APP.Oj],null))],null),w,z],null);t.add(w)}q+=1}else{k=!0;break a}k=void 0}return k?$APP.Me($APP.Pe(p),f($APP.uc(g))):$APP.Me($APP.Pe(p),null)}k=$APP.E(g);p=$APP.O(k,0,null);k=$APP.O(k,1,null);if($APP.Hd(k))return k=$APP.P($APP.u(NG),p),n=$APP.td(p.split(":")),$APP.Ce(new $APP.V(null,4,5,$APP.W,[$APP.zd(k,$APP.Oj,n),new $APP.V(null,2,5,$APP.W,[yG,$APP.Ql(NG,new $APP.V(null,2,5,$APP.W,[p,$APP.Oj],null))],null),p,n],null),f($APP.G(g)));g=$APP.G(g)}else return null},
null,null)}(b)}()),null,function(d){return function(e){return OG(e,d)}}],null)],null)},sH=$APP.Pl("NgSpice");$APP.la("nyancad.mosaic.libman.init",PH);PH();