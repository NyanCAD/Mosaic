const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./slides-component-BV_PGMRS.js","./index-_Zd2Tjcq.js","./index-BVt8Dtzn.css","./slides-component-BfOE86wk.css"])))=>i.map(i=>d[i]);
var _s=Object.defineProperty;var Os=(De,_e,Le)=>_e in De?_s(De,_e,{enumerable:!0,configurable:!0,writable:!0,value:Le}):De[_e]=Le;var ne=(De,_e,Le)=>Os(De,typeof _e!="symbol"?_e+"":_e,Le);import{u as me,c as F,Q as Z,V as te,j as S,dI as js,as as Ot,aT as Es,Z as je,dJ as Ds,dK as wo,dL as Cs,dM as Xt,dN as xo,dO as So,dP as ks,dQ as lt,dR as Ns,dS as Ps,cE as Rs,dT as Ms,aG as Kt,dU as Ts,dV as zs,dW as Ee,a4 as Te,dX as _o,dY as Ls,dZ as Is,a as we,d_ as Oo,d$ as Hs,e0 as Ws,e1 as jo,e2 as Eo,e3 as Do,e4 as As,e5 as qs,e6 as Bs,e7 as Fs,e8 as Gs,e9 as Co,W as ze,ea as Vs,eb as Us,b2 as ko,ec as Ys,ed as $s,ee as Xs,bc as Ks,ef as Qs,eg as No,ao as Qt,b3 as Po,aC as Se,dl as Ro,eh as Zt,aD as qe,c8 as Zs,ei as Js,U as ei,R as Mo,aX as To,ej as Jt,ek as jt,el as en,em as tn,aM as ct,dB as ti,en as zo,eo as ni,bg as ut,ep as ri,aP as nn,aF as rn,aE as on,eq as oi,er as ue,L as ve,$ as ai,n as si,bv as ii,a8 as Lo,es as Et,dE as Io,be as Ho,bt as an,et as li,eu as ci,ev as sn,b1 as ui,ew as di,dx as fi,ex as pi,a6 as hi,ey as mi,bj as gi,aq as yi,ez as bi,eA as Wo,eB as vi,eC as wi,eD as Dt,eE as ln,eF as xi,ad as dt,br as Si,bs as _i,eG as Oi,eH as ji,eI as Ei,eJ as Di,eK as Ci,eL as ki,eM as Ni,eN as Ao,eO as Pi,dy as Ct,eP as Ri,eQ as Mi,eR as Ti,eS as ft,eT as qo,eU as zi,eV as Bo,eW as cn,eX as Li,eY as Ii,eZ as Hi,e_ as Wi,e$ as Ai,f0 as qi,f1 as Bi,f2 as Fi,f3 as Gi,f4 as Fo,f5 as Vi,f6 as Ui,a0 as Go,f7 as Yi,cn as $i,f8 as Xi,f9 as Ki,fa as Qi,fb as Zi,fc as Ji,fd as el,fe as tl,ff as nl,fg as kt,fh as rl,__tla as ol}from"./index-_Zd2Tjcq.js";import{a as al}from"./index-BHWDo0SJ.js";let Vo,un,dn,fn,pn,hn,mn,Uo,gn,Yo,yn,$o,bn,vn,Nt,Xe,Xo,Ko,Qo,wn,Zo,Jo,xn,Pt,Sn,ea,_n,Rt,On,ta,jn,na,ra,oa,aa,En,Dn,Cn,kn,Nn,Pn,Rn,sl=Promise.all([(()=>{try{return ol}catch{}})()]).then(async()=>{let De,_e,Le,Mn,Tn,zn,Ln,In,Hn,Wn,An,qn,Bn;De=me("align-end-vertical",[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2",key:"10wcwx"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2",key:"4p5bwg"}],["path",{d:"M22 22V2",key:"12ipfv"}]]),_e=me("align-horizontal-space-around",[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]]),Le=me("align-start-vertical",[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2",key:"lpm2y7"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2",key:"rdj6ps"}],["path",{d:"M2 2v20",key:"1ivd8o"}]]),pn=me("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),hn=me("folder-down",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]),Mn=me("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),mn=me("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Tn=me("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),gn=me("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),wn=me("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),zn=me("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),Ln=me("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),In=me("square-arrow-right",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]),Hn=me("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Wn=me("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]),An=n=>{const e=F.c(10),{title:t}=n,[r,l]=Z.useState(t),[i,c]=Z.useState(!0);let u,g,f;e[0]!==r||e[1]!==t?(u=()=>{if(t!==r){c(!1);const o=setTimeout(()=>{l(t),c(!0)},300);return()=>clearTimeout(o)}},g=[t,r],e[0]=r,e[1]=t,e[2]=u,e[3]=g):(u=e[2],g=e[3]),Z.useEffect(u,g),e[4]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(js,{className:"size-20 animate-spin text-primary","data-testid":"large-spinner",strokeWidth:1}),e[4]=f):f=e[4];const v=i?"opacity-100":"opacity-0";let w,a;return e[5]!==v?(w=te("mt-2 text-muted-foreground font-semibold text-lg transition-opacity duration-300",v),e[5]=v,e[6]=w):w=e[6],e[7]!==r||e[8]!==w?(a=S.jsxs("div",{className:"flex flex-col h-full flex-1 items-center justify-center p-4",children:[f,S.jsx("div",{className:w,children:r})]}),e[7]=r,e[8]=w,e[9]=a):a=e[9],a},qn=n=>{const e=F.c(2),{children:t}=n;if(!Ot())return t;let r;return e[0]!==t?(r=S.jsx(Bn,{children:t}),e[0]=t,e[1]=r):r=e[1],r},Bn=n=>{const e=F.c(3),{children:t}=n;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const{isPending:l,error:i}=Es(sa,r),c=je(Ds);if(l){let u;return e[1]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(Fn,{}),e[1]=u):u=e[1],u}if(!c&&wo()==="read"&&(Cs(lt.showCode,"false")||!Xt.get(xo))){let u;return e[2]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(Fn,{}),e[2]=u):u=e[2],u}if(i)throw i;return t};const Fn=n=>{const e=F.c(2),t=je(ks);let r;return e[0]!==t?(r=S.jsx(An,{title:t}),e[0]=t,e[1]=r):r=e[1],r};async function sa(){return await So.INSTANCE.initialized.promise,!0}const ia={idle:"./favicon.ico",success:"./circle-check.ico",running:"./circle-play.ico",error:"./circle-x.ico"},Mt=new Map;async function Ke(n){const e=Mt.get(n);if(e)return e;const t=await fetch(ia[n]),r=await t.blob(),l=URL.createObjectURL(r);return Mt.set(n,l),l}const la=n=>{const e=F.c(15),{isRunning:t}=n,r=Ns();let l,i,c,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=document.querySelector("link[rel~='icon']"),l||(l=document.createElement("link"),l.rel="icon",document.getElementsByTagName("head")[0].append(l)),e[0]=l):l=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(i=[],e[1]=i):i=e[1],Z.useEffect(da,i),e[2]!==r||e[3]!==t?(c=()=>{!t&&l.href.includes("favicon")||(async()=>{let a;if(a=t?"running":r.length===0?"success":"error",l.href=await Ke(a),!document.hasFocus())return;const o=setTimeout(async()=>{l.href=await Ke("idle")},3e3)})()},e[2]=r,e[3]=t,e[4]=c):c=e[4],e[5]!==r||e[6]!==t?(u=[t,r,l],e[5]=r,e[6]=t,e[7]=u):u=e[7],Z.useEffect(c,u);const g=Ps(t)??t;let f,v,w;return e[8]!==r||e[9]!==t||e[10]!==g?(f=()=>{g&&!t&&function(a){if(document.visibilityState==="visible")return;const o=async()=>{a===0?new Notification("Execution completed",{body:"Your notebook run completed successfully.",icon:await Ke("success")}):new Notification("Execution failed",{body:`Your notebook run encountered ${a} error(s).`,icon:await Ke("error")})};"Notification"in window&&Notification.permission!=="denied"&&(Notification.permission==="granted"?o():Notification.permission==="default"&&Notification.requestPermission().then(s=>{s==="granted"&&o()}))}(r.length)},v=[r,g,t],e[8]=r,e[9]=t,e[10]=g,e[11]=f,e[12]=v):(f=e[11],v=e[12]),Z.useEffect(f,v),e[13]!==t?(w=async a=>{t||(l.href=await Ke("idle"))},e[13]=t,e[14]=w):w=e[14],Rs(window,"focus",w),null};function ca(n){return URL.revokeObjectURL(n)}function ua(){Mt.forEach(ca)}function da(){return ua}function fa(){const{cellRuntime:n}=Xt.get(Ms),e=Kt.entries(n).find(([t,r])=>r.status==="running");e&&Ts(e[0],"focus")}const pa=n=>{const e=F.c(22),{connection:t,isRunning:r}=n,{mode:l}=je(zs),i=t.state===Ee.CLOSED,c=t.state===Ee.OPEN;let u;e[0]!==t.canTakeover||e[1]!==i?(u=i&&!t.canTakeover&&S.jsx(ya,{}),e[0]=t.canTakeover,e[1]=i,e[2]=u):u=e[2];const g=l==="read"?"fixed":"absolute";let f,v,w,a,o,s;return e[3]!==g?(f=te("z-50 top-4 left-4",g),e[3]=g,e[4]=f):f=e[4],e[5]!==c||e[6]!==r?(v=c&&r&&S.jsx(ga,{}),e[5]=c,e[6]=r,e[7]=v):v=e[7],e[8]!==t.canTakeover||e[9]!==i?(w=i&&!t.canTakeover&&S.jsx(ha,{}),e[8]=t.canTakeover,e[9]=i,e[10]=w):w=e[10],e[11]!==t.canTakeover||e[12]!==i?(a=i&&t.canTakeover&&S.jsx(ma,{}),e[11]=t.canTakeover,e[12]=i,e[13]=a):a=e[13],e[14]!==f||e[15]!==v||e[16]!==w||e[17]!==a?(o=S.jsxs("div",{className:f,children:[v,w,a]}),e[14]=f,e[15]=v,e[16]=w,e[17]=a,e[18]=o):o=e[18],e[19]!==u||e[20]!==o?(s=S.jsxs(S.Fragment,{children:[u,o]}),e[19]=u,e[20]=o,e[21]=s):s=e[21],s},Tt="no-print pointer-events-auto hover:cursor-pointer",ha=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Te,{content:"App disconnected",children:S.jsx("div",{className:Tt,children:S.jsx(Wn,{className:"w-[25px] h-[25px] text-[var(--red-11)]"})})}),n[0]=e):e=n[0],e},ma=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Te,{content:"Notebook locked",children:S.jsx("div",{className:Tt,children:S.jsx(_o,{className:"w-[25px] h-[25px] text-[var(--blue-11)]"})})}),n[0]=e):e=n[0],e},ga=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Te,{content:"Jump to running cell",side:"right",children:S.jsx("div",{className:Tt,"data-testid":"loading-indicator",onClick:fa,children:S.jsx(Mn,{className:"running-app-icon",size:30,strokeWidth:1})})}),n[0]=e):e=n[0],e},ya=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"noise"}),S.jsx("div",{className:"disconnected-gradient"})]}),n[0]=e):e=n[0],e},ba=Fs,va=Bs,wa=Ls(Is),Gn=we.forwardRef((n,e)=>{const t=F.c(9);let r,l,i,c;return t[0]!==n?({className:r,...l}=n,t[0]=n,t[1]=r,t[2]=l):(r=t[1],l=t[2]),t[3]!==r?(i=te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),t[3]=r,t[4]=i):i=t[4],t[5]!==l||t[6]!==e||t[7]!==i?(c=S.jsx(Oo,{className:i,...l,ref:e}),t[5]=l,t[6]=e,t[7]=i,t[8]=c):c=t[8],c});Gn.displayName=Oo.displayName;const xa=Hs("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Vn=we.forwardRef((n,e)=>{const t=F.c(15);let r,l,i,c;t[0]!==n?({side:c,className:l,children:r,...i}=n,t[0]=n,t[1]=r,t[2]=l,t[3]=i,t[4]=c):(r=t[1],l=t[2],i=t[3],c=t[4]);const u=c===void 0?"right":c;let g,f,v,w;return t[5]===Symbol.for("react.memo_cache_sentinel")?(g=S.jsx(Gn,{}),t[5]=g):g=t[5],t[6]!==l||t[7]!==u?(f=te(xa({side:u}),l),t[6]=l,t[7]=u,t[8]=f):f=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(v=S.jsxs(As,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[S.jsx(qs,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]}),t[9]=v):v=t[9],t[10]!==r||t[11]!==i||t[12]!==e||t[13]!==f?(w=S.jsx(wa,{children:S.jsxs(Ws,{children:[g,S.jsxs(jo,{ref:e,className:f,...i,children:[r,v]})]})}),t[10]=r,t[11]=i,t[12]=e,t[13]=f,t[14]=w):w=t[14],w});Vn.displayName=jo.displayName,we.forwardRef((n,e)=>{const t=F.c(9);let r,l,i,c;return t[0]!==n?({className:r,...l}=n,t[0]=n,t[1]=r,t[2]=l):(r=t[1],l=t[2]),t[3]!==r?(i=te("text-lg font-semibold text-foreground",r),t[3]=r,t[4]=i):i=t[4],t[5]!==l||t[6]!==e||t[7]!==i?(c=S.jsx(Eo,{ref:e,className:i,...l}),t[5]=l,t[6]=e,t[7]=i,t[8]=c):c=t[8],c}).displayName=Eo.displayName,we.forwardRef((n,e)=>{const t=F.c(9);let r,l,i,c;return t[0]!==n?({className:r,...l}=n,t[0]=n,t[1]=r,t[2]=l):(r=t[1],l=t[2]),t[3]!==r?(i=te("text-sm text-muted-foreground",r),t[3]=r,t[4]=i):i=t[4],t[5]!==l||t[6]!==e||t[7]!==i?(c=S.jsx(Do,{ref:e,className:i,...l}),t[5]=l,t[6]=e,t[7]=i,t[8]=c):c=t[8],c}).displayName=Do.displayName;const zt=Z.memo(()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Gs,{name:Co.SIDEBAR}),n[0]=e):e=n[0],e});zt.displayName="SidebarSlot";let Un,Yn,$n,Xn,Kn;Un=n=>{const e=F.c(6),{openWidth:t}=n;let r,l,i,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(va,{className:"lg:hidden",asChild:!0,children:S.jsx(ze,{variant:"ghost",className:"bg-background",children:S.jsx(gn,{className:"w-5 h-5"})})}),e[0]=r):r=e[0],e[1]!==t?(l={maxWidth:t},e[1]=t,e[2]=l):l=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(i=S.jsx(zt,{}),e[3]=i):i=e[3],e[4]!==l?(c=S.jsxs(ba,{children:[r,S.jsx(Vn,{className:"w-full px-3 h-full flex flex-col overflow-y-auto",style:l,side:"left",children:i})]}),e[4]=l,e[5]=c):c=e[5],c},Yn=n=>{const e=F.c(7),{isOpen:t,toggle:r}=n,l=t?"rotate-0":"rotate-180";let i,c,u;return e[0]!==l?(i=te("h-5 w-5 transition-transform ease-in-out duration-700",l),e[0]=l,e[1]=i):i=e[1],e[2]!==i?(c=S.jsx(Vs,{className:i}),e[2]=i,e[3]=c):c=e[3],e[4]!==c||e[5]!==r?(u=S.jsx("div",{className:"invisible lg:visible absolute top-[12px] right-[16px] z-20",children:S.jsx(ze,{onClick:r,className:"w-10 h-8",variant:"ghost",size:"icon",children:c})}),e[4]=c,e[5]=r,e[6]=u):u=e[6],u},$n=n=>{const e=F.c(11),{isOpen:t,toggle:r,width:l}=n,i=t?l:Us;let c,u,g,f,v;return e[0]!==i?(c={width:i},e[0]=i,e[1]=c):c=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(u=te("app-sidebar auto-collapse-nav","top-0 left-0 z-20 h-full hidden lg:block relative transition-[width] ease-in-out duration-300"),e[2]=u):u=e[2],e[3]!==t||e[4]!==r?(g=S.jsx(Yn,{isOpen:t,toggle:r}),e[3]=t,e[4]=r,e[5]=g):g=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx("div",{className:"relative h-full flex flex-col px-3 pb-16 pt-14 overflow-y-auto shadow-sm border-l",children:S.jsx(zt,{})}),e[6]=f):f=e[6],e[7]!==t||e[8]!==c||e[9]!==g?(v=S.jsxs("aside",{"data-expanded":t,style:c,className:u,children:[g,f]}),e[7]=t,e[8]=c,e[9]=g,e[10]=v):v=e[10],v},Xn=n=>{const e=F.c(15),{children:t}=n,[r,l]=ko(Ys),{isOpen:i,width:c}=r;if($s(Co.SIDEBAR).length===0)return t;let u;e[0]!==c?(u=Xs(c),e[0]=c,e[1]=u):u=e[1];const g=u;let f,v,w,a;return e[2]!==l||e[3]!==i?(f=()=>l({type:"toggle",isOpen:!i}),e[2]=l,e[3]=i,e[4]=f):f=e[4],e[5]!==i||e[6]!==g||e[7]!==f?(v=S.jsx($n,{isOpen:i,width:g,toggle:f}),e[5]=i,e[6]=g,e[7]=f,e[8]=v):v=e[8],e[9]!==g?(w=S.jsx("div",{className:"absolute top-3 left-4 flex items-center z-50",children:S.jsx(Un,{openWidth:g})}),e[9]=g,e[10]=w):w=e[10],e[11]!==t||e[12]!==v||e[13]!==w?(a=S.jsxs("div",{className:"inset-0 absolute flex",children:[v,w,t]}),e[11]=t,e[12]=v,e[13]=w,e[14]=a):a=e[14],a},Vo=n=>{const e=F.c(18),{width:t,connection:r,isRunning:l,children:i}=n,c=r.state;let u,g;e[0]!==l?(u=S.jsx(la,{isRunning:l}),e[0]=l,e[1]=u):u=e[1],e[2]!==r||e[3]!==l?(g=S.jsx(pa,{connection:r,isRunning:l}),e[2]=r,e[3]=l,e[4]=g):g=e[4];const f=c===Ee.CLOSED&&"disconnected",v=t==="full"&&"config-width-full",w=t==="columns"?"overflow-x-auto":"overflow-x-hidden";let a,o,s;return e[5]!==f||e[6]!==v||e[7]!==w?(a=te("mathjax_ignore",f,"bg-background w-full h-full text-textColor","flex flex-col overflow-y-auto",v,w,"print:height-fit"),e[5]=f,e[6]=v,e[7]=w,e[8]=a):a=e[8],e[9]!==i||e[10]!==c||e[11]!==a||e[12]!==t?(o=S.jsx(qn,{children:S.jsx(Xn,{children:S.jsx("div",{id:"App","data-config-width":t,"data-connection-state":c,className:a,children:i})})}),e[9]=i,e[10]=c,e[11]=a,e[12]=t,e[13]=o):o=e[13],e[14]!==u||e[15]!==g||e[16]!==o?(s=S.jsxs(S.Fragment,{children:[u,g,o]}),e[14]=u,e[15]=g,e[16]=o,e[17]=s):s=e[17],s},Kn=n=>{const e=F.c(10),{reason:t,canTakeover:r}=n,l=r!==void 0&&r,i=Sa;if(l){let u,g,f,v;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx("div",{className:"flex justify-between",children:S.jsx("span",{className:"font-bold text-xl flex items-center mb-2",children:"Notebook already connected"})}),e[0]=u):u=e[0],e[1]!==t?(g=S.jsx("span",{children:t}),e[1]=t,e[2]=g):g=e[2],e[3]!==l?(f=l&&S.jsxs(ze,{onClick:i,variant:"outline","data-testid":"takeover-button",className:"flex-shrink-0",children:[S.jsx(In,{className:"w-4 h-4 mr-2"}),"Take over session"]}),e[3]=l,e[4]=f):f=e[4],e[5]!==g||e[6]!==f?(v=S.jsx("div",{className:"flex justify-center",children:S.jsxs(Ks,{kind:"info",className:"mt-10 flex flex-col rounded p-3 max-w-[800px] mx-4",children:[u,S.jsxs("div",{className:"flex justify-between items-end text-base gap-20",children:[g,f]})]})}),e[5]=g,e[6]=f,e[7]=v):v=e[7],v}let c;return e[8]!==t?(c=S.jsx("div",{className:"font-mono text-center text-base text-[var(--red-11)]",children:S.jsx("p",{children:t})}),e[8]=t,e[9]=c):c=e[9],c};async function Sa(){try{const n=new URL(window.location.href).searchParams;await Qs.post(`/kernel/takeover?${n.toString()}`,{}),No()}catch(n){Qt({title:"Failed to take over session",description:Po(n),variant:"danger"})}}Ko=n=>{const e=F.c(8),{connection:t,className:r,children:l}=n;let i,c;return e[0]!==t.canTakeover||e[1]!==t.reason||e[2]!==t.state?(i=t.state===Ee.CLOSED&&S.jsx(Kn,{reason:t.reason,canTakeover:t.canTakeover}),e[0]=t.canTakeover,e[1]=t.reason,e[2]=t.state,e[3]=i):i=e[3],e[4]!==l||e[5]!==r||e[6]!==i?(c=S.jsxs("div",{className:r,children:[l,i]}),e[4]=l,e[5]=r,e[6]=i,e[7]=c):c=e[7],c};var Qn,Zn={exports:{}},Qe={},Jn={exports:{}};function Lt(){return Qn||(Qn=1,function(n){function e(W){return function(q,V,$,B,J,ie,re){return W(q,V,re)}}function t(W){return function(q,V,$,B){if(!q||!V||typeof q!="object"||typeof V!="object")return W(q,V,$,B);var J=B.get(q),ie=B.get(V);if(J&&ie)return J===V&&ie===q;B.set(q,V),B.set(V,q);var re=W(q,V,$,B);return B.delete(q),B.delete(V),re}}function r(W,q){var V={};for(var $ in W)V[$]=W[$];for(var $ in q)V[$]=q[$];return V}function l(W){return W.constructor===Object||W.constructor==null}function i(W){return typeof W.then=="function"}function c(W,q){return W===q||W!=W&&q!=q}var u="[object Arguments]",g="[object Boolean]",f="[object Date]",v="[object RegExp]",w="[object Map]",a="[object Number]",o="[object Object]",s="[object Set]",d="[object String]",h=Object.prototype.toString;function p(W){var q=W.areArraysEqual,V=W.areDatesEqual,$=W.areMapsEqual,B=W.areObjectsEqual,J=W.areRegExpsEqual,ie=W.areSetsEqual,re=(0,W.createIsNestedEqual)(le);function le(ee,K,ce){if(ee===K)return!0;if(!ee||!K||typeof ee!="object"||typeof K!="object")return ee!=ee&&K!=K;if(l(ee)&&l(K))return B(ee,K,re,ce);var ge=Array.isArray(ee),Ne=Array.isArray(K);if(ge||Ne)return ge===Ne&&q(ee,K,re,ce);var pe=h.call(ee);return pe===h.call(K)&&(pe===f?V(ee,K,re,ce):pe===v?J(ee,K,re,ce):pe===w?$(ee,K,re,ce):pe===s?ie(ee,K,re,ce):pe===o||pe===u?!i(ee)&&!i(K)&&B(ee,K,re,ce):(pe===g||pe===a||pe===d)&&c(ee.valueOf(),K.valueOf()))}return le}function b(W,q,V,$){var B=W.length;if(q.length!==B)return!1;for(;B-- >0;)if(!V(W[B],q[B],B,B,W,q,$))return!1;return!0}var _=t(b);function E(W,q){return c(W.valueOf(),q.valueOf())}function R(W,q,V,$){var B=W.size===q.size;if(!B)return!1;if(!W.size)return!0;var J={},ie=0;return W.forEach(function(re,le){if(B){var ee=!1,K=0;q.forEach(function(ce,ge){ee||J[K]||!(ee=V(le,ge,ie,K,W,q,$)&&V(re,ce,le,ge,W,q,$))||(J[K]=!0),K++}),ie++,B=ee}}),B}var M=t(R),T="_owner",z=Object.prototype.hasOwnProperty;function j(W,q,V,$){var B,J=Object.keys(W),ie=J.length;if(Object.keys(q).length!==ie)return!1;for(;ie-- >0;){if((B=J[ie])===T){var re=!!W.$$typeof,le=!!q.$$typeof;if((re||le)&&re!==le)return!1}if(!z.call(q,B)||!V(W[B],q[B],B,B,W,q,$))return!1}return!0}var C=t(j);function D(W,q){return W.source===q.source&&W.flags===q.flags}function N(W,q,V,$){var B=W.size===q.size;if(!B)return!1;if(!W.size)return!0;var J={};return W.forEach(function(ie,re){if(B){var le=!1,ee=0;q.forEach(function(K,ce){le||J[ee]||!(le=V(ie,K,re,ce,W,q,$))||(J[ee]=!0),ee++}),B=le}}),B}var k=t(N),L=Object.freeze({areArraysEqual:b,areDatesEqual:E,areMapsEqual:R,areObjectsEqual:j,areRegExpsEqual:D,areSetsEqual:N,createIsNestedEqual:e}),m=Object.freeze({areArraysEqual:_,areDatesEqual:E,areMapsEqual:M,areObjectsEqual:C,areRegExpsEqual:D,areSetsEqual:k,createIsNestedEqual:e}),y=p(L);function x(W,q){return y(W,q,void 0)}var O=p(r(L,{createIsNestedEqual:function(){return c}}));function I(W,q){return O(W,q,void 0)}var P=p(m);function H(W,q){return P(W,q,new WeakMap)}var A=p(r(m,{createIsNestedEqual:function(){return c}}));function G(W,q){return A(W,q,new WeakMap)}function Y(W){return p(r(L,W(L)))}function se(W){var q=p(r(m,W(m)));return function(V,$,B){return B===void 0&&(B=new WeakMap),q(V,$,B)}}n.circularDeepEqual=H,n.circularShallowEqual=G,n.createCustomCircularEqual=se,n.createCustomEqual=Y,n.deepEqual=x,n.sameValueZeroEqual=c,n.shallowEqual=I,Object.defineProperty(n,"__esModule",{value:!0})}(Jn.exports)),Jn.exports}var er,pt={exports:{}};function It(){if(er)return pt.exports;function n(t){var r,l,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(r=0;r<c;r++)t[r]&&(l=n(t[r]))&&(i&&(i+=" "),i+=l)}else for(l in t)t[l]&&(i&&(i+=" "),i+=l);return i}function e(){for(var t,r,l=0,i="",c=arguments.length;l<c;l++)(t=arguments[l])&&(r=n(t))&&(i&&(i+=" "),i+=r);return i}return er=1,pt.exports=e,pt.exports.clsx=e,pt.exports}var tr,nr,rr,X={};function Ve(){if(rr)return X;rr=1,Object.defineProperty(X,"__esModule",{value:!0}),X.bottom=r,X.childrenEqual=function(m,y){return(0,e.deepEqual)(t.default.Children.map(m,x=>x==null?void 0:x.key),t.default.Children.map(y,x=>x==null?void 0:x.key))&&(0,e.deepEqual)(t.default.Children.map(m,x=>x==null?void 0:x.props["data-grid"]),t.default.Children.map(y,x=>x==null?void 0:x.props["data-grid"]))},X.cloneLayout=l,X.cloneLayoutItem=c,X.collides=u,X.compact=g,X.compactItem=w,X.compactType=function(m){const{verticalCompact:y,compactType:x}=m||{};return y===!1?null:x},X.correctBounds=a,X.fastPositionEqual=function(m,y){return m.left===y.left&&m.top===y.top&&m.width===y.width&&m.height===y.height},X.fastRGLPropsEqual=void 0,X.getAllCollisions=d,X.getFirstCollision=s,X.getLayoutItem=o,X.getStatics=h,X.modifyLayout=i,X.moveElement=p,X.moveElementAwayFromCollision=b,X.noop=void 0,X.perc=function(m){return 100*m+"%"},X.resizeItemInDirection=function(m,y,x,O){const I=D[m];return I?I(y,{...y,...x},O):x},X.setTopLeft=function(m){let{top:y,left:x,width:O,height:I}=m;return{top:`${y}px`,left:`${x}px`,width:`${O}px`,height:`${I}px`,position:"absolute"}},X.setTransform=function(m){let{top:y,left:x,width:O,height:I}=m;const P=`translate(${x}px,${y}px)`;return{transform:P,WebkitTransform:P,MozTransform:P,msTransform:P,OTransform:P,width:`${O}px`,height:`${I}px`,position:"absolute"}},X.sortLayoutItems=N,X.sortLayoutItemsByColRow=L,X.sortLayoutItemsByRowCol=k,X.synchronizeLayoutWithChildren=function(m,y,x,O,I){m=m||[];const P=[];t.default.Children.forEach(y,A=>{if((A==null?void 0:A.key)==null)return;const G=o(m,String(A.key)),Y=A.props["data-grid"];G&&Y==null?P.push(c(G)):Y?P.push(c({...Y,i:A.key})):P.push(c({w:1,h:1,x:0,y:r(P),i:String(A.key)}))});const H=a(P,{cols:x});return I?H:g(H,O,x)},X.validateLayout=function(m){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const x=["x","y","w","h"];if(!Array.isArray(m))throw new Error(y+" must be an array!");for(let O=0,I=m.length;O<I;O++){const P=m[O];for(let H=0;H<x.length;H++){const A=x[H],G=P[A];if(typeof G!="number"||Number.isNaN(G))throw new Error(`ReactGridLayout: ${y}[${O}].${A} must be a number! Received: ${G} (${typeof G})`)}if(P.i!==void 0&&typeof P.i!="string")throw new Error(`ReactGridLayout: ${y}[${O}].i must be a string! Received: ${P.i} (${typeof P.i})`)}},X.withLayoutItem=function(m,y,x){let O=o(m,y);return O?(O=x(c(O)),[m=i(m,O),O]):[m,null]};var n,e=Lt(),t=(n=Se())&&n.__esModule?n:{default:n};function r(m){let y,x=0;for(let O=0,I=m.length;O<I;O++)y=m[O].y+m[O].h,y>x&&(x=y);return x}function l(m){const y=Array(m.length);for(let x=0,O=m.length;x<O;x++)y[x]=c(m[x]);return y}function i(m,y){const x=Array(m.length);for(let O=0,I=m.length;O<I;O++)y.i===m[O].i?x[O]=y:x[O]=m[O];return x}function c(m){return{w:m.w,h:m.h,x:m.x,y:m.y,i:m.i,minW:m.minW,maxW:m.maxW,minH:m.minH,maxH:m.maxH,moved:!!m.moved,static:!!m.static,isDraggable:m.isDraggable,isResizable:m.isResizable,resizeHandles:m.resizeHandles,isBounded:m.isBounded}}function u(m,y){return m.i!==y.i&&!(m.x+m.w<=y.x)&&!(m.x>=y.x+y.w)&&!(m.y+m.h<=y.y)&&!(m.y>=y.y+y.h)}function g(m,y,x,O){const I=h(m),P=N(m,y),H=Array(m.length);for(let A=0,G=P.length;A<G;A++){let Y=c(P[A]);Y.static||(Y=w(I,Y,y,x,P,O),I.push(Y)),H[m.indexOf(P[A])]=Y,Y.moved=!1}return H}X.fastRGLPropsEqual=nr?tr:(nr=1,tr=function(m,y,x){return m===y||m.className===y.className&&x(m.style,y.style)&&m.width===y.width&&m.autoSize===y.autoSize&&m.cols===y.cols&&m.draggableCancel===y.draggableCancel&&m.draggableHandle===y.draggableHandle&&x(m.verticalCompact,y.verticalCompact)&&x(m.compactType,y.compactType)&&x(m.layout,y.layout)&&x(m.margin,y.margin)&&x(m.containerPadding,y.containerPadding)&&m.rowHeight===y.rowHeight&&m.maxRows===y.maxRows&&m.isBounded===y.isBounded&&m.isDraggable===y.isDraggable&&m.isResizable===y.isResizable&&m.allowOverlap===y.allowOverlap&&m.preventCollision===y.preventCollision&&m.useCSSTransforms===y.useCSSTransforms&&m.transformScale===y.transformScale&&m.isDroppable===y.isDroppable&&x(m.resizeHandles,y.resizeHandles)&&x(m.resizeHandle,y.resizeHandle)&&m.onLayoutChange===y.onLayoutChange&&m.onDragStart===y.onDragStart&&m.onDrag===y.onDrag&&m.onDragStop===y.onDragStop&&m.onResizeStart===y.onResizeStart&&m.onResize===y.onResize&&m.onResizeStop===y.onResizeStop&&m.onDrop===y.onDrop&&x(m.droppingItem,y.droppingItem)&&x(m.innerRef,y.innerRef)});const f={x:"w",y:"h"};function v(m,y,x,O){const I=f[O];y[O]+=1;for(let P=m.map(H=>H.i).indexOf(y.i)+1;P<m.length;P++){const H=m[P];if(!H.static){if(H.y>y.y+y.h)break;u(y,H)&&v(m,H,x+y[I],O)}}y[O]=x}function w(m,y,x,O,I,P){const H=x==="horizontal";if(x==="vertical")for(y.y=Math.min(r(m),y.y);y.y>0&&!s(m,y);)y.y--;else if(H)for(;y.x>0&&!s(m,y);)y.x--;let A;for(;(A=s(m,y))&&(x!==null||!P);)if(H?v(I,y,A.x+A.w,"x"):v(I,y,A.y+A.h,"y"),H&&y.x+y.w>O)for(y.x=O-y.w,y.y++;y.x>0&&!s(m,y);)y.x--;return y.y=Math.max(y.y,0),y.x=Math.max(y.x,0),y}function a(m,y){const x=h(m);for(let O=0,I=m.length;O<I;O++){const P=m[O];if(P.x+P.w>y.cols&&(P.x=y.cols-P.w),P.x<0&&(P.x=0,P.w=y.cols),P.static)for(;s(x,P);)P.y++;else x.push(P)}return m}function o(m,y){for(let x=0,O=m.length;x<O;x++)if(m[x].i===y)return m[x]}function s(m,y){for(let x=0,O=m.length;x<O;x++)if(u(m[x],y))return m[x]}function d(m,y){return m.filter(x=>u(x,y))}function h(m){return m.filter(y=>y.static)}function p(m,y,x,O,I,P,H,A,G){if(y.static&&y.isDraggable!==!0||y.y===O&&y.x===x)return m;y.i,String(x),String(O),y.x,y.y;const Y=y.x,se=y.y;typeof x=="number"&&(y.x=x),typeof O=="number"&&(y.y=O),y.moved=!0;let W=N(m,H);(H==="vertical"&&typeof O=="number"?se>=O:H==="horizontal"&&typeof x=="number"&&Y>=x)&&(W=W.reverse());const q=d(W,y),V=q.length>0;if(V&&G)return l(m);if(V&&P)return y.i,y.x=Y,y.y=se,y.moved=!1,m;for(let $=0,B=q.length;$<B;$++){const J=q[$];y.i,y.x,y.y,J.i,J.x,J.y,J.moved||(m=J.static?b(m,J,y,I,H):b(m,y,J,I,H))}return m}function b(m,y,x,O,I,P){const H=I==="horizontal",A=I==="vertical",G=y.static;if(O){O=!1;const W={x:H?Math.max(y.x-x.w,0):x.x,y:A?Math.max(y.y-x.h,0):x.y,w:x.w,h:x.h,i:"-1"},q=s(m,W),V=q&&q.y+q.h>y.y,$=q&&y.x+y.w>q.x;if(!q)return x.i,W.x,W.y,p(m,x,H?W.x:void 0,A?W.y:void 0,O,G,I);if(V&&A)return p(m,x,void 0,y.y+1,O,G,I);if(V&&I==null)return y.y=x.y,x.y=x.y+x.h,m;if($&&H)return p(m,y,x.x,void 0,O,G,I)}const Y=H?x.x+1:void 0,se=A?x.y+1:void 0;return Y==null&&se==null?m:p(m,x,H?x.x+1:void 0,A?x.y+1:void 0,O,G,I)}const _=(m,y,x,O)=>m+x>O?y:x,E=(m,y,x)=>m<0?y:x,R=m=>Math.max(0,m),M=m=>Math.max(0,m),T=(m,y,x)=>{let{left:O,height:I,width:P}=y;const H=m.top-(I-m.height);return{left:O,width:P,height:E(H,m.height,I),top:M(H)}},z=(m,y,x)=>{let{top:O,left:I,height:P,width:H}=y;return{top:O,height:P,width:_(m.left,m.width,H,x),left:R(I)}},j=(m,y,x)=>{let{top:O,height:I,width:P}=y;const H=m.left-(P-m.width);return{height:I,width:H<0?m.width:_(m.left,m.width,P,x),top:M(O),left:R(H)}},C=(m,y,x)=>{let{top:O,left:I,height:P,width:H}=y;return{width:H,left:I,height:E(O,m.height,P),top:M(O)}},D={n:T,ne:function(){return T(arguments.length<=0?void 0:arguments[0],z(...arguments))},e:z,se:function(){return C(arguments.length<=0?void 0:arguments[0],z(...arguments))},s:C,sw:function(){return C(arguments.length<=0?void 0:arguments[0],j(...arguments))},w:j,nw:function(){return T(arguments.length<=0?void 0:arguments[0],j(...arguments))}};function N(m,y){return y==="horizontal"?L(m):y==="vertical"?k(m):m}function k(m){return m.slice(0).sort(function(y,x){return y.y>x.y||y.y===x.y&&y.x>x.x?1:y.y===x.y&&y.x===x.x?0:-1})}function L(m){return m.slice(0).sort(function(y,x){return y.x>x.x||y.x===x.x&&y.y>x.y?1:-1})}return X.noop=()=>{},X}var or,Ce={};function Ht(){if(or)return Ce;function n(r){const{margin:l,containerPadding:i,containerWidth:c,cols:u}=r;return(c-l[0]*(u-1)-2*i[0])/u}function e(r,l,i){return Number.isFinite(r)?Math.round(l*r+Math.max(0,r-1)*i):r}function t(r,l,i){return Math.max(Math.min(r,i),l)}return or=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.calcGridColWidth=n,Ce.calcGridItemPosition=function(r,l,i,c,u,g){const{margin:f,containerPadding:v,rowHeight:w}=r,a=n(r),o={};return g&&g.resizing?(o.width=Math.round(g.resizing.width),o.height=Math.round(g.resizing.height)):(o.width=e(c,a,f[0]),o.height=e(u,w,f[1])),g&&g.dragging?(o.top=Math.round(g.dragging.top),o.left=Math.round(g.dragging.left)):g&&g.resizing&&typeof g.resizing.top=="number"&&typeof g.resizing.left=="number"?(o.top=Math.round(g.resizing.top),o.left=Math.round(g.resizing.left)):(o.top=Math.round((w+f[1])*i+v[1]),o.left=Math.round((a+f[0])*l+v[0])),o},Ce.calcGridItemWHPx=e,Ce.calcWH=function(r,l,i,c,u,g){const{margin:f,maxRows:v,cols:w,rowHeight:a}=r,o=n(r);let s=Math.round((l+f[0])/(o+f[0])),d=Math.round((i+f[1])/(a+f[1])),h=t(s,0,w-c),p=t(d,0,v-u);return["sw","w","nw"].indexOf(g)!==-1&&(h=t(s,0,w)),["nw","n","ne"].indexOf(g)!==-1&&(p=t(d,0,v)),{w:h,h:p}},Ce.calcXY=function(r,l,i,c,u){const{margin:g,containerPadding:f,cols:v,rowHeight:w,maxRows:a}=r,o=n(r);let s=Math.round((i-f[0])/(o+g[0])),d=Math.round((l-f[1])/(w+g[1]));return s=t(s,0,v-c),d=t(d,0,a-u),{x:s,y:d}},Ce.clamp=t,Ce}var Ze={},Je={exports:{}},ar={};function sr(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=sr(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function ir(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=sr(n))&&(r&&(r+=" "),r+=e);return r}const _a=Ro(Object.freeze(Object.defineProperty({__proto__:null,clsx:ir,default:ir},Symbol.toStringTag,{value:"Module"})));var lr,ae={},Ie={};function ht(){return lr||(lr=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.dontSetMe=function(n,e,t){if(n[e])return new Error("Invalid prop ".concat(e," passed to ").concat(t," - do not set this, set it on the child."))},Ie.findInArray=function(n,e){for(var t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]},Ie.int=function(n){return parseInt(n,10)},Ie.isFunction=function(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"},Ie.isNum=function(n){return typeof n=="number"&&!isNaN(n)}),Ie}var cr,ur,He={};function Wt(){if(ur)return ae;function n(a){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n(a)}ur=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.addClassName=v,ae.addEvent=function(a,o,s,d){if(a){var h=i({capture:!0},d);a.addEventListener?a.addEventListener(o,s,h):a.attachEvent?a.attachEvent("on"+o,s):a["on"+o]=s}},ae.addUserSelectStyles=function(a){if(a){var o=a.getElementById("react-draggable-style-el");o||((o=a.createElement("style")).type="text/css",o.id="react-draggable-style-el",o.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,o.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,a.getElementsByTagName("head")[0].appendChild(o)),a.body&&v(a.body,"react-draggable-transparent-selection")}},ae.createCSSTransform=function(a,o){var s=f(a,o,"px");return c({},(0,t.browserPrefixToKey)("transform",t.default),s)},ae.createSVGTransform=function(a,o){return f(a,o,"")},ae.getTouch=function(a,o){return a.targetTouches&&(0,e.findInArray)(a.targetTouches,function(s){return o===s.identifier})||a.changedTouches&&(0,e.findInArray)(a.changedTouches,function(s){return o===s.identifier})},ae.getTouchIdentifier=function(a){if(a.targetTouches&&a.targetTouches[0])return a.targetTouches[0].identifier;if(a.changedTouches&&a.changedTouches[0])return a.changedTouches[0].identifier},ae.getTranslation=f,ae.innerHeight=function(a){var o=a.clientHeight,s=a.ownerDocument.defaultView.getComputedStyle(a);return o-=(0,e.int)(s.paddingTop),o-=(0,e.int)(s.paddingBottom)},ae.innerWidth=function(a){var o=a.clientWidth,s=a.ownerDocument.defaultView.getComputedStyle(a);return o-=(0,e.int)(s.paddingLeft),o-=(0,e.int)(s.paddingRight)},ae.matchesSelector=g,ae.matchesSelectorAndParentsTo=function(a,o,s){var d=a;do{if(g(d,o))return!0;if(d===s)return!1;d=d.parentNode}while(d);return!1},ae.offsetXYFromParent=function(a,o,s){var d=o===o.ownerDocument.body?{left:0,top:0}:o.getBoundingClientRect(),h=(a.clientX+o.scrollLeft-d.left)/s,p=(a.clientY+o.scrollTop-d.top)/s;return{x:h,y:p}},ae.outerHeight=function(a){var o=a.clientHeight,s=a.ownerDocument.defaultView.getComputedStyle(a);return o+=(0,e.int)(s.borderTopWidth),o+=(0,e.int)(s.borderBottomWidth)},ae.outerWidth=function(a){var o=a.clientWidth,s=a.ownerDocument.defaultView.getComputedStyle(a);return o+=(0,e.int)(s.borderLeftWidth),o+=(0,e.int)(s.borderRightWidth)},ae.removeClassName=w,ae.removeEvent=function(a,o,s,d){if(a){var h=i({capture:!0},d);a.removeEventListener?a.removeEventListener(o,s,h):a.detachEvent?a.detachEvent("on"+o,s):a["on"+o]=null}},ae.removeUserSelectStyles=function(a){if(a)try{if(a.body&&w(a.body,"react-draggable-transparent-selection"),a.selection)a.selection.empty();else{var o=(a.defaultView||window).getSelection();o&&o.type!=="Caret"&&o.removeAllRanges()}}catch{}};var e=ht(),t=function(a,o){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var s=r(o);if(s&&s.has(a))return s.get(a);var d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if(p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)){var b=h?Object.getOwnPropertyDescriptor(a,p):null;b&&(b.get||b.set)?Object.defineProperty(d,p,b):d[p]=a[p]}return d.default=a,s&&s.set(a,d),d}(function(){if(cr)return He;cr=1,Object.defineProperty(He,"__esModule",{value:!0}),He.browserPrefixToKey=s,He.browserPrefixToStyle=function(h,p){return p?"-".concat(p.toLowerCase(),"-").concat(h):h},He.default=void 0,He.getPrefix=o;var a=["Moz","Webkit","O","ms"];function o(){var h,p,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var _=(h=window.document)===null||h===void 0||(p=h.documentElement)===null||p===void 0?void 0:p.style;if(!_||b in _)return"";for(var E=0;E<a.length;E++)if(s(b,a[E])in _)return a[E];return""}function s(h,p){return p?"".concat(p).concat(function(b){for(var _="",E=!0,R=0;R<b.length;R++)E?(_+=b[R].toUpperCase(),E=!1):b[R]==="-"?E=!0:_+=b[R];return _}(h)):h}var d=o();return He.default=d,He}());function r(a){if(typeof WeakMap!="function")return null;var o=new WeakMap,s=new WeakMap;return(r=function(d){return d?s:o})(a)}function l(a,o){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);o&&(d=d.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),s.push.apply(s,d)}return s}function i(a){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?l(Object(s),!0).forEach(function(d){c(a,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(s,d))})}return a}function c(a,o,s){return o in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,a}var u="";function g(a,o){return u||(u=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(s){return(0,e.isFunction)(a[s])})),!!(0,e.isFunction)(a[u])&&a[u](o)}function f(a,o,s){var d=a.x,h=a.y,p="translate(".concat(d).concat(s,",").concat(h).concat(s,")");if(o){var b="".concat(typeof o.x=="string"?o.x:o.x+s),_="".concat(typeof o.y=="string"?o.y:o.y+s);p="translate(".concat(b,", ").concat(_,")")+p}return p}function v(a,o){a.classList?a.classList.add(o):a.className.match(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)")))||(a.className+=" ".concat(o))}function w(a,o){a.classList?a.classList.remove(o):a.className=a.className.replace(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)"),"g"),"")}return ae}var dr,Oe={};function fr(){if(dr)return Oe;dr=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.canDragX=function(r){return r.props.axis==="both"||r.props.axis==="x"},Oe.canDragY=function(r){return r.props.axis==="both"||r.props.axis==="y"},Oe.createCoreData=function(r,l,i){var c=r.state,u=!(0,n.isNum)(c.lastX),g=t(r);return u?{node:g,deltaX:0,deltaY:0,lastX:l,lastY:i,x:l,y:i}:{node:g,deltaX:l-c.lastX,deltaY:i-c.lastY,lastX:c.lastX,lastY:c.lastY,x:l,y:i}},Oe.createDraggableData=function(r,l){var i=r.props.scale;return{node:l.node,x:r.state.x+l.deltaX/i,y:r.state.y+l.deltaY/i,deltaX:l.deltaX/i,deltaY:l.deltaY/i,lastX:r.state.x,lastY:r.state.y}},Oe.getBoundPosition=function(r,l,i){if(!r.props.bounds)return[l,i];var c=r.props.bounds;c=typeof c=="string"?c:function(s){return{left:s.left,top:s.top,right:s.right,bottom:s.bottom}}(c);var u=t(r);if(typeof c=="string"){var g,f=u.ownerDocument,v=f.defaultView;if(!((g=c==="parent"?u.parentNode:f.querySelector(c))instanceof v.HTMLElement))throw new Error('Bounds selector "'+c+'" could not find an element.');var w=g,a=v.getComputedStyle(u),o=v.getComputedStyle(w);c={left:-u.offsetLeft+(0,n.int)(o.paddingLeft)+(0,n.int)(a.marginLeft),top:-u.offsetTop+(0,n.int)(o.paddingTop)+(0,n.int)(a.marginTop),right:(0,e.innerWidth)(w)-(0,e.outerWidth)(u)-u.offsetLeft+(0,n.int)(o.paddingRight)-(0,n.int)(a.marginRight),bottom:(0,e.innerHeight)(w)-(0,e.outerHeight)(u)-u.offsetTop+(0,n.int)(o.paddingBottom)-(0,n.int)(a.marginBottom)}}return(0,n.isNum)(c.right)&&(l=Math.min(l,c.right)),(0,n.isNum)(c.bottom)&&(i=Math.min(i,c.bottom)),(0,n.isNum)(c.left)&&(l=Math.max(l,c.left)),(0,n.isNum)(c.top)&&(i=Math.max(i,c.top)),[l,i]},Oe.getControlPosition=function(r,l,i){var c=typeof l=="number"?(0,e.getTouch)(r,l):null;if(typeof l=="number"&&!c)return null;var u=t(i),g=i.props.offsetParent||u.offsetParent||u.ownerDocument.body;return(0,e.offsetXYFromParent)(c||r,g,i.props.scale)},Oe.snapToGrid=function(r,l,i){var c=Math.round(l/r[0])*r[0],u=Math.round(i/r[1])*r[1];return[c,u]};var n=ht(),e=Wt();function t(r){var l=r.findDOMNode();if(!l)throw new Error("<DraggableCore>: Unmounted during event!");return l}return Oe}var pr,hr,mr,gr,et={},mt={};function yr(){return pr||(pr=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=function(){}),mt}function Oa(){if(hr)return et;function n(M){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},n(M)}hr=1,Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var e=function(M,T){if(M&&M.__esModule)return M;if(M===null||n(M)!=="object"&&typeof M!="function")return{default:M};var z=f(T);if(z&&z.has(M))return z.get(M);var j={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in M)if(D!=="default"&&Object.prototype.hasOwnProperty.call(M,D)){var N=C?Object.getOwnPropertyDescriptor(M,D):null;N&&(N.get||N.set)?Object.defineProperty(j,D,N):j[D]=M[D]}return j.default=M,z&&z.set(M,j),j}(Se()),t=g(qe()),r=g(Zt()),l=Wt(),i=fr(),c=ht(),u=g(yr());function g(M){return M&&M.__esModule?M:{default:M}}function f(M){if(typeof WeakMap!="function")return null;var T=new WeakMap,z=new WeakMap;return(f=function(j){return j?z:T})(M)}function v(M,T){return function(z){if(Array.isArray(z))return z}(M)||function(z,j){var C=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(C!=null){var D,N,k=[],L=!0,m=!1;try{for(C=C.call(z);!(L=(D=C.next()).done)&&(k.push(D.value),!j||k.length!==j);L=!0);}catch(y){m=!0,N=y}finally{try{L||C.return==null||C.return()}finally{if(m)throw N}}return k}}(M,T)||function(z,j){if(z){if(typeof z=="string")return w(z,j);var C=Object.prototype.toString.call(z).slice(8,-1);if(C==="Object"&&z.constructor&&(C=z.constructor.name),C==="Map"||C==="Set")return Array.from(z);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return w(z,j)}}(M,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(M,T){(T==null||T>M.length)&&(T=M.length);for(var z=0,j=new Array(T);z<T;z++)j[z]=M[z];return j}function a(M,T,z){return T&&function(j,C){for(var D=0;D<C.length;D++){var N=C[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(j,N.key,N)}}(M.prototype,T),Object.defineProperty(M,"prototype",{writable:!1}),M}function o(M,T){return o=Object.setPrototypeOf||function(z,j){return z.__proto__=j,z},o(M,T)}function s(M){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,j=h(M);if(T){var C=h(this).constructor;z=Reflect.construct(j,arguments,C)}else z=j.apply(this,arguments);return function(D,N){if(N&&(n(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(D)}(this,z)}}function d(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function h(M){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},h(M)}function p(M,T,z){return T in M?Object.defineProperty(M,T,{value:z,enumerable:!0,configurable:!0,writable:!0}):M[T]=z,M}var b={start:"touchstart",move:"touchmove",stop:"touchend"},_={start:"mousedown",move:"mousemove",stop:"mouseup"},E=_,R=function(M){(function(j,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(C&&C.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),C&&o(j,C)})(z,M);var T=s(z);function z(){var j;(function(k,L){if(!(k instanceof L))throw new TypeError("Cannot call a class as a function")})(this,z);for(var C=arguments.length,D=new Array(C),N=0;N<C;N++)D[N]=arguments[N];return p(d(j=T.call.apply(T,[this].concat(D))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),p(d(j),"mounted",!1),p(d(j),"handleDragStart",function(k){if(j.props.onMouseDown(k),!j.props.allowAnyClick&&typeof k.button=="number"&&k.button!==0)return!1;var L=j.findDOMNode();if(!L||!L.ownerDocument||!L.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var m=L.ownerDocument;if(!(j.props.disabled||!(k.target instanceof m.defaultView.Node)||j.props.handle&&!(0,l.matchesSelectorAndParentsTo)(k.target,j.props.handle,L)||j.props.cancel&&(0,l.matchesSelectorAndParentsTo)(k.target,j.props.cancel,L))){k.type==="touchstart"&&k.preventDefault();var y=(0,l.getTouchIdentifier)(k);j.setState({touchIdentifier:y});var x=(0,i.getControlPosition)(k,y,d(j));if(x!=null){var O=x.x,I=x.y,P=(0,i.createCoreData)(d(j),O,I);(0,u.default)("DraggableCore: handleDragStart: %j",P),(0,u.default)("calling",j.props.onStart),j.props.onStart(k,P)!==!1&&j.mounted!==!1&&(j.props.enableUserSelectHack&&(0,l.addUserSelectStyles)(m),j.setState({dragging:!0,lastX:O,lastY:I}),(0,l.addEvent)(m,E.move,j.handleDrag),(0,l.addEvent)(m,E.stop,j.handleDragStop))}}}),p(d(j),"handleDrag",function(k){var L=(0,i.getControlPosition)(k,j.state.touchIdentifier,d(j));if(L!=null){var m=L.x,y=L.y;if(Array.isArray(j.props.grid)){var x=m-j.state.lastX,O=y-j.state.lastY,I=v((0,i.snapToGrid)(j.props.grid,x,O),2);if(x=I[0],O=I[1],!x&&!O)return;m=j.state.lastX+x,y=j.state.lastY+O}var P=(0,i.createCoreData)(d(j),m,y);if((0,u.default)("DraggableCore: handleDrag: %j",P),j.props.onDrag(k,P)!==!1&&j.mounted!==!1)j.setState({lastX:m,lastY:y});else try{j.handleDragStop(new MouseEvent("mouseup"))}catch{var H=document.createEvent("MouseEvents");H.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),j.handleDragStop(H)}}}),p(d(j),"handleDragStop",function(k){if(j.state.dragging){var L=(0,i.getControlPosition)(k,j.state.touchIdentifier,d(j));if(L!=null){var m=L.x,y=L.y;if(Array.isArray(j.props.grid)){var x=m-j.state.lastX||0,O=y-j.state.lastY||0,I=v((0,i.snapToGrid)(j.props.grid,x,O),2);x=I[0],O=I[1],m=j.state.lastX+x,y=j.state.lastY+O}var P=(0,i.createCoreData)(d(j),m,y);if(j.props.onStop(k,P)===!1||j.mounted===!1)return!1;var H=j.findDOMNode();H&&j.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(H.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",P),j.setState({dragging:!1,lastX:NaN,lastY:NaN}),H&&((0,u.default)("DraggableCore: Removing handlers"),(0,l.removeEvent)(H.ownerDocument,E.move,j.handleDrag),(0,l.removeEvent)(H.ownerDocument,E.stop,j.handleDragStop))}}}),p(d(j),"onMouseDown",function(k){return E=_,j.handleDragStart(k)}),p(d(j),"onMouseUp",function(k){return E=_,j.handleDragStop(k)}),p(d(j),"onTouchStart",function(k){return E=b,j.handleDragStart(k)}),p(d(j),"onTouchEnd",function(k){return E=b,j.handleDragStop(k)}),j}return a(z,[{key:"componentDidMount",value:function(){this.mounted=!0;var j=this.findDOMNode();j&&(0,l.addEvent)(j,b.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var j=this.findDOMNode();if(j){var C=j.ownerDocument;(0,l.removeEvent)(C,_.move,this.handleDrag),(0,l.removeEvent)(C,b.move,this.handleDrag),(0,l.removeEvent)(C,_.stop,this.handleDragStop),(0,l.removeEvent)(C,b.stop,this.handleDragStop),(0,l.removeEvent)(j,b.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(C)}}},{key:"findDOMNode",value:function(){var j,C,D;return(j=this.props)!==null&&j!==void 0&&j.nodeRef?(C=this.props)===null||C===void 0||(D=C.nodeRef)===null||D===void 0?void 0:D.current:r.default.findDOMNode(this)}},{key:"render",value:function(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),z}(e.Component);return et.default=R,p(R,"displayName","DraggableCore"),p(R,"propTypes",{allowAnyClick:t.default.bool,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(M,T){if(M[T]&&M[T].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),p(R,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),et}function ja(){return mr||(mr=1,function(n){function e(D){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},e(D)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),n.default=void 0;var t=function(D,N){if(D&&D.__esModule)return D;if(D===null||e(D)!=="object"&&typeof D!="function")return{default:D};var k=o(N);if(k&&k.has(D))return k.get(D);var L={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in D)if(y!=="default"&&Object.prototype.hasOwnProperty.call(D,y)){var x=m?Object.getOwnPropertyDescriptor(D,y):null;x&&(x.get||x.set)?Object.defineProperty(L,y,x):L[y]=D[y]}return L.default=D,k&&k.set(D,L),L}(Se()),r=a(qe()),l=a(Zt()),i=a(_a),c=Wt(),u=fr(),g=ht(),f=a(Oa()),v=a(yr()),w=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function a(D){return D&&D.__esModule?D:{default:D}}function o(D){if(typeof WeakMap!="function")return null;var N=new WeakMap,k=new WeakMap;return(o=function(L){return L?k:N})(D)}function s(){return s=Object.assign||function(D){for(var N=1;N<arguments.length;N++){var k=arguments[N];for(var L in k)Object.prototype.hasOwnProperty.call(k,L)&&(D[L]=k[L])}return D},s.apply(this,arguments)}function d(D,N){if(D==null)return{};var k,L,m=function(x,O){if(x==null)return{};var I,P,H={},A=Object.keys(x);for(P=0;P<A.length;P++)I=A[P],O.indexOf(I)>=0||(H[I]=x[I]);return H}(D,N);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(D);for(L=0;L<y.length;L++)k=y[L],N.indexOf(k)>=0||Object.prototype.propertyIsEnumerable.call(D,k)&&(m[k]=D[k])}return m}function h(D,N){var k=Object.keys(D);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(D);N&&(L=L.filter(function(m){return Object.getOwnPropertyDescriptor(D,m).enumerable})),k.push.apply(k,L)}return k}function p(D){for(var N=1;N<arguments.length;N++){var k=arguments[N]!=null?arguments[N]:{};N%2?h(Object(k),!0).forEach(function(L){j(D,L,k[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(k)):h(Object(k)).forEach(function(L){Object.defineProperty(D,L,Object.getOwnPropertyDescriptor(k,L))})}return D}function b(D,N){return function(k){if(Array.isArray(k))return k}(D)||function(k,L){var m=k==null?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(m!=null){var y,x,O=[],I=!0,P=!1;try{for(m=m.call(k);!(I=(y=m.next()).done)&&(O.push(y.value),!L||O.length!==L);I=!0);}catch(H){P=!0,x=H}finally{try{I||m.return==null||m.return()}finally{if(P)throw x}}return O}}(D,N)||function(k,L){if(k){if(typeof k=="string")return _(k,L);var m=Object.prototype.toString.call(k).slice(8,-1);if(m==="Object"&&k.constructor&&(m=k.constructor.name),m==="Map"||m==="Set")return Array.from(k);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return _(k,L)}}(D,N)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _(D,N){(N==null||N>D.length)&&(N=D.length);for(var k=0,L=new Array(N);k<N;k++)L[k]=D[k];return L}function E(D,N){for(var k=0;k<N.length;k++){var L=N[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,L.key,L)}}function R(D,N){return R=Object.setPrototypeOf||function(k,L){return k.__proto__=L,k},R(D,N)}function M(D){var N=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,L=z(D);if(N){var m=z(this).constructor;k=Reflect.construct(L,arguments,m)}else k=L.apply(this,arguments);return function(y,x){if(x&&(e(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(y)}(this,k)}}function T(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function z(D){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},z(D)}function j(D,N,k){return N in D?Object.defineProperty(D,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):D[N]=k,D}var C=function(D){(function(x,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(O&&O.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),O&&R(x,O)})(y,D);var N,k,L,m=M(y);function y(x){var O;return function(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}(this,y),j(T(O=m.call(this,x)),"onDragStart",function(I,P){if((0,v.default)("Draggable: onDragStart: %j",P),O.props.onStart(I,(0,u.createDraggableData)(T(O),P))===!1)return!1;O.setState({dragging:!0,dragged:!0})}),j(T(O),"onDrag",function(I,P){if(!O.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",P);var H=(0,u.createDraggableData)(T(O),P),A={x:H.x,y:H.y};if(O.props.bounds){var G=A.x,Y=A.y;A.x+=O.state.slackX,A.y+=O.state.slackY;var se=b((0,u.getBoundPosition)(T(O),A.x,A.y),2),W=se[0],q=se[1];A.x=W,A.y=q,A.slackX=O.state.slackX+(G-A.x),A.slackY=O.state.slackY+(Y-A.y),H.x=A.x,H.y=A.y,H.deltaX=A.x-O.state.x,H.deltaY=A.y-O.state.y}if(O.props.onDrag(I,H)===!1)return!1;O.setState(A)}),j(T(O),"onDragStop",function(I,P){if(!O.state.dragging||O.props.onStop(I,(0,u.createDraggableData)(T(O),P))===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",P);var H={dragging:!1,slackX:0,slackY:0};if(O.props.position){var A=O.props.position,G=A.x,Y=A.y;H.x=G,H.y=Y}O.setState(H)}),O.state={dragging:!1,dragged:!1,x:x.position?x.position.x:x.defaultPosition.x,y:x.position?x.position.y:x.defaultPosition.y,prevPropsPosition:p({},x.position),slackX:0,slackY:0,isElementSVG:!1},!x.position||x.onDrag||x.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),O}return N=y,L=[{key:"getDerivedStateFromProps",value:function(x,O){var I=x.position,P=O.prevPropsPosition;return!I||P&&I.x===P.x&&I.y===P.y?null:((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:I,prevPropsPosition:P}),{x:I.x,y:I.y,prevPropsPosition:p({},I)})}}],(k=[{key:"componentDidMount",value:function(){window.SVGElement!==void 0&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var x,O,I;return(x=(O=this.props)===null||O===void 0||(I=O.nodeRef)===null||I===void 0?void 0:I.current)!==null&&x!==void 0?x:l.default.findDOMNode(this)}},{key:"render",value:function(){var x,O=this.props;O.axis,O.bounds;var I=O.children,P=O.defaultPosition,H=O.defaultClassName,A=O.defaultClassNameDragging,G=O.defaultClassNameDragged,Y=O.position,se=O.positionOffset;O.scale;var W=d(O,w),q={},V=null,$=!Y||this.state.dragging,B=Y||P,J={x:(0,u.canDragX)(this)&&$?this.state.x:B.x,y:(0,u.canDragY)(this)&&$?this.state.y:B.y};this.state.isElementSVG?V=(0,c.createSVGTransform)(J,se):q=(0,c.createCSSTransform)(J,se);var ie=(0,i.default)(I.props.className||"",H,(j(x={},A,this.state.dragging),j(x,G,this.state.dragged),x));return t.createElement(f.default,s({},W,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(I),{className:ie,style:p(p({},I.props.style),q),transform:V}))}}])&&E(N.prototype,k),L&&E(N,L),Object.defineProperty(N,"prototype",{writable:!1}),y}(t.Component);n.default=C,j(C,"displayName","Draggable"),j(C,"propTypes",p(p({},f.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe})),j(C,"defaultProps",p(p({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(ar)),ar}function At(){if(gr)return Je.exports;gr=1;var n=ja(),e=n.default,t=n.DraggableCore;return Je.exports=e,Je.exports.default=e,Je.exports.DraggableCore=t,Je.exports}var br,gt={exports:{}},tt={},yt={};function Ea(){if(br)return yt;br=1,yt.__esModule=!0,yt.cloneElement=function(i,c){return c.style&&i.props.style&&(c.style=r(r({},i.props.style),c.style)),c.className&&i.props.className&&(c.className=i.props.className+" "+c.className),e.default.cloneElement(i,c)};var n,e=(n=Se())&&n.__esModule?n:{default:n};function t(i,c){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);c&&(g=g.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),u.push.apply(u,g)}return u}function r(i){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?t(Object(u),!0).forEach(function(g){l(i,g,u[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(u,g))})}return i}function l(i,c,u){return(c=function(g){var f=function(v,w){if(typeof v!="object"||v===null)return v;var a=v[Symbol.toPrimitive];if(a!==void 0){var o=a.call(v,w);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(v)}(g,"string");return typeof f=="symbol"?f:String(f)}(c))in i?Object.defineProperty(i,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[c]=u,i}return yt}var vr,wr,nt={};function xr(){if(vr)return nt;vr=1,nt.__esModule=!0,nt.resizableProps=void 0;var n,e=(n=qe())&&n.__esModule?n:{default:n};At();var t={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:e.default.node,grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];var c,u=l[0];return u.axis==="both"||u.axis==="y"?(c=e.default.number).isRequired.apply(c,l):e.default.number.apply(e.default,l)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];var c,u=l[0];return u.axis==="both"||u.axis==="x"?(c=e.default.number).isRequired.apply(c,l):e.default.number.apply(e.default,l)}};return nt.resizableProps=t,nt}function Sr(){if(wr)return tt;wr=1,tt.__esModule=!0,tt.default=void 0;var n=function(a,o){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var s=i(o);if(s&&s.has(a))return s.get(a);var d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if(p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)){var b=h?Object.getOwnPropertyDescriptor(a,p):null;b&&(b.get||b.set)?Object.defineProperty(d,p,b):d[p]=a[p]}return d.default=a,s&&s.set(a,d),d}(Se()),e=At(),t=Ea(),r=xr(),l=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function i(a){if(typeof WeakMap!="function")return null;var o=new WeakMap,s=new WeakMap;return(i=function(d){return d?s:o})(a)}function c(){return c=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d])}return a},c.apply(this,arguments)}function u(a,o){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);o&&(d=d.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),s.push.apply(s,d)}return s}function g(a){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?u(Object(s),!0).forEach(function(d){f(a,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(s,d))})}return a}function f(a,o,s){return(o=function(d){var h=function(p,b){if(typeof p!="object"||p===null)return p;var _=p[Symbol.toPrimitive];if(_!==void 0){var E=_.call(p,b);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(p)}(d,"string");return typeof h=="symbol"?h:String(h)}(o))in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,a}function v(a,o){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,d){return s.__proto__=d,s},v(a,o)}var w=function(a){var o,s;function d(){for(var p,b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return(p=a.call.apply(a,[this].concat(_))||this).handleRefs={},p.lastHandleRect=null,p.slack=null,p}s=a,(o=d).prototype=Object.create(s.prototype),o.prototype.constructor=o,v(o,s);var h=d.prototype;return h.componentWillUnmount=function(){this.resetData()},h.resetData=function(){this.lastHandleRect=this.slack=null},h.runConstraints=function(p,b){var _=this.props,E=_.minConstraints,R=_.maxConstraints,M=_.lockAspectRatio;if(!E&&!R&&!M)return[p,b];if(M){var T=this.props.width/this.props.height,z=p-this.props.width,j=b-this.props.height;Math.abs(z)>Math.abs(j*T)?b=p/T:p=b*T}var C=p,D=b,N=this.slack||[0,0],k=N[0],L=N[1];return p+=k,b+=L,E&&(p=Math.max(E[0],p),b=Math.max(E[1],b)),R&&(p=Math.min(R[0],p),b=Math.min(R[1],b)),this.slack=[k+(C-p),L+(D-b)],[p,b]},h.resizeHandler=function(p,b){var _=this;return function(E,R){var M=R.node,T=R.deltaX,z=R.deltaY;p==="onResizeStart"&&_.resetData();var j=(_.props.axis==="both"||_.props.axis==="x")&&b!=="n"&&b!=="s",C=(_.props.axis==="both"||_.props.axis==="y")&&b!=="e"&&b!=="w";if(j||C){var D=b[0],N=b[b.length-1],k=M.getBoundingClientRect();_.lastHandleRect!=null&&(N==="w"&&(T+=k.left-_.lastHandleRect.left),D==="n"&&(z+=k.top-_.lastHandleRect.top)),_.lastHandleRect=k,N==="w"&&(T=-T),D==="n"&&(z=-z);var L=_.props.width+(j?T/_.props.transformScale:0),m=_.props.height+(C?z/_.props.transformScale:0),y=_.runConstraints(L,m);L=y[0],m=y[1];var x=L!==_.props.width||m!==_.props.height,O=typeof _.props[p]=="function"?_.props[p]:null;O&&!(p==="onResize"&&!x)&&(E.persist==null||E.persist(),O(E,{node:M,size:{width:L,height:m},handle:b})),p==="onResizeStop"&&_.resetData()}}},h.renderResizeHandle=function(p,b){var _=this.props.handle;if(!_)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+p,ref:b});if(typeof _=="function")return _(p,b);var E=g({ref:b},typeof _.type=="string"?{}:{handleAxis:p});return n.cloneElement(_,E)},h.render=function(){var p=this,b=this.props,_=b.children,E=b.className,R=b.draggableOpts;b.width,b.height,b.handle,b.handleSize,b.lockAspectRatio,b.axis,b.minConstraints,b.maxConstraints,b.onResize,b.onResizeStop,b.onResizeStart;var M=b.resizeHandles;b.transformScale;var T=function(z,j){if(z==null)return{};var C,D,N={},k=Object.keys(z);for(D=0;D<k.length;D++)C=k[D],j.indexOf(C)>=0||(N[C]=z[C]);return N}(b,l);return(0,t.cloneElement)(_,g(g({},T),{},{className:(E?E+" ":"")+"react-resizable",children:[].concat(_.props.children,M.map(function(z){var j,C=(j=p.handleRefs[z])!=null?j:p.handleRefs[z]=n.createRef();return n.createElement(e.DraggableCore,c({},R,{nodeRef:C,key:"resizableHandle-"+z,onStop:p.resizeHandler("onResizeStop",z),onStart:p.resizeHandler("onResizeStart",z),onDrag:p.resizeHandler("onResize",z)}),p.renderResizeHandle(z,C))}))}))},d}(n.Component);return tt.default=w,w.propTypes=r.resizableProps,w.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},tt}var _r,Or,rt={};function Da(){if(_r)return rt;_r=1,rt.__esModule=!0,rt.default=void 0;var n=function(o,s){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=c(s);if(d&&d.has(o))return d.get(o);var h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in o)if(b!=="default"&&Object.prototype.hasOwnProperty.call(o,b)){var _=p?Object.getOwnPropertyDescriptor(o,b):null;_&&(_.get||_.set)?Object.defineProperty(h,b,_):h[b]=o[b]}return h.default=o,d&&d.set(o,h),h}(Se()),e=i(qe()),t=i(Sr()),r=xr(),l=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function i(o){return o&&o.__esModule?o:{default:o}}function c(o){if(typeof WeakMap!="function")return null;var s=new WeakMap,d=new WeakMap;return(c=function(h){return h?d:s})(o)}function u(){return u=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var d=arguments[s];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}return o},u.apply(this,arguments)}function g(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(o);s&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(o,p).enumerable})),d.push.apply(d,h)}return d}function f(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?g(Object(d),!0).forEach(function(h){v(o,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):g(Object(d)).forEach(function(h){Object.defineProperty(o,h,Object.getOwnPropertyDescriptor(d,h))})}return o}function v(o,s,d){return(s=function(h){var p=function(b,_){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var R=E.call(b,_);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}(h,"string");return typeof p=="symbol"?p:String(p)}(s))in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function w(o,s){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,h){return d.__proto__=h,d},w(o,s)}var a=function(o){var s,d;function h(){for(var p,b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return(p=o.call.apply(o,[this].concat(_))||this).state={width:p.props.width,height:p.props.height,propsWidth:p.props.width,propsHeight:p.props.height},p.onResize=function(R,M){var T=M.size;p.props.onResize?(R.persist==null||R.persist(),p.setState(T,function(){return p.props.onResize&&p.props.onResize(R,M)})):p.setState(T)},p}return d=o,(s=h).prototype=Object.create(d.prototype),s.prototype.constructor=s,w(s,d),h.getDerivedStateFromProps=function(p,b){return b.propsWidth!==p.width||b.propsHeight!==p.height?{width:p.width,height:p.height,propsWidth:p.width,propsHeight:p.height}:null},h.prototype.render=function(){var p=this.props,b=p.handle,_=p.handleSize;p.onResize;var E=p.onResizeStart,R=p.onResizeStop,M=p.draggableOpts,T=p.minConstraints,z=p.maxConstraints,j=p.lockAspectRatio,C=p.axis;p.width,p.height;var D=p.resizeHandles,N=p.style,k=p.transformScale,L=function(m,y){if(m==null)return{};var x,O,I={},P=Object.keys(m);for(O=0;O<P.length;O++)x=P[O],y.indexOf(x)>=0||(I[x]=m[x]);return I}(p,l);return n.createElement(t.default,{axis:C,draggableOpts:M,handle:b,handleSize:_,height:this.state.height,lockAspectRatio:j,maxConstraints:z,minConstraints:T,onResizeStart:E,onResize:this.onResize,onResizeStop:R,resizeHandles:D,transformScale:k,width:this.state.width},n.createElement("div",u({},L,{style:f(f({},N),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},h}(n.Component);return rt.default=a,a.propTypes=f(f({},r.resizableProps),{},{children:e.default.element}),rt}var jr,Er,Dr,ke={};function Cr(){if(jr)return ke;jr=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.resizeHandleType=ke.resizeHandleAxesType=ke.default=void 0;var n=t(qe()),e=t(Se());function t(i){return i&&i.__esModule?i:{default:i}}const r=ke.resizeHandleAxesType=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),l=ke.resizeHandleType=n.default.oneOfType([n.default.node,n.default.func]);return ke.default={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(i){i.verticalCompact},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(i){var c=i.layout;c!==void 0&&Ve().validateLayout(c,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:r,resizeHandle:l,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(i,c){const u=i[c],g={};e.default.Children.forEach(u,function(f){if((f==null?void 0:f.key)!=null){if(g[f.key])throw new Error('Duplicate child key "'+f.key+'" found! This will cause problems in ReactGridLayout.');g[f.key]=!0}})},innerRef:n.default.any},ke}function Ca(){if(Er)return Ze;Er=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0;var n=f(Se()),e=Zt(),t=f(qe()),r=At(),l=(Or||(Or=1,gt.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},gt.exports.Resizable=Sr().default,gt.exports.ResizableBox=Da().default),gt.exports),i=Ve(),c=Ht(),u=Cr(),g=f(It());function f(a){return a&&a.__esModule?a:{default:a}}function v(a,o,s){return(o=function(d){var h=function(p,b){if(typeof p!="object"||p===null)return p;var _=p[Symbol.toPrimitive];if(_!==void 0){var E=_.call(p,b);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(p)}(d,"string");return typeof h=="symbol"?h:String(h)}(o))in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,a}let w=class extends n.default.Component{constructor(){super(...arguments),v(this,"state",{resizing:null,dragging:null,className:""}),v(this,"elementRef",n.default.createRef()),v(this,"onDragStart",(a,o)=>{let{node:s}=o;const{onDragStart:d,transformScale:h}=this.props;if(!d)return;const p={top:0,left:0},{offsetParent:b}=s;if(!b)return;const _=b.getBoundingClientRect(),E=s.getBoundingClientRect(),R=E.left/h,M=_.left/h,T=E.top/h,z=_.top/h;p.left=R-M+b.scrollLeft,p.top=T-z+b.scrollTop,this.setState({dragging:p});const{x:j,y:C}=(0,c.calcXY)(this.getPositionParams(),p.top,p.left,this.props.w,this.props.h);return d.call(this,this.props.i,j,C,{e:a,node:s,newPosition:p})}),v(this,"onDrag",(a,o,s)=>{let{node:d,deltaX:h,deltaY:p}=o;const{onDrag:b}=this.props;if(!b)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let _=this.state.dragging.top+p,E=this.state.dragging.left+h;const{isBounded:R,i:M,w:T,h:z,containerWidth:j}=this.props,C=this.getPositionParams();if(R){const{offsetParent:L}=d;if(L){const{margin:m,rowHeight:y,containerPadding:x}=this.props,O=L.clientHeight-(0,c.calcGridItemWHPx)(z,y,m[1]);_=(0,c.clamp)(_-x[1],0,O);const I=(0,c.calcGridColWidth)(C),P=j-(0,c.calcGridItemWHPx)(T,I,m[0]);E=(0,c.clamp)(E-x[0],0,P)}}const D={top:_,left:E};s?this.setState({dragging:D}):(0,e.flushSync)(()=>{this.setState({dragging:D})});const{x:N,y:k}=(0,c.calcXY)(C,_,E,T,z);return b.call(this,M,N,k,{e:a,node:d,newPosition:D})}),v(this,"onDragStop",(a,o)=>{let{node:s}=o;const{onDragStop:d}=this.props;if(!d)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:h,h:p,i:b}=this.props,{left:_,top:E}=this.state.dragging,R={top:E,left:_};this.setState({dragging:null});const{x:M,y:T}=(0,c.calcXY)(this.getPositionParams(),E,_,h,p);return d.call(this,b,M,T,{e:a,node:s,newPosition:R})}),v(this,"onResizeStop",(a,o,s)=>this.onResizeHandler(a,o,s,"onResizeStop")),v(this,"onResizeStart",(a,o,s)=>this.onResizeHandler(a,o,s,"onResizeStart")),v(this,"onResize",(a,o,s)=>this.onResizeHandler(a,o,s,"onResize"))}shouldComponentUpdate(a,o){if(this.props.children!==a.children||this.props.droppingPosition!==a.droppingPosition)return!0;const s=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),d=(0,c.calcGridItemPosition)(this.getPositionParams(a),a.x,a.y,a.w,a.h,o);return!(0,i.fastPositionEqual)(s,d)||this.props.useCSSTransforms!==a.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(a){this.moveDroppingItem(a)}moveDroppingItem(a){const{droppingPosition:o}=this.props;if(!o)return;const s=this.elementRef.current;if(!s)return;const d=a.droppingPosition||{left:0,top:0},{dragging:h}=this.state,p=h&&o.left!==d.left||o.top!==d.top;if(h){if(p){const b=o.left-h.left,_=o.top-h.top;this.onDrag(o.e,{node:s,deltaX:b,deltaY:_},!0)}}else this.onDragStart(o.e,{node:s,deltaX:o.left,deltaY:o.top})}getPositionParams(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:a.cols,containerPadding:a.containerPadding,containerWidth:a.containerWidth,margin:a.margin,maxRows:a.maxRows,rowHeight:a.rowHeight}}createStyle(a){const{usePercentages:o,containerWidth:s,useCSSTransforms:d}=this.props;let h;return d?h=(0,i.setTransform)(a):(h=(0,i.setTopLeft)(a),o&&(h.left=(0,i.perc)(a.left/s),h.width=(0,i.perc)(a.width/s))),h}mixinDraggable(a,o){return n.default.createElement(r.DraggableCore,{disabled:!o,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},a)}curryResizeHandler(a,o){return(s,d)=>o(s,d,a)}mixinResizable(a,o,s){const{cols:d,minW:h,minH:p,maxW:b,maxH:_,transformScale:E,resizeHandles:R,resizeHandle:M}=this.props,T=this.getPositionParams(),z=(0,c.calcGridItemPosition)(T,0,0,d,0).width,j=(0,c.calcGridItemPosition)(T,0,0,h,p),C=(0,c.calcGridItemPosition)(T,0,0,b,_),D=[j.width,j.height],N=[Math.min(C.width,z),Math.min(C.height,1/0)];return n.default.createElement(l.Resizable,{draggableOpts:{disabled:!s},className:s?void 0:"react-resizable-hide",width:o.width,height:o.height,minConstraints:D,maxConstraints:N,onResizeStop:this.curryResizeHandler(o,this.onResizeStop),onResizeStart:this.curryResizeHandler(o,this.onResizeStart),onResize:this.curryResizeHandler(o,this.onResize),transformScale:E,resizeHandles:R,handle:M},a)}onResizeHandler(a,o,s,d){let{node:h,size:p,handle:b}=o;const _=this.props[d];if(!_)return;const{x:E,y:R,i:M,maxH:T,minH:z,containerWidth:j}=this.props,{minW:C,maxW:D}=this.props;let N=p;h&&(N=(0,i.resizeItemInDirection)(b,s,p,j),(0,e.flushSync)(()=>{this.setState({resizing:d==="onResizeStop"?null:N})}));let{w:k,h:L}=(0,c.calcWH)(this.getPositionParams(),N.width,N.height,E,R,b);k=(0,c.clamp)(k,Math.max(C,1),D),L=(0,c.clamp)(L,z,T),_.call(this,M,k,L,{e:a,node:h,size:N,handle:b})}render(){const{x:a,y:o,w:s,h:d,isDraggable:h,isResizable:p,droppingPosition:b,useCSSTransforms:_}=this.props,E=(0,c.calcGridItemPosition)(this.getPositionParams(),a,o,s,d,this.state),R=n.default.Children.only(this.props.children);let M=n.default.cloneElement(R,{ref:this.elementRef,className:(0,g.default)("react-grid-item",R.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":h,"react-draggable-dragging":!!this.state.dragging,dropping:!!b,cssTransforms:_}),style:{...this.props.style,...R.props.style,...this.createStyle(E)}});return M=this.mixinResizable(M,E,p),M=this.mixinDraggable(M,h),M}};return Ze.default=w,v(w,"propTypes",{children:t.default.element,cols:t.default.number.isRequired,containerWidth:t.default.number.isRequired,rowHeight:t.default.number.isRequired,margin:t.default.array.isRequired,maxRows:t.default.number.isRequired,containerPadding:t.default.array.isRequired,x:t.default.number.isRequired,y:t.default.number.isRequired,w:t.default.number.isRequired,h:t.default.number.isRequired,minW:function(a,o){const s=a[o];return typeof s!="number"?new Error("minWidth not Number"):s>a.w||s>a.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(a,o){const s=a[o];return typeof s!="number"?new Error("maxWidth not Number"):s<a.w||s<a.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(a,o){const s=a[o];return typeof s!="number"?new Error("minHeight not Number"):s>a.h||s>a.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(a,o){const s=a[o];return typeof s!="number"?new Error("maxHeight not Number"):s<a.h||s<a.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:t.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:t.default.func,onDragStart:t.default.func,onDrag:t.default.func,onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,isDraggable:t.default.bool.isRequired,isResizable:t.default.bool.isRequired,isBounded:t.default.bool.isRequired,static:t.default.bool,useCSSTransforms:t.default.bool.isRequired,transformScale:t.default.number,className:t.default.string,handle:t.default.string,cancel:t.default.string,droppingPosition:t.default.shape({e:t.default.object.isRequired,left:t.default.number.isRequired,top:t.default.number.isRequired})}),v(w,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Ze}function kr(){if(Dr)return Qe;Dr=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var n=function(o,s){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=g(s);if(d&&d.has(o))return d.get(o);var h={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in o)if(b!=="default"&&Object.prototype.hasOwnProperty.call(o,b)){var _=p?Object.getOwnPropertyDescriptor(o,b):null;_&&(_.get||_.set)?Object.defineProperty(h,b,_):h[b]=o[b]}return h.default=o,d&&d.set(o,h),h}(Se()),e=Lt(),t=u(It()),r=Ve(),l=Ht(),i=u(Ca()),c=u(Cr());function u(o){return o&&o.__esModule?o:{default:o}}function g(o){if(typeof WeakMap!="function")return null;var s=new WeakMap,d=new WeakMap;return(g=function(h){return h?d:s})(o)}function f(o,s,d){return(s=function(h){var p=function(b,_){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var R=E.call(b,_);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}(h,"string");return typeof p=="symbol"?p:String(p)}(s))in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}const v="react-grid-layout";let w=!1;try{w=/firefox/i.test(navigator.userAgent)}catch{}class a extends n.Component{constructor(){super(...arguments),f(this,"state",{activeDrag:null,layout:(0,r.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,r.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),f(this,"dragEnterCounter",0),f(this,"onDragStart",(s,d,h,p)=>{let{e:b,node:_}=p;const{layout:E}=this.state,R=(0,r.getLayoutItem)(E,s);if(!R)return;const M={w:R.w,h:R.h,x:R.x,y:R.y,placeholder:!0,i:s};return this.setState({oldDragItem:(0,r.cloneLayoutItem)(R),oldLayout:E,activeDrag:M}),this.props.onDragStart(E,R,R,null,b,_)}),f(this,"onDrag",(s,d,h,p)=>{let{e:b,node:_}=p;const{oldDragItem:E}=this.state;let{layout:R}=this.state;const{cols:M,allowOverlap:T,preventCollision:z}=this.props,j=(0,r.getLayoutItem)(R,s);if(!j)return;const C={w:j.w,h:j.h,x:j.x,y:j.y,placeholder:!0,i:s};R=(0,r.moveElement)(R,j,d,h,!0,z,(0,r.compactType)(this.props),M,T),this.props.onDrag(R,E,j,C,b,_),this.setState({layout:T?R:(0,r.compact)(R,(0,r.compactType)(this.props),M),activeDrag:C})}),f(this,"onDragStop",(s,d,h,p)=>{let{e:b,node:_}=p;if(!this.state.activeDrag)return;const{oldDragItem:E}=this.state;let{layout:R}=this.state;const{cols:M,preventCollision:T,allowOverlap:z}=this.props,j=(0,r.getLayoutItem)(R,s);if(!j)return;R=(0,r.moveElement)(R,j,d,h,!0,T,(0,r.compactType)(this.props),M,z);const C=z?R:(0,r.compact)(R,(0,r.compactType)(this.props),M);this.props.onDragStop(C,E,j,null,b,_);const{oldLayout:D}=this.state;this.setState({activeDrag:null,layout:C,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(C,D)}),f(this,"onResizeStart",(s,d,h,p)=>{let{e:b,node:_}=p;const{layout:E}=this.state,R=(0,r.getLayoutItem)(E,s);R&&(this.setState({oldResizeItem:(0,r.cloneLayoutItem)(R),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(E,R,R,null,b,_))}),f(this,"onResize",(s,d,h,p)=>{let{e:b,node:_,size:E,handle:R}=p;const{oldResizeItem:M}=this.state,{layout:T}=this.state,{cols:z,preventCollision:j,allowOverlap:C}=this.props;let D,N,k,L=!1;const[m,y]=(0,r.withLayoutItem)(T,s,O=>{let I;return N=O.x,k=O.y,["sw","w","nw","n","ne"].indexOf(R)!==-1&&(["sw","nw","w"].indexOf(R)!==-1&&(N=O.x+(O.w-d),d=O.x!==N&&N<0?O.w:d,N=N<0?0:N),["ne","n","nw"].indexOf(R)!==-1&&(k=O.y+(O.h-h),h=O.y!==k&&k<0?O.h:h,k=k<0?0:k),L=!0),j&&!C&&(I=(0,r.getAllCollisions)(T,{...O,w:d,h,x:N,y:k}).filter(P=>P.i!==O.i).length>0,I&&(k=O.y,h=O.h,N=O.x,d=O.w,L=!1)),O.w=d,O.h=h,O});if(!y)return;D=m,L&&(D=(0,r.moveElement)(m,y,N,k,!0,this.props.preventCollision,(0,r.compactType)(this.props),z,C));const x={w:y.w,h:y.h,x:y.x,y:y.y,static:!0,i:s};this.props.onResize(D,M,y,x,b,_),this.setState({layout:C?D:(0,r.compact)(D,(0,r.compactType)(this.props),z),activeDrag:x})}),f(this,"onResizeStop",(s,d,h,p)=>{let{e:b,node:_}=p;const{layout:E,oldResizeItem:R}=this.state,{cols:M,allowOverlap:T}=this.props,z=(0,r.getLayoutItem)(E,s),j=T?E:(0,r.compact)(E,(0,r.compactType)(this.props),M);this.props.onResizeStop(j,R,z,null,b,_);const{oldLayout:C}=this.state;this.setState({activeDrag:null,layout:j,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(j,C)}),f(this,"onDragOver",s=>{var m;if(s.preventDefault(),s.stopPropagation(),w&&!((m=s.nativeEvent.target)!=null&&m.classList.contains(v)))return!1;const{droppingItem:d,onDropDragOver:h,margin:p,cols:b,rowHeight:_,maxRows:E,width:R,containerPadding:M,transformScale:T}=this.props,z=h==null?void 0:h(s);if(z===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const j={...d,...z},{layout:C}=this.state,D=s.currentTarget.getBoundingClientRect(),N=s.clientX-D.left,k=s.clientY-D.top,L={left:N/T,top:k/T,e:s};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:y,top:x}=this.state.droppingPosition;(y!=N||x!=k)&&this.setState({droppingPosition:L})}}else{const y={cols:b,margin:p,maxRows:E,rowHeight:_,containerWidth:R,containerPadding:M||p},x=(0,l.calcXY)(y,k,N,j.w,j.h);this.setState({droppingDOMNode:n.createElement("div",{key:j.i}),droppingPosition:L,layout:[...C,{...j,x:x.x,y:x.y,static:!1,isDraggable:!0}]})}}),f(this,"removeDroppingPlaceholder",()=>{const{droppingItem:s,cols:d}=this.props,{layout:h}=this.state,p=(0,r.compact)(h.filter(b=>b.i!==s.i),(0,r.compactType)(this.props),d,this.props.allowOverlap);this.setState({layout:p,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),f(this,"onDragLeave",s=>{s.preventDefault(),s.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),f(this,"onDragEnter",s=>{s.preventDefault(),s.stopPropagation(),this.dragEnterCounter++}),f(this,"onDrop",s=>{s.preventDefault(),s.stopPropagation();const{droppingItem:d}=this.props,{layout:h}=this.state,p=h.find(b=>b.i===d.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(h,p,s)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(s,d){let h;return d.activeDrag?null:((0,e.deepEqual)(s.layout,d.propsLayout)&&s.compactType===d.compactType?(0,r.childrenEqual)(s.children,d.children)||(h=d.layout):h=s.layout,h?{layout:(0,r.synchronizeLayoutWithChildren)(h,s.children,s.cols,(0,r.compactType)(s),s.allowOverlap),compactType:s.compactType,children:s.children,propsLayout:s.layout}:null)}shouldComponentUpdate(s,d){return this.props.children!==s.children||!(0,r.fastRGLPropsEqual)(this.props,s,e.deepEqual)||this.state.activeDrag!==d.activeDrag||this.state.mounted!==d.mounted||this.state.droppingPosition!==d.droppingPosition}componentDidUpdate(s,d){if(!this.state.activeDrag){const h=this.state.layout,p=d.layout;this.onLayoutMaybeChanged(h,p)}}containerHeight(){if(!this.props.autoSize)return;const s=(0,r.bottom)(this.state.layout),d=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return s*this.props.rowHeight+(s-1)*this.props.margin[1]+2*d+"px"}onLayoutMaybeChanged(s,d){d||(d=this.state.layout),(0,e.deepEqual)(d,s)||this.props.onLayoutChange(s)}placeholder(){const{activeDrag:s}=this.state;if(!s)return null;const{width:d,cols:h,margin:p,containerPadding:b,rowHeight:_,maxRows:E,useCSSTransforms:R,transformScale:M}=this.props;return n.createElement(i.default,{w:s.w,h:s.h,x:s.x,y:s.y,i:s.i,className:"react-grid-placeholder "+(this.state.resizing?"placeholder-resizing":""),containerWidth:d,cols:h,margin:p,containerPadding:b||p,maxRows:E,rowHeight:_,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:R,transformScale:M},n.createElement("div",null))}processGridItem(s,d){if(!s||!s.key)return;const h=(0,r.getLayoutItem)(this.state.layout,String(s.key));if(!h)return null;const{width:p,cols:b,margin:_,containerPadding:E,rowHeight:R,maxRows:M,isDraggable:T,isResizable:z,isBounded:j,useCSSTransforms:C,transformScale:D,draggableCancel:N,draggableHandle:k,resizeHandles:L,resizeHandle:m}=this.props,{mounted:y,droppingPosition:x}=this.state,O=typeof h.isDraggable=="boolean"?h.isDraggable:!h.static&&T,I=typeof h.isResizable=="boolean"?h.isResizable:!h.static&&z,P=h.resizeHandles||L,H=O&&j&&h.isBounded!==!1;return n.createElement(i.default,{containerWidth:p,cols:b,margin:_,containerPadding:E||_,maxRows:M,rowHeight:R,cancel:N,handle:k,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:O,isResizable:I,isBounded:H,useCSSTransforms:C&&y,usePercentages:!y,transformScale:D,w:h.w,h:h.h,x:h.x,y:h.y,i:h.i,minH:h.minH,minW:h.minW,maxH:h.maxH,maxW:h.maxW,static:h.static,droppingPosition:d?x:void 0,resizeHandles:P,resizeHandle:m},s)}render(){const{className:s,style:d,isDroppable:h,innerRef:p}=this.props,b=(0,t.default)(v,s),_={height:this.containerHeight(),...d};return n.createElement("div",{ref:p,className:b,style:_,onDrop:h?this.onDrop:r.noop,onDragLeave:h?this.onDragLeave:r.noop,onDragEnter:h?this.onDragEnter:r.noop,onDragOver:h?this.onDragOver:r.noop},n.Children.map(this.props.children,E=>this.processGridItem(E)),h&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}return Qe.default=a,f(a,"displayName","ReactGridLayout"),f(a,"propTypes",c.default),f(a,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:r.noop,onDragStart:r.noop,onDrag:r.noop,onDragStop:r.noop,onResizeStart:r.noop,onResize:r.noop,onResizeStop:r.noop,onDrop:r.noop,onDropDragOver:r.noop}),Qe}var Nr,Pr,ot={},Be={};function Rr(){if(Nr)return Be;Nr=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.findOrGenerateResponsiveLayout=function(t,r,l,i,c,u){if(t[l])return(0,n.cloneLayout)(t[l]);let g=t[i];const f=e(r),v=f.slice(f.indexOf(l));for(let w=0,a=v.length;w<a;w++){const o=v[w];if(t[o]){g=t[o];break}}return g=(0,n.cloneLayout)(g||[]),(0,n.compact)((0,n.correctBounds)(g,{cols:c}),u,c)},Be.getBreakpointFromWidth=function(t,r){const l=e(t);let i=l[0];for(let c=1,u=l.length;c<u;c++){const g=l[c];r>t[g]&&(i=g)}return i},Be.getColsFromBreakpoint=function(t,r){if(!r[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return r[t]},Be.sortBreakpoints=e;var n=Ve();function e(t){return Object.keys(t).sort(function(r,l){return t[r]-t[l]})}return Be}function ka(){if(Pr)return ot;Pr=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var n=function(o,s){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=u(s);if(d&&d.has(o))return d.get(o);var h={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in o)if(b!=="default"&&Object.prototype.hasOwnProperty.call(o,b)){var _=p?Object.getOwnPropertyDescriptor(o,b):null;_&&(_.get||_.set)?Object.defineProperty(h,b,_):h[b]=o[b]}return h.default=o,d&&d.set(o,h),h}(Se()),e=c(qe()),t=Lt(),r=Ve(),l=Rr(),i=c(kr());function c(o){return o&&o.__esModule?o:{default:o}}function u(o){if(typeof WeakMap!="function")return null;var s=new WeakMap,d=new WeakMap;return(u=function(h){return h?d:s})(o)}function g(){return g=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var d=arguments[s];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}return o},g.apply(this,arguments)}function f(o,s,d){return(s=function(h){var p=function(b,_){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var R=E.call(b,_);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}(h,"string");return typeof p=="symbol"?p:String(p)}(s))in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}const v=o=>Object.prototype.toString.call(o);function w(o,s){return o==null?null:Array.isArray(o)?o:o[s]}let a=class extends n.Component{constructor(){super(...arguments),f(this,"state",this.generateInitialState()),f(this,"onLayoutChange",o=>{this.props.onLayoutChange(o,{...this.props.layouts,[this.state.breakpoint]:o})})}generateInitialState(){const{width:o,breakpoints:s,layouts:d,cols:h}=this.props,p=(0,l.getBreakpointFromWidth)(s,o),b=(0,l.getColsFromBreakpoint)(p,h),_=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(d,s,p,p,b,_),breakpoint:p,cols:b}}static getDerivedStateFromProps(o,s){if(!(0,t.deepEqual)(o.layouts,s.layouts)){const{breakpoint:d,cols:h}=s;return{layout:(0,l.findOrGenerateResponsiveLayout)(o.layouts,o.breakpoints,d,d,h,o.compactType),layouts:o.layouts}}return null}componentDidUpdate(o){this.props.width==o.width&&this.props.breakpoint===o.breakpoint&&(0,t.deepEqual)(this.props.breakpoints,o.breakpoints)&&(0,t.deepEqual)(this.props.cols,o.cols)||this.onWidthChange(o)}onWidthChange(o){const{breakpoints:s,cols:d,layouts:h,compactType:p}=this.props,b=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),_=this.state.breakpoint,E=(0,l.getColsFromBreakpoint)(b,d),R={...h};if(_!==b||o.breakpoints!==s||o.cols!==d){_ in R||(R[_]=(0,r.cloneLayout)(this.state.layout));let z=(0,l.findOrGenerateResponsiveLayout)(R,s,b,_,E,p);z=(0,r.synchronizeLayoutWithChildren)(z,this.props.children,E,p,this.props.allowOverlap),R[b]=z,this.props.onBreakpointChange(b,E),this.props.onLayoutChange(z,R),this.setState({breakpoint:b,layout:z,cols:E})}const M=w(this.props.margin,b),T=w(this.props.containerPadding,b);this.props.onWidthChange(this.props.width,M,E,T)}render(){const{breakpoint:o,breakpoints:s,cols:d,layouts:h,margin:p,containerPadding:b,onBreakpointChange:_,onLayoutChange:E,onWidthChange:R,...M}=this.props;return n.createElement(i.default,g({},M,{margin:w(p,this.state.breakpoint),containerPadding:w(b,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return ot.default=a,f(a,"propTypes",{breakpoint:e.default.string,breakpoints:e.default.object,allowOverlap:e.default.bool,cols:e.default.object,margin:e.default.oneOfType([e.default.array,e.default.object]),containerPadding:e.default.oneOfType([e.default.array,e.default.object]),layouts(o,s){if(v(o[s])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+v(o[s]));Object.keys(o[s]).forEach(d=>{if(!(d in o.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,r.validateLayout)(o.layouts[d],"layouts."+d)})},width:e.default.number.isRequired,onBreakpointChange:e.default.func,onLayoutChange:e.default.func,onWidthChange:e.default.func}),f(a,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:r.noop,onLayoutChange:r.noop,onWidthChange:r.noop}),ot}var bt={},Mr=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(l,i){return l[0]===t&&(r=i,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),l=this.__entries__[r];return l&&l[1]},e.prototype.set=function(t,r){var l=n(this.__entries__,t);~l?this.__entries__[l][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,l=n(r,t);~l&&r.splice(l,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var l=0,i=this.__entries__;l<i.length;l++){var c=i[l];t.call(r,c[1],c[0])}},e}()}(),qt=typeof window<"u"&&typeof document<"u"&&window.document===document,vt=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Na=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(vt):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)},Pa=["top","right","bottom","left","width","height","size","weight"],Ra=typeof MutationObserver<"u",Ma=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,l=!1,i=0;function c(){r&&(r=!1,e()),l&&g()}function u(){Na(c)}function g(){var f=Date.now();if(r){if(f-i<2)return;l=!0}else r=!0,l=!1,setTimeout(u,t);i=f}return g}(this.refresh.bind(this),20)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){qt&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ra?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){qt&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t;Pa.some(function(l){return!!~r.indexOf(l)})&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),Tr=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var l=r[t];Object.defineProperty(n,l,{value:e[l],enumerable:!1,writable:!1,configurable:!0})}return n},Ue=function(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView||vt},zr=xt(0,0,0,0);function wt(n){return parseFloat(n)||0}function Lr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,l){return r+wt(n["border-"+l+"-width"])},0)}function Ta(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return zr;var r=Ue(n).getComputedStyle(n),l=function(w){for(var a={},o=0,s=["top","right","bottom","left"];o<s.length;o++){var d=s[o],h=w["padding-"+d];a[d]=wt(h)}return a}(r),i=l.left+l.right,c=l.top+l.bottom,u=wt(r.width),g=wt(r.height);if(r.boxSizing==="border-box"&&(Math.round(u+i)!==e&&(u-=Lr(r,"left","right")+i),Math.round(g+c)!==t&&(g-=Lr(r,"top","bottom")+c)),!function(w){return w===Ue(w).document.documentElement}(n)){var f=Math.round(u+i)-e,v=Math.round(g+c)-t;Math.abs(f)!==1&&(u-=f),Math.abs(v)!==1&&(g-=v)}return xt(l.left,l.top,u,g)}var za=typeof SVGGraphicsElement<"u"?function(n){return n instanceof Ue(n).SVGGraphicsElement}:function(n){return n instanceof Ue(n).SVGElement&&typeof n.getBBox=="function"};function La(n){return qt?za(n)?function(e){var t=e.getBBox();return xt(0,0,t.width,t.height)}(n):Ta(n):zr}function xt(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Ia=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=xt(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=La(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Ha=function(n,e){var t=function(r){var l=r.x,i=r.y,c=r.width,u=r.height,g=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,f=Object.create(g.prototype);return Tr(f,{x:l,y:i,width:c,height:u,top:i,right:l+c,bottom:u+i,left:l}),f}(e);Tr(this,{target:n,contentRect:t})},Wa=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new Mr,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ue(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ia(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ue(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Ha(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Ir=typeof WeakMap<"u"?new WeakMap:new Mr,Hr=function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Ma.getInstance(),r=new Wa(e,t,this);Ir.set(this,r)};["observe","unobserve","disconnect"].forEach(function(n){Hr.prototype[n]=function(){var e;return(e=Ir.get(this))[n].apply(e,arguments)}});var Aa=vt.ResizeObserver!==void 0?vt.ResizeObserver:Hr;const qa=Ro(Object.freeze(Object.defineProperty({__proto__:null,default:Aa},Symbol.toStringTag,{value:"Module"})));var Wr,Ar;function Ba(){if(Wr)return bt;Wr=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=function(f){var v;return v=class extends n.Component{constructor(){super(...arguments),u(this,"state",{width:1280}),u(this,"elementRef",n.createRef()),u(this,"mounted",!1),u(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new t.default(a=>{if(this.elementRef.current instanceof HTMLElement){const o=a[0].contentRect.width;this.setState({width:o})}});const w=this.elementRef.current;w instanceof HTMLElement&&this.resizeObserver.observe(w)}componentWillUnmount(){this.mounted=!1;const w=this.elementRef.current;w instanceof HTMLElement&&this.resizeObserver.unobserve(w),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:w,...a}=this.props;return w&&!this.mounted?n.createElement("div",{className:(0,r.default)(this.props.className,g),style:this.props.style,ref:this.elementRef}):n.createElement(f,c({innerRef:this.elementRef},a,this.state))}},u(v,"defaultProps",{measureBeforeMount:!1}),u(v,"propTypes",{measureBeforeMount:e.default.bool}),v};var n=function(f,v){if(f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var w=i(v);if(w&&w.has(f))return w.get(f);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in f)if(s!=="default"&&Object.prototype.hasOwnProperty.call(f,s)){var d=o?Object.getOwnPropertyDescriptor(f,s):null;d&&(d.get||d.set)?Object.defineProperty(a,s,d):a[s]=f[s]}return a.default=f,w&&w.set(f,a),a}(Se()),e=l(qe()),t=l(qa),r=l(It());function l(f){return f&&f.__esModule?f:{default:f}}function i(f){if(typeof WeakMap!="function")return null;var v=new WeakMap,w=new WeakMap;return(i=function(a){return a?w:v})(f)}function c(){return c=Object.assign?Object.assign.bind():function(f){for(var v=1;v<arguments.length;v++){var w=arguments[v];for(var a in w)Object.prototype.hasOwnProperty.call(w,a)&&(f[a]=w[a])}return f},c.apply(this,arguments)}function u(f,v,w){return(v=function(a){var o=function(s,d){if(typeof s!="object"||s===null)return s;var h=s[Symbol.toPrimitive];if(h!==void 0){var p=h.call(s,d);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(s)}(a,"string");return typeof o=="symbol"?o:String(o)}(v))in f?Object.defineProperty(f,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):f[v]=w,f}const g="react-grid-layout";return bt}var Ye,qr=(Ar||(Ar=1,(Ye=Zn).exports=kr().default,Ye.exports.utils=Ve(),Ye.exports.calculateUtils=Ht(),Ye.exports.Responsive=ka().default,Ye.exports.Responsive.utils=Rr(),Ye.exports.WidthProvider=Ba().default),Zn.exports);let Br;Br=[Zs(),Js({syntaxHighlighting:!0,highlightSpecialChars:!1,history:!1,drawSelection:!1,defaultKeymap:!1,historyKeymap:!1})],Nt=Z.memo(n=>{const e=F.c(8),{code:t,className:r}=n,{theme:l}=ei();let i;e[0]!==r?(i=te(r,"text-muted-foreground flex flex-col overflow-hidden"),e[0]=r,e[1]=i):i=e[1];const c=l==="dark"?"dark":"light";let u,g;return e[2]!==t||e[3]!==c?(u=S.jsx(Mo,{minHeight:"10px",theme:c,height:"100%",className:"tiny-code",editable:!1,basicSetup:!1,extensions:Br,value:t}),e[2]=t,e[3]=c,e[4]=u):u=e[4],e[5]!==i||e[6]!==u?(g=S.jsx("div",{className:i,children:u}),e[5]=i,e[6]=u,e[7]=g):g=e[7],g}),Nt.displayName="TinyCode";const Fa=qr.WidthProvider(qr.Responsive),Ga=[0,0],Bt="grid-drag-handle",Ft=Z.memo(n=>{const e=F.c(20),{output:t,cellId:r,status:l,mode:i,code:c,hidden:u,isScrollable:g,side:f,className:v}=n;let w;e[0]!==l?(w=Jt(l),e[0]=l,e[1]=w):w=e[1];const a=w;if((t==null||t.data==="")&&i!=="read"){let M;return e[2]!==v||e[3]!==c?(M=S.jsx(Nt,{className:v,code:c}),e[2]=v,e[3]=c,e[4]=M):M=e[4],M}const o=u&&"invisible",s=g?"overflow-y-auto":"overflow-y-hidden",d=f==="top"&&"flex items-start",h=f==="bottom"&&"flex items-end",p=f==="left"&&"flex justify-start",b=f==="right"&&"flex justify-end";let _,E,R;return e[5]!==v||e[6]!==o||e[7]!==s||e[8]!==d||e[9]!==h||e[10]!==p||e[11]!==b?(_=te(v,"h-full w-full p-2 overflow-x-auto",o,s,d,h,p,b),e[5]=v,e[6]=o,e[7]=s,e[8]=d,e[9]=h,e[10]=p,e[11]=b,e[12]=_):_=e[12],e[13]!==r||e[14]!==a||e[15]!==t?(E=S.jsx(jt,{allowExpand:!1,output:t,cellId:r,stale:a,loading:a}),e[13]=r,e[14]=a,e[15]=t,e[16]=E):E=e[16],e[17]!==_||e[18]!==E?(R=S.jsx("div",{className:_,children:E}),e[17]=_,e[18]=E,e[19]=R):R=e[19],R});Ft.displayName="GridCell";const Va=n=>{const e=F.c(38),{layout:t,setLayout:r,isLocked:l,setIsLocked:i}=n;let c,u,g,f,v,w,a,o,s,d,h,p,b,_,E;return e[0]===Symbol.for("react.memo_cache_sentinel")?(c=S.jsx(ut,{htmlFor:"columns",children:"Columns"}),e[0]=c):c=e[0],e[1]!==t||e[2]!==r?(u=R=>{r({...t,columns:R})},e[1]=t,e[2]=r,e[3]=u):u=e[3],e[4]!==t.columns||e[5]!==u?(g=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[c,S.jsx(en,{"data-testid":"grid-columns-input",id:"columns",value:t.columns,className:"w-[60px]",placeholder:"# of Columns",minValue:1,onChange:u})]}),e[4]=t.columns,e[5]=u,e[6]=g):g=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(ut,{htmlFor:"rowHeight",children:"Row Height (px)"}),e[7]=f):f=e[7],e[8]!==t||e[9]!==r?(v=R=>{r({...t,rowHeight:R})},e[8]=t,e[9]=r,e[10]=v):v=e[10],e[11]!==t.rowHeight||e[12]!==v?(w=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f,S.jsx(en,{"data-testid":"grid-row-height-input",id:"rowHeight",value:t.rowHeight,className:"w-[60px]",placeholder:"Row Height (px)",minValue:1,onChange:v})]}),e[11]=t.rowHeight,e[12]=v,e[13]=w):w=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(a=S.jsx(ut,{htmlFor:"maxWidth",children:"Max Width (px)"}),e[14]=a):a=e[14],e[15]!==t||e[16]!==r?(o=R=>{r({...t,maxWidth:Number.isNaN(R)?void 0:R})},e[15]=t,e[16]=r,e[17]=o):o=e[17],e[18]!==t.maxWidth||e[19]!==o?(s=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[a,S.jsx(en,{"data-testid":"grid-max-width-input",id:"maxWidth",value:t.maxWidth,className:"w-[90px]",step:100,placeholder:"Full",onChange:o})]}),e[18]=t.maxWidth,e[19]=o,e[20]=s):s=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(d=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(ri,{className:"h-3 w-3"}),"Bordered"]}),e[21]=d):d=e[21],e[22]!==t||e[23]!==r?(h=R=>{r({...t,bordered:R})},e[22]=t,e[23]=r,e[24]=h):h=e[24],e[25]!==t.bordered||e[26]!==h?(p=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d,S.jsx(tn,{"data-testid":"grid-bordered-switch",id:"lock",checked:t.bordered,size:"sm",onCheckedChange:h})]}),e[25]=t.bordered,e[26]=h,e[27]=p):p=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(b=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(_o,{className:"h-3 w-3"}),"Lock Grid"]}),e[28]=b):b=e[28],e[29]!==l||e[30]!==i?(_=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b,S.jsx(tn,{"data-testid":"grid-lock-switch",id:"lock",checked:l,size:"sm",onCheckedChange:i})]}),e[29]=l,e[30]=i,e[31]=_):_=e[31],e[32]!==p||e[33]!==_||e[34]!==g||e[35]!==w||e[36]!==s?(E=S.jsxs("div",{className:"flex flex-row absolute pl-5 top-8 gap-4 w-full justify-end pr-[350px] pb-3 border-b z-50",children:[g,w,s,p,_]}),e[32]=p,e[33]=_,e[34]=g,e[35]=w,e[36]=s,e[37]=E):E=e[37],E},Fr=we.forwardRef((n,e)=>{const t=F.c(30);let r,l,i,c,u,g,f,v,w,a;t[0]!==n?({children:r,isDragging:c,className:l,onDelete:g,isScrollable:u,setIsScrollable:v,side:a,setSide:w,display:i,...f}=n,t[0]=n,t[1]=r,t[2]=l,t[3]=i,t[4]=c,t[5]=u,t[6]=g,t[7]=f,t[8]=v,t[9]=w,t[10]=a):(r=t[1],l=t[2],i=t[3],c=t[4],u=t[5],g=t[6],f=t[7],v=t[8],w=t[9],a=t[10]);const[o,s]=Z.useState(),d=o&&"border-[var(--sky-8)] z-20",h=!o&&"hover-actions-parent",p=c&&"bg-[var(--slate-2)] border-border z-20";let b,_,E;return t[11]!==l||t[12]!==d||t[13]!==h||t[14]!==p?(b=te(l,"relative z-10 hover:z-20","bg-background border-transparent hover:border-[var(--sky-8)] border",d,h,p),t[11]=l,t[12]=d,t[13]=h,t[14]=p,t[15]=b):b=t[15],t[16]!==i||t[17]!==u||t[18]!==g||t[19]!==o||t[20]!==v||t[21]!==w||t[22]!==a?(_=S.jsx(Ua,{onDelete:g,isScrollable:u,setIsScrollable:v,side:a,setSide:w,display:i,setPopoverOpened:s,popoverOpened:o}),t[16]=i,t[17]=u,t[18]=g,t[19]=o,t[20]=v,t[21]=w,t[22]=a,t[23]=_):_=t[23],t[24]!==r||t[25]!==e||t[26]!==f||t[27]!==b||t[28]!==_?(E=S.jsxs("div",{ref:e,...f,className:b,children:[r,_]}),t[24]=r,t[25]=e,t[26]=f,t[27]=b,t[28]=_,t[29]=E):E=t[29],E});Fr.displayName="EditableGridCell";const Ua=n=>{const e=F.c(43),{display:t,onDelete:r,side:l,setSide:i,isScrollable:c,setIsScrollable:u,popoverOpened:g,setPopoverOpened:f}=n,v=l==="left"?Le:l==="right"?De:void 0,w=!g&&"hover-action",a=t==="top"&&"-top-6 rounded-t",o=t==="bottom"&&"-bottom-6 rounded-b";let s;e[0]!==w||e[1]!==a||e[2]!==o?(s=te("absolute right-0 p-1 bg-[var(--sky-8)] text-white h-6 z-10 flex gap-2",w,a,o),e[0]=w,e[1]=a,e[2]=o,e[3]=s):s=e[3];const d=g==="side";let h,p,b,_,E;e[4]!==f?(h=y=>f(y?"side":void 0),e[4]=f,e[5]=h):h=e[5],e[6]!==v?(p=S.jsx(nn,{asChild:!0,children:v?S.jsx(v,{className:"h-4 w-4 opacity-60 hover:opacity-100"}):S.jsx(_e,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[6]=v,e[7]=p):p=e[7],e[8]!==i||e[9]!==l?(b=Kt.entries(Ya).map(y=>{const[x,O]=y;return S.jsxs(ct,{onSelect:()=>i(x),children:[S.jsx(O,{className:"h-4 w-3 mr-2"}),S.jsx("span",{className:"flex-1",children:ti(x)}),x===l&&S.jsx(zo,{className:"h-4 w-4"})]},x)}),e[8]=i,e[9]=l,e[10]=b):b=e[10],e[11]!==b?(_=S.jsx(rn,{side:"bottom",children:b}),e[11]=b,e[12]=_):_=e[12],e[13]!==d||e[14]!==h||e[15]!==p||e[16]!==_?(E=S.jsxs(on,{open:d,onOpenChange:h,children:[p,_]}),e[13]=d,e[14]=h,e[15]=p,e[16]=_,e[17]=E):E=e[17];const R=g==="scroll";let M,T,z,j,C,D,N,k,L,m;return e[18]!==f?(M=y=>f(y?"scroll":void 0),e[18]=f,e[19]=M):M=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(T=S.jsx(nn,{asChild:!0,children:S.jsx(zn,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[20]=T):T=e[20],e[21]!==c||e[22]!==u?(z=()=>u(!c),e[21]=c,e[22]=u,e[23]=z):z=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(j=S.jsx("span",{className:"flex-1",children:"Scrollable"}),e[24]=j):j=e[24],e[25]!==c||e[26]!==u?(C=S.jsx(tn,{"data-testid":"grid-scrollable-switch",checked:c,size:"sm",onCheckedChange:u}),e[25]=c,e[26]=u,e[27]=C):C=e[27],e[28]!==z||e[29]!==C?(D=S.jsx(rn,{side:"bottom",children:S.jsxs(ct,{onSelect:z,children:[j,C]})}),e[28]=z,e[29]=C,e[30]=D):D=e[30],e[31]!==R||e[32]!==M||e[33]!==D?(N=S.jsxs(on,{open:R,onOpenChange:M,children:[T,D]}),e[31]=R,e[32]=M,e[33]=D,e[34]=N):N=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(k=S.jsx(ni,{className:te(Bt,"cursor-move","h-4 w-4 opacity-60 hover:opacity-100")}),e[35]=k):k=e[35],e[36]!==r?(L=S.jsx(oi,{className:"h-4 w-4 opacity-60 hover:opacity-100",onClick:()=>r()}),e[36]=r,e[37]=L):L=e[37],e[38]!==E||e[39]!==N||e[40]!==L||e[41]!==s?(m=S.jsxs("div",{className:s,children:[E,N,k,L]}),e[38]=E,e[39]=N,e[40]=L,e[41]=s,e[42]=m):m=e[42],m},Ya={left:Le,right:De};function $a(n){return n.i}function Xa(n){return n.i}function Ka(){window.dispatchEvent(new Event("resize"))}const Qa={type:"grid",name:"Grid",validator:ue.object({columns:ue.number().min(1),rowHeight:ue.number().min(1),maxWidth:ue.number().optional(),bordered:ue.boolean().optional(),cells:ue.array(ue.object({position:ue.tuple([ue.number(),ue.number(),ue.number(),ue.number()]).nullable(),scrollable:ue.boolean().optional(),alignment:ue.enum(["top","bottom","left","right"]).optional()}))}),deserializeLayout:(n,e)=>{if(n.cells.length===0)return{columns:n.columns,rowHeight:n.rowHeight,scrollableCells:new Set,cellSide:new Map,cells:[]};n.cells.length!==e.length&&ve.warn("Number of cells in layout does not match number of cells in notebook");const t=new Set,r=new Map,l=n.cells.flatMap((i,c)=>{const u=i.position;if(!u)return[];const g=e[c];return g?(i.scrollable&&t.add(g.id),i.side&&r.set(g.id,i.side),{i:g.id,x:u[0],y:u[1],w:u[2],h:u[3]}):[]});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:l,cellSide:r,scrollableCells:t}},serializeLayout:(n,e)=>{const t=To.keyBy(n.cells,l=>l.i),r=e.map(l=>{const i=t.get(l.id);if(!i)return{position:null};const c={position:[i.x,i.y,i.w,i.h]};return n.scrollableCells.has(l.id)&&(c.scrollable=!0),n.cellSide.has(l.id)&&(c.side=n.cellSide.get(l.id)),c});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:r}},Component:n=>{const e=F.c(156),{layout:t,setLayout:r,cells:l,mode:i}=n,c=i==="read";let u;e[0]!==t.cells?(u=new Set(t.cells.map($a)),e[0]=t.cells,e[1]=u):u=e[1];const g=u,[f,v]=Z.useState(null),[w,a]=Z.useState(!1);let o,s;e[2]!==t.columns?(s={lg:t.columns},e[2]=t.columns,e[3]=s):s=e[3],o=s;const d=o;let h,p;e[4]!==t.bordered?(h=()=>{const U=document.getElementById("App");return t.bordered?U==null||U.classList.add("grid-bordered"):U==null||U.classList.remove("grid-bordered"),()=>{U==null||U.classList.remove("grid-bordered")}},p=[t.bordered],e[4]=t.bordered,e[5]=h,e[6]=p):(h=e[5],p=e[6]),Z.useEffect(h,p);const b=function(){const U=F.c(9),[xe,Pe]=Z.useState(!1);let ye;U[0]===Symbol.for("react.memo_cache_sentinel")?(ye={x:0,y:0},U[0]=ye):ye=U[0];const[oe,be]=we.useState(ye),[Fe,$e]=we.useState(!1);let Re;U[1]===Symbol.for("react.memo_cache_sentinel")?(Re=it=>{Pe(!0),be({x:it.clientX,y:it.clientY})},U[1]=Re):Re=U[1];const Q=Re;let de;U[2]!==oe||U[3]!==xe?(de=it=>{if(xe){const xs=it.clientX-oe.x,Ss=it.clientY-oe.y;$e(Math.hypot(xs,Ss)>10)}},U[2]=oe,U[3]=xe,U[4]=de):de=U[4];const fe=de;let Me;U[5]===Symbol.for("react.memo_cache_sentinel")?(Me=()=>{Pe(!1),$e(!1)},U[5]=Me):Me=U[5];const Ae=Me,st=xe&&Fe;let _t;return U[6]!==fe||U[7]!==st?(_t={isDragging:st,onDragStart:Q,onDragMove:fe,onDragStop:Ae},U[6]=fe,U[7]=st,U[8]=_t):_t=U[8],_t}();let _,E;e[7]!==b?({isDragging:E,..._}=b,e[7]=b,e[8]=_,e[9]=E):(_=e[8],E=e[9]);const R=!c&&!w;let M,T,z,j,C,D,N,k,L,m,y,x,O,I,P,H,A,G,Y,se,W,q,V,$,B,J,ie;if(e[10]!==l||e[11]!==d||e[12]!==_||e[13]!==f||e[14]!==R||e[15]!==g||e[16]!==E||e[17]!==c||e[18]!==t||e[19]!==i||e[20]!==r){const U=To.keyBy(t.cells,Xa);let xe;e[47]!==t||e[48]!==r?(xe=Q=>de=>{const fe=new Set(t.scrollableCells);de?fe.add(Q):fe.delete(Q),r({...t,scrollableCells:fe})},e[47]=t,e[48]=r,e[49]=xe):xe=e[49];const Pe=xe;let ye;e[50]!==t||e[51]!==r?(ye=Q=>de=>{const fe=new Map(t.cellSide);de===fe.get(Q)?fe.delete(Q):fe.set(Q,de),r({...t,cellSide:fe})},e[50]=t,e[51]=r,e[52]=ye):ye=e[52];const oe=ye;e[53]!==R||e[54]!==t.columns||e[55]!==t.maxWidth||e[56]!==t.rowHeight?(T={},t.maxWidth&&(T.maxWidth=`${t.maxWidth}px`),R&&(T.backgroundImage="repeating-linear-gradient(var(--gray-4) 0 1px, transparent 1px 100%), repeating-linear-gradient(90deg, var(--gray-4) 0 1px, transparent 1px 100%)",T.backgroundSize=`calc((100% / ${t.columns})) ${t.rowHeight}px`),e[53]=R,e[54]=t.columns,e[55]=t.maxWidth,e[56]=t.rowHeight,e[57]=T):T=e[57],M=Fa,$="lg",e[58]!==t.cells?(B={lg:t.cells},e[58]=t.cells,e[59]=B):B=e[59],J=T,z=d,j=!1;const be=R&&"bg-[var(--slate-2)] border-r",Fe=c&&"disable-animation",$e=!t.maxWidth&&"min-w-[800px]";let Re;e[60]!==be||e[61]!==Fe||e[62]!==$e?(C=te("w-full mx-auto bg-background flex-1 min-h-full",be,Fe,$e),e[60]=be,e[61]=Fe,e[62]=$e,e[63]=C):C=e[63],e[64]!==c?(D=c?[20,20]:void 0,e[64]=c,e[65]=D):D=e[65],N=Ga,k=!1,L=null,m=!0,y=t.rowHeight,e[66]!==t||e[67]!==r?(x=Q=>r({...t,cells:Q}),e[66]=t,e[67]=r,e[68]=x):x=e[68],e[69]!==f?(O=f?{i:f.i,w:f.w||2,h:f.h||2}:void 0,e[69]=f,e[70]=O):O=e[70],e[71]!==_||e[72]!==t||e[73]!==r?(I=(Q,de,fe)=>{_.onDragStop(),de&&r({...t,cells:[...Q,de]})},e[71]=_,e[72]=t,e[73]=r,e[74]=I):I=e[74],e[75]!==_?(P=(Q,de,fe,Me,Ae)=>{_.onDragStart(Ae)},H=(Q,de,fe,Me,Ae)=>{_.onDragMove(Ae)},A=()=>{_.onDragStop()},e[75]=_,e[76]=P,e[77]=H,e[78]=A):(P=e[76],H=e[77],A=e[78]),G=Ka,Y=R,se=R,W=R,q=R?`.${Bt}`:"noop",e[79]!==g?(Re=Q=>g.has(Q.id),e[79]=g,e[80]=Re):Re=e[80],V=l.filter(Re).map(Q=>{const de=U.get(Q.id),fe=t.scrollableCells.has(Q.id)??!1,Me=t.cellSide.get(Q.id),Ae=S.jsx(Ft,{code:Q.code,mode:i,cellId:Q.id,output:Q.output,status:Q.status,isScrollable:fe,side:Me,hidden:Q.errored||Q.interrupted||Q.stopped});return R?S.jsx(Fr,{id:Q.id,isDragging:E,side:Me,setSide:oe(Q.id),isScrollable:fe,setIsScrollable:Pe(Q.id),display:(de==null?void 0:de.y)===0?"bottom":"top",onDelete:()=>{r({...t,cells:t.cells.filter(st=>st.i!==Q.id)})},children:Ae},Q.id):S.jsx("div",{children:Ae},Q.id)}),e[10]=l,e[11]=d,e[12]=_,e[13]=f,e[14]=R,e[15]=g,e[16]=E,e[17]=c,e[18]=t,e[19]=i,e[20]=r,e[21]=M,e[22]=T,e[23]=z,e[24]=j,e[25]=C,e[26]=D,e[27]=N,e[28]=k,e[29]=L,e[30]=m,e[31]=y,e[32]=x,e[33]=O,e[34]=I,e[35]=P,e[36]=H,e[37]=A,e[38]=G,e[39]=Y,e[40]=se,e[41]=W,e[42]=q,e[43]=V,e[44]=$,e[45]=B,e[46]=J}else M=e[21],T=e[22],z=e[23],j=e[24],C=e[25],D=e[26],N=e[27],k=e[28],L=e[29],m=e[30],y=e[31],x=e[32],O=e[33],I=e[34],P=e[35],H=e[36],A=e[37],G=e[38],Y=e[39],se=e[40],W=e[41],q=e[42],V=e[43],$=e[44],B=e[45],J=e[46];e[81]!==M||e[82]!==z||e[83]!==j||e[84]!==C||e[85]!==D||e[86]!==N||e[87]!==k||e[88]!==L||e[89]!==m||e[90]!==y||e[91]!==x||e[92]!==O||e[93]!==I||e[94]!==P||e[95]!==H||e[96]!==A||e[97]!==G||e[98]!==Y||e[99]!==se||e[100]!==W||e[101]!==q||e[102]!==V||e[103]!==$||e[104]!==B||e[105]!==J?(ie=S.jsx(M,{breakpoint:$,layouts:B,style:J,cols:z,allowOverlap:j,className:C,containerPadding:D,margin:N,isBounded:k,compactType:L,preventCollision:m,rowHeight:y,onLayoutChange:x,droppingItem:O,onDrop:I,onDragStart:P,onDrag:H,onDragStop:A,onResizeStop:G,isDraggable:Y,isDroppable:se,isResizable:W,draggableHandle:q,children:V}),e[81]=M,e[82]=z,e[83]=j,e[84]=C,e[85]=D,e[86]=N,e[87]=k,e[88]=L,e[89]=m,e[90]=y,e[91]=x,e[92]=O,e[93]=I,e[94]=P,e[95]=H,e[96]=A,e[97]=G,e[98]=Y,e[99]=se,e[100]=W,e[101]=q,e[102]=V,e[103]=$,e[104]=B,e[105]=J,e[106]=ie):ie=e[106];let re,le,ee,K,ce,ge,Ne,pe,St,he=ie;if(c){if(t.bordered){let U;e[107]!==he||e[108]!==T?(U=S.jsx("div",{className:"flex flex-1 flex-col items-center",children:S.jsx("div",{style:T,className:"bg-background flex-1 border-t border-x rounded-t shadow-sm w-full overflow-hidden",children:he})}),e[107]=he,e[108]=T,e[109]=U):U=e[109],he=U}return he}if(e[110]!==l||e[111]!==he||e[112]!==g||e[113]!==w||e[114]!==t||e[115]!==i||e[116]!==r||e[117]!==T){let U;e[125]!==g?(U=oe=>!g.has(oe.id),e[125]=g,e[126]=U):U=e[126];const xe=l.filter(U);if(t.bordered){let oe,be;e[127]!==he?(oe=S.jsx("div",{className:"h-full overflow-auto",children:he}),e[127]=he,e[128]=oe):oe=e[128],e[129]!==T||e[130]!==oe?(be=S.jsx("div",{style:T,className:"bg-background border-t border-x rounded-t shadow-sm w-full mx-auto mt-4 h-[calc(100%-1rem)] overflow-hidden",children:oe}),e[129]=T,e[130]=oe,e[131]=be):be=e[131],he=be}let Pe,ye;e[132]!==w||e[133]!==t||e[134]!==r?(ge=S.jsx(Va,{layout:t,setLayout:r,isLocked:w,setIsLocked:a}),e[132]=w,e[133]=t,e[134]=r,e[135]=ge):ge=e[135],e[136]===Symbol.for("react.memo_cache_sentinel")?(K=te("relative flex z-10 flex-1 overflow-hidden"),Pe=te("flex-grow overflow-auto transparent-when-disconnected"),e[136]=K,e[137]=Pe):(K=e[136],Pe=e[137]),e[138]!==he?(ce=S.jsx("div",{className:Pe,children:he}),e[138]=he,e[139]=ce):ce=e[139],re="flex-none flex flex-col w-[300px] p-2 pb-20 gap-2 overflow-auto bg-[var(--slate-2)] border-t border-x rounded-t shadow-sm transparent-when-disconnected mx-2 mt-4",e[140]===Symbol.for("react.memo_cache_sentinel")?(le=S.jsx("div",{className:"text font-bold text-[var(--slate-20)] flex-shrink-0",children:"Outputs"}),e[140]=le):le=e[140],e[141]!==t.columns||e[142]!==t.rowHeight||e[143]!==i?(ye=oe=>S.jsx("div",{draggable:!0,unselectable:"on","data-cell-id":oe.id,onDragStart:be=>{const Fe=be.currentTarget.offsetHeight;v({i:oe.id,w:t.columns/4,h:Math.ceil(Fe/t.rowHeight)||1}),be.dataTransfer.setData("text/plain","")},className:te(Bt,"droppable-element bg-background border-border border overflow-hidden p-2 rounded flex-shrink-0"),children:S.jsx(Ft,{code:oe.code,className:"select-none pointer-events-none",mode:i,cellId:oe.id,output:oe.output,isScrollable:!1,status:oe.status,hidden:!1})},oe.id),e[141]=t.columns,e[142]=t.rowHeight,e[143]=i,e[144]=ye):ye=e[144],ee=xe.map(ye),e[110]=l,e[111]=he,e[112]=g,e[113]=w,e[114]=t,e[115]=i,e[116]=r,e[117]=T,e[118]=re,e[119]=le,e[120]=ee,e[121]=K,e[122]=ce,e[123]=ge,e[124]=he}else re=e[118],le=e[119],ee=e[120],K=e[121],ce=e[122],ge=e[123],he=e[124];return e[145]!==re||e[146]!==le||e[147]!==ee?(Ne=S.jsxs("div",{className:re,children:[le,ee]}),e[145]=re,e[146]=le,e[147]=ee,e[148]=Ne):Ne=e[148],e[149]!==K||e[150]!==ce||e[151]!==Ne?(pe=S.jsxs("div",{className:K,children:[ce,Ne]}),e[149]=K,e[150]=ce,e[151]=Ne,e[152]=pe):pe=e[152],e[153]!==ge||e[154]!==pe?(St=S.jsxs(S.Fragment,{children:[ge,pe]}),e[153]=ge,e[154]=pe,e[155]=St):St=e[155],St},getInitialLayout:()=>({columns:24,rowHeight:20,maxWidth:1400,bordered:!0,scrollableCells:new Set,cellSide:new Map,cells:[]})},Za=we.lazy(()=>ai(()=>import("./slides-component-BV_PGMRS.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),Gr=Z.memo(n=>{const e=F.c(6),{output:t,cellId:r,status:l}=n;let i;e[0]!==l?(i=Jt(l),e[0]=l,e[1]=i):i=e[1];const c=i;let u;return e[2]!==r||e[3]!==c||e[4]!==t?(u=S.jsx(jt,{className:"contents",allowExpand:!1,output:t,cellId:r,stale:c,loading:c}),e[2]=r,e[3]=c,e[4]=t,e[5]=u):u=e[5],u});Gr.displayName="Slide";const Ja={type:"slides",name:"Slides",validator:ue.object({}),deserializeLayout:(n,e)=>({}),serializeLayout:(n,e)=>({}),Component:n=>{const e=F.c(11),{cells:t,mode:r}=n,l=r==="read";let i,c;if(e[0]!==t||e[1]!==r){let f;e[3]!==r?(f=v=>v.output==null||v.output.data===""?null:S.jsx(Gr,{cellId:v.id,code:v.code,status:v.status,output:v.output,mode:r},v.id),e[3]=r,e[4]=f):f=e[4],i=t.map(f),e[0]=t,e[1]=r,e[2]=i}else i=e[2];e[5]!==i?(c=S.jsx(Za,{forceKeyboardNavigation:!0,children:i}),e[5]=i,e[6]=c):c=e[6];const u=c;if(l){let f;return e[7]!==u?(f=S.jsx("div",{className:"p-4",children:u}),e[7]=u,e[8]=f):f=e[8],f}let g;return e[9]!==u?(g=S.jsx("div",{className:"pr-9",children:u}),e[9]=u,e[10]=g):g=e[10],g},getInitialLayout:()=>({})};Z.memo(n=>{const e=we.useRef({});return S.jsx(Mo,{minHeight:"200px",maxHeight:"200px",ref:e,theme:"dark",value:n.code,className:"[&>*]:outline-none [&>.cm-editor]:pr-0 overflow-hidden dark",readOnly:!0,editable:!1,basicSetup:{lineNumbers:!1},extensions:[al.shell(),si.updateListener.of(t=>{var r;t.docChanged&&((r=e.current.view)==null||r.dispatch({selection:{anchor:t.state.doc.length,head:t.state.doc.length},scrollIntoView:!0}))})]})}).displayName="DebuggerOutput";let Vr,Ur;Vr=n=>{const e=F.c(30),{onSubmit:t,onClear:r}=n;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=te("m-0 w-9 h-8 bg-[var(--slate-2)] text-[var(--slate-11)] hover:text-[var(--blue-11)] rounded-none hover:bg-[var(--sky-3)] hover:border-[var(--blue-8)]","first:rounded-l-lg first:border-l border-t border-b hover:border","last:rounded-r-lg last:border-r"),e[0]=l):l=e[0];const i=l;let c,u,g,f,v,w,a,o,s,d,h,p,b,_,E;return e[1]!==t?(c=()=>t("n"),e[1]=t,e[2]=c):c=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(Ln,{fontSize:36,className:"w-5 h-5"}),e[3]=u):u=e[3],e[4]!==c?(g=S.jsx(Te,{content:"Next line",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-next-button",className:i,onClick:c,children:u})}),e[4]=c,e[5]=g):g=e[5],e[6]!==t?(f=()=>t("c"),e[6]=t,e[7]=f):f=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(v=te(i,"text-[var(--grass-11)] hover:text-[var(--grass-11)] hover:bg-[var(--grass-3)] hover:border-[var(--grass-8)]"),w=S.jsx(wn,{fontSize:36,className:"w-5 h-5"}),e[8]=v,e[9]=w):(v=e[8],w=e[9]),e[10]!==f?(a=S.jsx(Te,{content:"Continue execution",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-continue-button",onClick:f,className:v,children:w})}),e[10]=f,e[11]=a):a=e[11],e[12]!==t?(o=()=>t("bt"),e[12]=t,e[13]=o):o=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(s=S.jsx(Tn,{fontSize:36,className:"w-5 h-5"}),e[14]=s):s=e[14],e[15]!==o?(d=S.jsx(Te,{content:"Print stack trace",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-stack-button",className:i,onClick:o,children:s})}),e[15]=o,e[16]=d):d=e[16],e[17]!==t?(h=()=>t("help"),e[17]=t,e[18]=h):h=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx(ii,{fontSize:36,className:"w-5 h-5"}),e[19]=p):p=e[19],e[20]!==h?(b=S.jsx(Te,{content:"Help",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-help-button",className:i,onClick:h,children:p})}),e[20]=h,e[21]=b):b=e[21],e[22]!==r?(_=r&&S.jsx(Te,{content:"Clear",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-clear-button",className:te(i,"text-[var(--red-11)] hover:text-[var(--red-11)] hover:bg-[var(--red-2)] hover:border-[var(--red-8)]"),onClick:r,children:S.jsx(Hn,{fontSize:36,className:"w-5 h-5"})})}),e[22]=r,e[23]=_):_=e[23],e[24]!==d||e[25]!==b||e[26]!==_||e[27]!==g||e[28]!==a?(E=S.jsxs("div",{className:"flex",children:[g,a,d,b,_]}),e[24]=d,e[25]=b,e[26]=_,e[27]=g,e[28]=a,e[29]=E):E=e[29],E},Yo=n=>{const e=F.c(13);let t,r,l,i;e[0]!==n?({value:i,onChange:t,placeholder:r,...l}=n,e[0]=n,e[1]=t,e[2]=r,e[3]=l,e[4]=i):(t=e[1],r=e[2],l=e[3],i=e[4]);const c=Z.useRef(null),u=Yr(i,t);let g;e[5]!==u.onBlur?(g=()=>{const o=u.onBlur,s=c.current;if(s)return s.addEventListener("blur",o),()=>{s.removeEventListener("blur",o)}},e[5]=u.onBlur,e[6]=g):g=e[6],Io(g);const f=u.value,v=u.onChange;let w,a;return e[7]===Symbol.for("react.memo_cache_sentinel")?(w=an.onEnter(an.stopPropagation()),e[7]=w):w=e[7],e[8]!==u.onChange||e[9]!==u.value||e[10]!==r||e[11]!==l?(a=S.jsx(Ho,{"data-testid":"cell-name-input",value:f,onChange:v,ref:c,placeholder:r,className:"shadow-none! hover:shadow-none focus:shadow-none focus-visible:shadow-none",onKeyDown:w,...l}),e[8]=u.onChange,e[9]=u.value,e[10]=r,e[11]=l,e[12]=a):a=e[12],a},Ur=n=>{const e=F.c(11),{value:t,cellId:r,className:l}=n,{updateCellName:i}=Lo();let c;e[0]!==r||e[1]!==i?(c=o=>i({cellId:r,name:o}),e[0]=r,e[1]=i,e[2]=c):c=e[2];const u=Yr(t,c);if(Et(t))return null;let g;e[3]!==l?(g=te("outline-none border hover:border-cyan-500/40 focus:border-cyan-500/40",l),e[3]=l,e[4]=g):g=e[4];const f=u.onChange,v=u.onBlur;let w,a;return e[5]===Symbol.for("react.memo_cache_sentinel")?(w=an.onEnter(es),e[5]=w):w=e[5],e[6]!==u.onBlur||e[7]!==u.onChange||e[8]!==g||e[9]!==t?(a=S.jsx(Te,{content:"Click to rename",children:S.jsx("span",{className:g,contentEditable:!0,suppressContentEditableWarning:!0,onChange:f,onBlur:v,onKeyDown:w,children:t})}),e[6]=u.onBlur,e[7]=u.onChange,e[8]=g,e[9]=t,e[10]=a):a=e[10],a};function Yr(n,e){const t=F.c(11),[r,l]=Z.useState(n);let i;t[0]!==e||t[1]!==n?(i=w=>{if(w===n)return;if(!w||Et(w))return void e(w);const a=li(w,ci());e(a)},t[0]=e,t[1]=n,t[2]=i):i=t[2];const c=i;let u,g,f,v;return t[3]!==r?(u=Et(r)?"":r,t[3]=r,t[4]=u):u=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(g=w=>{const a=w.target.value,o=sn(a);l(o)},t[5]=g):g=t[5],t[6]!==c?(f=w=>{if(w.target instanceof HTMLInputElement){const a=w.target.value;c(sn(a))}else if(w.target instanceof HTMLSpanElement){const a=w.target.innerText.trim();c(sn(a))}},t[6]=c,t[7]=f):f=t[7],t[8]!==u||t[9]!==f?(v={value:u,onChange:g,onBlur:f},t[8]=u,t[9]=f,t[10]=v):v=t[10],v}function es(n){n.target instanceof HTMLElement&&n.target.blur()}let $r,Xr,Kr,Qr,Gt;$r=new di,On=n=>{const e=F.c(2);let t;return e[0]!==n?(t=S.jsx(ui,{children:S.jsx(Xr,{...n})}),e[0]=n,e[1]=t):t=e[1],t},Xr=n=>{const e=F.c(36),t=we.useRef(null),{consoleOutputs:r,stale:l,cellName:i,cellId:c,onSubmitDebugger:u,onClear:g,onRefactorWithAI:f,className:v}=n,w=r.length>0;let a,o,s,d,h,p,b,_;if(e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{const E=t.current;if(!E)return;const R=E.scrollHeight-E.clientHeight;R-E.scrollTop<120&&(E.scrollTop=R)},e[0]=a):a=e[0],Z.useLayoutEffect(a),!w&&Et(i))return null;if(e[1]!==c||e[2]!==v||e[3]!==r||e[4]!==w||e[5]!==g||e[6]!==f||e[7]!==u||e[8]!==l){const E=[...r].reverse(),R=E.some(ts),M=E.findIndex(ns);o=l?"This console output is stale":void 0,s="console-output-area",d=t;const T=l&&"marimo-output-stale",z=w?"p-5":"p-3";let j;e[14]!==v||e[15]!==T||e[16]!==z?(h=te("console-output-area overflow-hidden rounded-b-lg flex flex-col-reverse w-full gap-1",T,z,v),e[14]=v,e[15]=T,e[16]=z,e[17]=h):h=e[17],e[18]!==c||e[19]!==r.length||e[20]!==R||e[21]!==M||e[22]!==g||e[23]!==f||e[24]!==u?(j=(C,D)=>{if(C.channel==="pdb")return null;if(C.channel==="stdin"){fi(typeof C.data=="string","Expected data to be a string");const N=r.length-D-1;return C.response==null&&M===D?S.jsx(Kr,{output:C.data,isPdb:R,onSubmit:k=>u(k,N),onClear:g},D):S.jsx(Qr,{output:C.data,response:C.response},D)}return S.jsx(we.Fragment,{children:S.jsx(pi,{cellId:c,onRefactorWithAI:f,message:C})},D)},e[18]=c,e[19]=r.length,e[20]=R,e[21]=M,e[22]=g,e[23]=f,e[24]=u,e[25]=j):j=e[25],p=E.map(j),e[1]=c,e[2]=v,e[3]=r,e[4]=w,e[5]=g,e[6]=f,e[7]=u,e[8]=l,e[9]=o,e[10]=s,e[11]=d,e[12]=h,e[13]=p}else o=e[9],s=e[10],d=e[11],h=e[12],p=e[13];return e[26]!==c||e[27]!==i?(b=S.jsx(Ur,{value:i,cellId:c,className:"bg-[var(--slate-4)] border-[var(--slate-4)] hover:bg-[var(--slate-5)] dark:border-[var(--sky-5)] dark:bg-[var(--sky-6)] dark:text-[var(--sky-12)] text-[var(--slate-12)] rounded-tl rounded-br-lg absolute right-0 bottom-0 text-xs px-1.5 py-0.5 font-mono"}),e[26]=c,e[27]=i,e[28]=b):b=e[28],e[29]!==o||e[30]!==s||e[31]!==d||e[32]!==h||e[33]!==p||e[34]!==b?(_=S.jsxs("div",{title:o,"data-testid":s,ref:d,className:h,children:[p,b]}),e[29]=o,e[30]=s,e[31]=d,e[32]=h,e[33]=p,e[34]=b,e[35]=_):_=e[35],_},Kr=n=>{const e=F.c(13);let t,r,l,i,c;return e[0]!==n.output?(t=Gt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(hi,{className:"w-5 h-5"}),e[2]=r):r=e[2],e[3]!==n?(l=S.jsx(Ho,{"data-testid":"console-input","data-stdin-blocking":!0,type:"text",autoComplete:"off",autoFocus:!0,icon:r,className:"m-0 h-8 focus-visible:shadow-xsSolid",placeholder:"stdin",onKeyDownCapture:u=>{u.key!=="Enter"||u.shiftKey||(n.onSubmit(u.currentTarget.value),u.preventDefault(),u.stopPropagation()),u.key==="Enter"&&u.metaKey&&(u.preventDefault(),u.stopPropagation())}}),e[3]=n,e[4]=l):l=e[4],e[5]!==n.isPdb||e[6]!==n.onClear||e[7]!==n.onSubmit?(i=n.isPdb&&S.jsx(Vr,{onSubmit:n.onSubmit,onClear:n.onClear}),e[5]=n.isPdb,e[6]=n.onClear,e[7]=n.onSubmit,e[8]=i):i=e[8],e[9]!==t||e[10]!==l||e[11]!==i?(c=S.jsxs("div",{className:"flex gap-2 items-center pt-2",children:[t,l,i]}),e[9]=t,e[10]=l,e[11]=i,e[12]=c):c=e[12],c},Qr=n=>{const e=F.c(7);let t,r,l;return e[0]!==n.output?(t=Gt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]!==n.response?(r=S.jsx("span",{className:"text-[var(--sky-11)]",children:n.response}),e[2]=n.response,e[3]=r):r=e[3],e[4]!==t||e[5]!==r?(l=S.jsxs("div",{className:"flex gap-2 items-center",children:[t,r]}),e[4]=t,e[5]=r,e[6]=l):l=e[6],l},Gt=n=>n?S.jsx("span",{dangerouslySetInnerHTML:{__html:$r.ansi_to_html(n)}}):null;function ts(n){return typeof n.data=="string"&&n.data.includes("(Pdb)")}function ns(n){return n.channel==="stdin"}const rs=/\/@file\/([^\s/]+)\.([\dA-Za-z]+)/g;Xe=class{static get INSTANCE(){const n="_marimo_private_VirtualFileTracker";return window[n]||(window[n]=new Xe),window[n]}constructor(){this.virtualFiles=new Map}track(n){const e=n.output,t=n.cell_id;if(e)switch(e.mimetype){case"application/json":case"text/html":{const r=this.virtualFiles.get(t),l=function(i){if(!i)return new Set;const c=new Set,u=(typeof i=="string"?i:JSON.stringify(i)).match(rs);if(u)for(const g of u)c.add(g);return c}(e.data);return r==null||r.forEach(i=>l.add(i)),void this.virtualFiles.set(t,l)}default:return}}filenames(){const n=new Set;for(const e of this.virtualFiles.values())e.forEach(t=>n.add(t));return[...n]}removeForCellId(n){this.virtualFiles.delete(n)}},Sn=async function(n){const{filename:e,includeCode:t}=n,r=await mi({download:!0,includeCode:t,files:Xe.INSTANCE.filenames()}),l=gi.basename(e)??"notebook.py";yi(new Blob([r],{type:"text/html"}),bi.toHTML(l))},fn=function(n){const e=F.c(7),[t,r]=Z.useState(void 0),[l,i]=Z.useState(void 0),c=Z.useRef(null),u=Z.useRef(null);let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=new Map,e[0]=g):g=e[0];const f=Z.useRef(g);let v,w,a;return e[1]!==n?(v=()=>{if(n.length!==0)return c.current=new IntersectionObserver(o=>{let s;if(s=!1,o.forEach(d=>{const h=d.target;d.isIntersecting?(!u.current||h.getBoundingClientRect().top<u.current.getBoundingClientRect().top)&&(u.current=h,s=!0):h===u.current&&(u.current=null,s=!0)}),s&&u.current){const d=Wo(u.current),h="id"in d?d.id:d.path;r(h),i(f.current.get(u.current))}},{root:wo()==="edit"?document.getElementById("App"):void 0,rootMargin:"0px",threshold:0}),n.forEach(o=>{var s;if(o){const d=Wo(o[0]),h=n.map(os).filter(p=>"id"in d?p.id===d.id:p.textContent===o[0].textContent).indexOf(o[0]);f.current.set(o[0],h),(s=c.current)==null||s.observe(o[0])}}),()=>{c.current&&c.current.disconnect(),u.current=null}},w=[n],e[1]=n,e[2]=v,e[3]=w):(v=e[2],w=e[3]),Z.useEffect(v,w),e[4]!==t||e[5]!==l?(a={activeHeaderId:t,activeOccurrences:l},e[4]=t,e[5]=l,e[6]=a):a=e[6],a};function os(n){const[e]=n;return e}un=function(n){if(n.length===0)return[];const e=new Map;return n.map(t=>{const r="id"in t.by?t.by.id:t.by.path,l=e.get(r)??0;e.set(r,l+1);const i=Jr(t,l);return i?[i,r]:null}).filter(Boolean)};function Zr(n,e){const t=Jr(n,e);t?(t.scrollIntoView({behavior:"smooth",block:"start"}),t.classList.add("outline-item-highlight"),setTimeout(()=>{t.classList.remove("outline-item-highlight")},3e3)):ve.warn("Could not find element for outline item",n)}function Jr(n,e){return"id"in n.by?document.querySelectorAll(`[id="${CSS.escape(n.by.id)}"]`)[e]:document.evaluate(n.by.path,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}let eo;Nn=()=>{const n=F.c(19),{items:e}=je(vi);let t;n[0]!==e?(t=un(e),n[0]=e,n[1]=t):t=n[1];const{activeHeaderId:r,activeOccurrences:l}=fn(t),[i,c]=we.useState(!1);if(e.length<2)return null;let u,g,f;n[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>c(!0),g=()=>c(!1),f=te("fixed top-[25vh] right-8 z-[10000]","hidden md:block"),n[2]=u,n[3]=g,n[4]=f):(u=n[2],g=n[3],f=n[4]);const v=i?"-left-[280px] opacity-100":"left-[300px] opacity-0";let w,a,o,s;return n[5]!==v?(w=te("-top-4 max-h-[70vh] bg-background rounded-lg shadow-lg absolute overflow-auto transition-all duration-300 w-[300px] border",v),n[5]=v,n[6]=w):w=n[6],n[7]!==r||n[8]!==l||n[9]!==e||n[10]!==w?(a=S.jsx(yn,{className:w,items:e,activeHeaderId:r,activeOccurrences:l}),n[7]=r,n[8]=l,n[9]=e,n[10]=w,n[11]=a):a=n[11],n[12]!==r||n[13]!==l||n[14]!==e?(o=S.jsx(eo,{items:e,activeHeaderId:r,activeOccurrences:l}),n[12]=r,n[13]=l,n[14]=e,n[15]=o):o=n[15],n[16]!==a||n[17]!==o?(s=S.jsxs("div",{onMouseEnter:u,onMouseLeave:g,className:f,children:[a,o]}),n[16]=a,n[17]=o,n[18]=s):s=n[18],s},eo=n=>{const e=F.c(8),{items:t,activeHeaderId:r,activeOccurrences:l}=n;let i,c,u;if(e[0]!==r||e[1]!==l||e[2]!==t){const g=new Map;i="flex flex-col gap-4 items-end max-h-[70vh] overflow-hidden",c=t.map((f,v)=>{const w="id"in f.by?f.by.id:f.by.path,a=g.get(w)??0;return g.set(w,a+1),S.jsx("div",{className:te("h-[2px] bg-muted-foreground/60",f.level===1&&"w-5",f.level===2&&"w-4",f.level===3&&"w-3",f.level===4&&"w-2",a===l&&r===w&&"bg-foreground"),onClick:()=>Zr(f,a)},`${w}-${v}`)}),e[0]=r,e[1]=l,e[2]=t,e[3]=i,e[4]=c}else i=e[3],c=e[4];return e[5]!==i||e[6]!==c?(u=S.jsx("div",{className:i,children:c}),e[5]=i,e[6]=c,e[7]=u):u=e[7],u},yn=n=>{const e=F.c(11),{items:t,activeHeaderId:r,activeOccurrences:l,className:i}=n;let c,u,g;if(e[0]!==r||e[1]!==l||e[2]!==i||e[3]!==t){const f=new Map;e[6]!==i?(c=te("flex flex-col overflow-auto py-4 pl-2",i),e[6]=i,e[7]=c):c=e[7],u=t.map((v,w)=>{const a="id"in v.by?v.by.id:v.by.path,o=f.get(a)??0;return f.set(a,o+1),S.jsx("div",{className:te("px-2 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l",v.level===1&&"font-semibold",v.level===2&&"ml-3",v.level===3&&"ml-6",v.level===4&&"ml-9",o===l&&r===a&&"text-accent-foreground"),onClick:()=>Zr(v,o),children:v.name},`${a}-${w}`)}),e[0]=r,e[1]=l,e[2]=i,e[3]=t,e[4]=c,e[5]=u}else c=e[4],u=e[5];return e[8]!==c||e[9]!==u?(g=S.jsx("div",{className:c,children:u}),e[8]=c,e[9]=u,e[10]=g):g=e[10],g},Zo=function(n){const e=new URL(window.location.href);return e.hash=`scrollTo=${encodeURIComponent(n)}`,e.toString()},Jo=function(n){return n!==wi&&!!(n&&n.trim().length>0)},Cn=function(n,e){const t=F.c(5),[r,l]=Z.useState(!0);let i,c;return t[0]!==e||t[1]!==n?(i=()=>{const u=Math.max(Math.min(15*(n-1),100),0),g=setTimeout(()=>{l(!1),e!=="read"&&requestAnimationFrame(as)},u);return()=>clearTimeout(g)},t[0]=e,t[1]=n,t[2]=i):i=t[2],Io(i),t[3]!==r?(c={invisible:r},t[3]=r,t[4]=c):c=t[4],c};function as(){const n=function(e){const t=e.match(/scrollTo=([^&]+)/),r=t==null?void 0:t[1];return r?decodeURIComponent(r.split("&")[0]):null}(window.location.hash);if(n)(function(e){var r,l;if(no)return;const t=document.querySelector(`[data-cell-name="${e}"]`);if(t){if(t.scrollIntoView({behavior:"smooth",block:"start"}),no=!0,t instanceof HTMLElement){t.focus();const{cellHandles:i}=Dt(),c=t.dataset.cellId;if(!c)return void ve.error(`Missing cellId for cell with name ${e}`);const u=(l=(r=i[c])==null?void 0:r.current)==null?void 0:l.editorView;u&&u.focus()}}else ve.warn(`Cannot focus cell with name ${e} because it was not found`),to()})(n);else try{to()}catch(e){const t=e;ve.warn("Error focusing first editor",t)}}function to(){var r;const{cellIds:n,cellData:e,cellHandles:t}=Dt();for(const l of n.iterateTopLevelIds){const i=t[l];if(!e[l].config.hide_code&&((r=i==null?void 0:i.current)!=null&&r.editorView))return void i.current.editorView.focus()}}let no=!1,ro,Vt;kn=n=>{const e=F.c(15),{invisible:t,appConfig:r,className:l,children:i,innerClassName:c}=n;let u;e[0]!==l?(u=te("px-1 sm:px-16 md:px-20 xl:px-24 print:px-0 print:pb-0",l),e[0]=l,e[1]=u):u=e[1];const g=r.width==="compact"&&"max-w-contentWidth min-w-[400px]",f=r.width==="medium"&&"max-w-contentWidthMedium min-w-[400px]",v=r.width==="columns"&&"w-fit",w=r.width==="full"&&"max-w-full",a=t&&"invisible";let o,s,d;return e[2]!==c||e[3]!==g||e[4]!==f||e[5]!==v||e[6]!==w||e[7]!==a?(o=te("m-auto pb-24 sm:pb-12",g,f,v,w,a,c),e[2]=c,e[3]=g,e[4]=f,e[5]=v,e[6]=w,e[7]=a,e[8]=o):o=e[8],e[9]!==i||e[10]!==o?(s=S.jsx("div",{className:o,children:i}),e[9]=i,e[10]=o,e[11]=s):s=e[11],e[12]!==u||e[13]!==s?(d=S.jsx("div",{className:u,children:s}),e[12]=u,e[13]=s,e[14]=d):d=e[14],d},ro=n=>{const e=F.c(20),{canShowCode:t,showCode:r,onToggleShowCode:l}=n,i=ls,c=cs;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=dt(),e[0]=u):u=e[0];const g=u;let f,v,w,a;if(e[1]!==t||e[2]!==l||e[3]!==r){if(f=[],t){let o,s,d,h,p;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=S.jsx(Ni,{className:"mr-2",size:14,strokeWidth:1.5}),s=S.jsx("span",{className:"flex-1",children:"Show code"}),e[5]=o,e[6]=s):(o=e[5],s=e[6]),e[7]!==r?(d=r&&S.jsx(zo,{className:"h-4 w-4"}),e[7]=r,e[8]=d):d=e[8],e[9]!==l||e[10]!==d?(h=S.jsxs(ct,{onSelect:l,id:"notebook-action-show-code",children:[o,s,d]},"show-code"),e[9]=l,e[10]=d,e[11]=h):h=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx(Ao,{},"show-code-separator"),e[12]=p):p=e[12],f.push(h,p)}if(!g){let o,s,d;e[13]===Symbol.for("react.memo_cache_sentinel")?(o=S.jsxs(ct,{onSelect:c,id:"notebook-action-download-html",children:[S.jsx(hn,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as HTML"]},"download-html"),s=S.jsx(Ao,{},"download-html-separator"),e[13]=o,e[14]=s):(o=e[13],s=e[14]),e[15]===Symbol.for("react.memo_cache_sentinel")?(d=S.jsxs(ct,{onSelect:i,id:"notebook-action-download-png",children:[S.jsx(mn,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as PNG"]},"download-png"),e[15]=d):d=e[15],f.push(o,s,d)}e[1]=t,e[2]=l,e[3]=r,e[4]=f}else f=e[4];return f.length===0?null:(e[16]===Symbol.for("react.memo_cache_sentinel")?(v=te("right-0 top-0 z-50 m-4 no-print flex gap-2 print:hidden",dt()?"absolute":"fixed"),e[16]=v):v=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(w=S.jsx(nn,{asChild:!0,children:S.jsx(ze,{variant:"secondary",size:"xs",children:S.jsx(pn,{className:"w-4 h-4"})})}),e[17]=w):w=e[17],e[18]!==f?(a=S.jsx("div",{id:"notebook-actions-dropdown",className:v,children:S.jsxs(on,{modal:!1,children:[w,S.jsx(rn,{align:"end",className:"no-print w-[220px]",children:f})]})}),e[18]=f,e[19]=a):a=e[19],a)},Vt=Z.memo(n=>{const e=F.c(55),{output:t,consoleOutputs:r,cellOutputArea:l,cellId:i,status:c,stopped:u,errored:g,config:f,interrupted:v,staleInputs:w,runStartTimestamp:a,code:o,showCode:s,mode:d,name:h,kiosk:p}=n,b=Z.useRef(null);let _;e[0]!==v||e[1]!==t||e[2]!==a||e[3]!==w||e[4]!==c?(_=ji({status:c,output:t,interrupted:v,runStartTimestamp:a,staleInputs:w},!1),e[0]=v,e[1]=t,e[2]=a,e[3]=w,e[4]=c,e[5]=_):_=e[5];const E=_;let R;e[6]!==c?(R=Jt(c),e[6]=c,e[7]=R):R=e[7];const M=R,T=p&&d!=="present";let z,j;if(e[8]!==o||e[9]!==g||e[10]!==T||e[11]!==d||e[12]!==s||e[13]!==u){z=new Ei().isSupported(o);const x=!s&&!T;j=te("marimo-cell","hover-actions-parent empty:invisible",{published:x,interactive:d==="edit","has-error":g,stopped:u,borderless:z&&!x}),e[8]=o,e[9]=g,e[10]=T,e[11]=d,e[12]=s,e[13]=u,e[14]=z,e[15]=j}else z=e[14],j=e[15];const C=j;let D;e[16]!==i?(D=Di.create(i),e[16]=i,e[17]=D):D=e[17];const N=D;if(d==="read"&&s||T){let x;e[18]!==i||e[19]!==M||e[20]!==t||e[21]!==E?(x=S.jsx(jt,{allowExpand:!0,output:t,className:"output-area",cellId:i,stale:E,loading:M}),e[18]=i,e[19]=M,e[20]=t,e[21]=E,e[22]=x):x=e[22];const O=x,I=o.trim()==="",P=l==="above"&&O;let H;e[23]!==o||e[24]!==f||e[25]!==I||e[26]!==z||e[27]!==p?(H=!z&&!I&&S.jsx("div",{className:"tray",children:S.jsx(Ci,{initiallyHideCode:f.hide_code||p,code:o})}),e[23]=o,e[24]=f,e[25]=I,e[26]=z,e[27]=p,e[28]=H):H=e[28];const A=l==="below"&&O;let G,Y;return e[29]!==i||e[30]!==r||e[31]!==h||e[32]!==E?(G=S.jsx(On,{consoleOutputs:r,stale:E,cellName:h,onSubmitDebugger:us,cellId:i,debuggerActive:!1}),e[29]=i,e[30]=r,e[31]=h,e[32]=E,e[33]=G):G=e[33],e[34]!==N||e[35]!==i||e[36]!==C||e[37]!==h||e[38]!==P||e[39]!==H||e[40]!==A||e[41]!==G?(Y=S.jsxs("div",{tabIndex:-1,id:N,ref:b,className:C,"data-cell-id":i,"data-cell-name":h,children:[P,H,A,G]}),e[34]=N,e[35]=i,e[36]=C,e[37]=h,e[38]=P,e[39]=H,e[40]=A,e[41]=G,e[42]=Y):Y=e[42],Y}const k=ki(t==null?void 0:t.mimetype);if(g||v||u||k)return null;const L=d==="edit";let m,y;return e[43]!==i||e[44]!==M||e[45]!==t||e[46]!==E||e[47]!==L?(m=S.jsx(jt,{allowExpand:L,output:t,className:"output-area",cellId:i,stale:E,loading:M}),e[43]=i,e[44]=M,e[45]=t,e[46]=E,e[47]=L,e[48]=m):m=e[48],e[49]!==N||e[50]!==i||e[51]!==C||e[52]!==h||e[53]!==m?(y=S.jsx("div",{tabIndex:-1,id:N,ref:b,className:C,"data-cell-id":i,"data-cell-name":h,children:m}),e[49]=N,e[50]=i,e[51]=C,e[52]=h,e[53]=m,e[54]=y):y=e[54],y}),Vt.displayName="VerticalCell";function ss(n){return!!n.code}function is(n){return!n}async function ls(){const n=document.getElementById("App");n&&await Pi(n,document.title)}async function cs(){document.getElementById("App")&&await Sn({filename:document.title,includeCode:!0})}function us(){return null}const Ut=[Qa,Ja,{type:"vertical",name:"Vertical",validator:ue.any(),Component:n=>{const e=F.c(34),{cells:t,appConfig:r,mode:l}=n,{invisible:i}=Cn(t.length,l),c=je(ln),[u]=xi(),g=je(xo);let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=new URLSearchParams(window.location.search),e[0]=f):f=e[0];const v=f;let w;e[1]!==c||e[2]!==g?(w=()=>{if(!g)return!1;const C=v.get(lt.showCode);return C===null?dt()||Ot()||c:C==="true"},e[1]=c,e[2]=g,e[3]=w):w=e[3];const[a,o]=Z.useState(w);let s;e[4]!==t||e[5]!==c||e[6]!==l?(s=()=>{const C=t.some(ss);if(c)return!0;const D=v.get(lt.includeCode);return l==="read"&&D!=="false"&&C},e[4]=t,e[5]=c,e[6]=l,e[7]=s):s=e[7];const d=s;let h;e[8]!==d?(h=d(),e[8]=d,e[9]=h):h=e[9];const p=h;let b;e[10]!==p||e[11]!==c||e[12]!==l||e[13]!==a||e[14]!==u?(b=C=>S.jsx(Vt,{cellId:C.id,output:C.output,consoleOutputs:C.consoleOutputs,status:C.status,code:C.code,config:C.config,cellOutputArea:u.display.cell_output,stopped:C.stopped,showCode:a&&p,errored:C.errored,mode:l,runStartTimestamp:C.runStartTimestamp,interrupted:C.interrupted,staleInputs:C.staleInputs,name:C.name,kiosk:c},C.id),e[10]=p,e[11]=c,e[12]=l,e[13]=a,e[14]=u,e[15]=b):b=e[15];const _=b;let E;e[16]!==r.width||e[17]!==t||e[18]!==_?(E=()=>{if(r.width==="columns"){const C=function(D){const N=new Map;let k=0;return D.forEach(L=>{var y;const m=L.config.column??k;k=m,N.has(m)||N.set(m,[]),(y=N.get(m))==null||y.push(L)}),[...N.entries()].sort(([L],[m])=>L-m)}(t);return S.jsx("div",{className:"flex flex-row gap-8 w-full",children:C.map(D=>{const[N,k]=D;return S.jsx("div",{className:"flex-1 flex flex-col gap-2 w-contentWidth",children:k.map(_)},N)})})}return t.length===0?S.jsx("div",{className:"flex-1 flex flex-col items-center justify-center py-8",children:S.jsxs(Si,{variant:"info",children:[S.jsx(_i,{children:"Empty Notebook"}),S.jsx(Oi,{children:"This notebook has no code or outputs."})]})}):S.jsx(S.Fragment,{children:t.map(_)})},e[16]=r.width,e[17]=t,e[18]=_,e[19]=E):E=e[19];const R=E;let M,T,z,j;return e[20]!==p||e[21]!==R||e[22]!==a?(M=a&&p?S.jsxs("div",{className:"flex flex-col gap-5",children:[" ",R()]}):R(),e[20]=p,e[21]=R,e[22]=a,e[23]=M):M=e[23],e[24]!==p||e[25]!==l||e[26]!==a?(T=l==="read"&&S.jsx(ro,{canShowCode:p,showCode:a,onToggleShowCode:()=>o(is)}),e[24]=p,e[25]=l,e[26]=a,e[27]=T):T=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(z=S.jsx(Nn,{}),e[28]=z):z=e[28],e[29]!==r||e[30]!==i||e[31]!==M||e[32]!==T?(j=S.jsxs(kn,{invisible:i,appConfig:r,children:[M,T,z]}),e[29]=r,e[30]=i,e[31]=M,e[32]=T,e[33]=j):j=e[33],j},deserializeLayout:n=>n,serializeLayout:n=>n,getInitialLayout:()=>null}];function ds(){return{selectedLayout:"vertical",layoutData:{}}}let oo;({valueAtom:Rt,useActions:oo}=Ct(ds,{setLayoutView:(n,e)=>({...n,selectedLayout:e}),setLayoutData:(n,e)=>({...n,selectedLayout:e.layoutView,layoutData:{...n.layoutData,[e.layoutView]:e.data}}),setCurrentLayoutData:(n,e)=>({...n,layoutData:{...n.layoutData,[n.selectedLayout]:e}})})),xn=()=>je(Rt),Pt=()=>oo(),ea=function(){const n=Dt(),{layoutData:e,selectedLayout:t}=Xt.get(Rt);if(t==="vertical"||e===void 0)return;const r=e[t],l=Ut.find(i=>i.type===t);if(l!==void 0)return{type:t,data:l.serializeLayout(r,Ri(n))};ve.error(`Unknown layout type: ${t}`)};let ao;Uo=["vertical","grid","slides"],ao=["slides"],dn=Z.memo(n=>{const e=F.c(8),{appConfig:t,mode:r,children:l}=n,{selectedLayout:i,layoutData:c}=xn(),u=je(ln);if(r==="edit"&&!u)return l;let g;g=i;const f=new URLSearchParams(window.location.search);if(r==="read"&&f.has(lt.viewAs)){const o=f.get(lt.viewAs);ao.includes(o)&&(g=o)}let v;e[0]!==g?(v=Ut.find(o=>o.type===g),e[0]=g,e[1]=v):v=e[1];const w=v;if(!w)return l;let a;return e[2]!==t||e[3]!==g||e[4]!==c||e[5]!==r||e[6]!==w?(a=S.jsx(fs,{appConfig:t,mode:r,plugin:w,layoutData:c,finalLayout:g}),e[2]=t,e[3]=g,e[4]=c,e[5]=r,e[6]=w,e[7]=a):a=e[7],a}),dn.displayName="CellsRenderer";const fs=n=>{const e=F.c(18),{appConfig:t,mode:r,plugin:l,layoutData:i,finalLayout:c}=n,u=Mi(),{setCurrentLayoutData:g}=Pt();let f,v,w,a,o,s;if(e[0]!==t||e[1]!==c||e[2]!==i||e[3]!==r||e[4]!==u||e[5]!==l){const d=Ti(u);f=l.Component,v=t,w=r,a=d,o=i[c]||l.getInitialLayout(d),e[0]=t,e[1]=c,e[2]=i,e[3]=r,e[4]=u,e[5]=l,e[6]=f,e[7]=v,e[8]=w,e[9]=a,e[10]=o}else f=e[6],v=e[7],w=e[8],a=e[9],o=e[10];return e[11]!==f||e[12]!==g||e[13]!==v||e[14]!==w||e[15]!==a||e[16]!==o?(s=S.jsx(f,{appConfig:v,mode:w,cells:a,layout:o,setLayout:g}),e[11]=f,e[12]=g,e[13]=v,e[14]=w,e[15]=a,e[16]=o,e[17]=s):s=e[17],s};bn=class{static get INSTANCE(){const n="_marimo_private_RuntimeState";return window[n]||(window[n]=new bn(ft)),window[n]}constructor(n){this.uiElementRegistry=n,this.hasStarted=!1,this._sendComponentValues=void 0,this.handleReadyEvent=e=>{const t=e.detail.objectId;if(!this.uiElementRegistry.has(t))return;const r=this.uiElementRegistry.lookupValue(t);r!==void 0&&this.sendComponentValues({objectIds:[t],values:[r]}).catch(l=>{ve.warn(l)})}}get sendComponentValues(){if(!this._sendComponentValues)throw new Error("sendComponentValues is not set");return this._sendComponentValues}start(n){this.hasStarted?ve.warn("RuntimeState already started"):(this._sendComponentValues=n,document.addEventListener(qo.TYPE,this.handleReadyEvent),this.hasStarted=!0)}stop(){this.hasStarted?(document.removeEventListener(qo.TYPE,this.handleReadyEvent),this.hasStarted=!1):ve.warn("RuntimeState already stopped")}},globalThis.EventTarget&&globalThis.Event||console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var so,io=class extends Event{constructor(e,t){super("error",t);ne(this,"message");ne(this,"error");this.message=e.message,this.error=e}},lo=class extends Event{constructor(e=1e3,t="",r){super("close",r);ne(this,"code");ne(this,"reason");ne(this,"wasClean",!0);this.code=e,this.reason=t}},co=io,ps=lo;let at,We,Yt;at=typeof process<"u"&&((so=process.versions)==null?void 0:so.node)!==void 0&&typeof document>"u"?function(n){return"data"in n?new MessageEvent(n.type,n):"code"in n||"reason"in n?new lo(n.code||1999,n.reason||"unknown reason",n):"error"in n?new io(n.error,n):new Event(n.type,n)}:function(n){return new n.constructor(n.type,n)},We={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},Yt=!1,_n=class Ge extends EventTarget{constructor(t,r,l={}){super();ne(this,"_ws");ne(this,"_retryCount",-1);ne(this,"_uptimeTimeout");ne(this,"_connectTimeout");ne(this,"_shouldReconnect",!0);ne(this,"_connectLock",!1);ne(this,"_binaryType","blob");ne(this,"_closeCalled",!1);ne(this,"_messageQueue",[]);ne(this,"_debugLogger",console.log.bind(console));ne(this,"_url");ne(this,"_protocols");ne(this,"_options");ne(this,"onclose",null);ne(this,"onerror",null);ne(this,"onmessage",null);ne(this,"onopen",null);ne(this,"_handleOpen",t=>{this._debug("open event");const{minUptime:r=We.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),function(l,i){if(!l)throw new Error(i)}(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(l=>{var i;return(i=this._ws)==null?void 0:i.send(l)}),this._messageQueue=[],this.onopen&&this.onopen(t),this.dispatchEvent(at(t))});ne(this,"_handleMessage",t=>{this._debug("message event"),this.onmessage&&this.onmessage(t),this.dispatchEvent(at(t))});ne(this,"_handleError",t=>{this._debug("error event",t.message),this._disconnect(void 0,t.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(t),this._debug("exec error listeners"),this.dispatchEvent(at(t)),this._connect()});ne(this,"_handleClose",t=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(t),this.dispatchEvent(at(t))});this._url=t,this._protocols=r,this._options=l,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Ge.CONNECTING}get OPEN(){return Ge.OPEN}get CLOSING(){return Ge.CLOSING}get CLOSED(){return Ge.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((t,r)=>(typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Ge.CLOSED:Ge.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(t=1e3,r){this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,r):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")}reconnect(t,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,r),this._connect()):this._connect()}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{const{maxEnqueuedMessages:r=We.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){const{reconnectionDelayGrowFactor:t=We.reconnectionDelayGrowFactor,minReconnectionDelay:r=We.minReconnectionDelay,maxReconnectionDelay:l=We.maxReconnectionDelay}=this._options;let i=0;return this._retryCount>0&&(i=r*t**(this._retryCount-1),i>l&&(i=l)),this._debug("next delay",i),i}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_getNextProtocols(t){if(!t)return Promise.resolve(null);if(typeof t=="string"||Array.isArray(t))return Promise.resolve(t);if(typeof t=="function"){const r=t();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){const r=t();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:t=We.maxRetries,connectionTimeout:r=We.connectionTimeout}=this._options;this._retryCount>=t?this._debug("max retries reached",this._retryCount,">=",t):(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([l,i])=>{if(this._closeCalled)return void(this._connectLock=!1);this._options.WebSocket||typeof WebSocket<"u"||Yt||(console.error(`\u203C\uFE0F No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),Yt=!0);const c=this._options.WebSocket||WebSocket;this._debug("connect",{url:l,protocols:i}),this._ws=i?new c(l,i):new c(l),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(l=>{this._connectLock=!1,this._handleError(new co(Error(l.message),this))}))}_handleTimeout(){this._debug("timeout event"),this._handleError(new co(Error("TIMEOUT"),this))}_disconnect(t=1e3,r){if(this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(t,r),this._handleClose(new ps(t,r,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};class hs{constructor(){this.CONNECTING=WebSocket.CONNECTING,this.OPEN=WebSocket.OPEN,this.CLOSING=WebSocket.CLOSING,this.CLOSED=WebSocket.CLOSED,this.binaryType="blob",this.bufferedAmount=0,this.extensions="",this.protocol="",this.url="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.readyState=WebSocket.OPEN,this.retryCount=0,this.shouldReconnect=!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}dispatchEvent(e){return!1}reconnect(e,t){}send(e){}close(){}}na=function(n){return n.kind==="missing"},ra=function(n){return n.kind==="installing"};let uo,fo;({valueAtom:uo,useActions:fo}=Ct(()=>({packageAlert:null}),{addPackageAlert:(n,e)=>({...n,packageAlert:{id:Bo(),...e}}),clearPackageAlert:(n,e)=>n.packageAlert!==null&&n.packageAlert.id===e?{...n,packageAlert:null}:n})),ta=()=>je(uo),jn=function(){return fo()};let po;({valueAtom:oa,useActions:Dn}=Ct(function(){return{runIds:[],runMap:new Map}},{addCellOperation:(n,e)=>{const{cellOperation:t,code:r}=e,l=t.run_id;if(!l)return n;const i=n.runMap.get(l);if(!i&&function(w){return w.startsWith("mo.md(")&&po.test(w)}(r))return n;const c=t.output&&(t.output.channel==="marimo-error"||t.output.channel==="stderr");let u=c?"error":t.status==="queued"?"queued":t.status==="running"?"running":"success";if(!i){const w={runId:l,cellRuns:new Map([[t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:u,startTime:t.timestamp}]]),runStartTime:t.timestamp},a=[l,...n.runIds],o=new Map(n.runMap);if(a.length>50){const s=a.pop();s&&o.delete(s)}return o.set(l,w),{runIds:a,runMap:o}}const g=new Map(i.cellRuns),f=g.get(t.cell_id);if(f&&!c&&t.status==="queued")return n;if(f){u=f.status==="error"||c?"error":u;const w=t.status==="running"?t.timestamp:f.startTime,a=u==="success"||u==="error"?t.timestamp-f.startTime:void 0;g.set(t.cell_id,{...f,startTime:w,elapsedTime:a,status:u})}else g.set(t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:u,startTime:t.timestamp});const v=new Map(n.runMap);return v.set(l,{...i,cellRuns:g}),{...n,runMap:v}},clearRuns:n=>({...n,runIds:[],runMap:new Map}),removeRun:(n,e)=>{const t=n.runIds.filter(l=>l!==e),r=new Map(n.runMap);return r.delete(e),{...n,runIds:t,runMap:r}}})),po=/mo\.md\(\s*r?('''|""")/;let ho,mo;Rn=new cn("sql-table-preview",async(n,e)=>{await Ii({requestId:n,...e})}),Pn=new cn("sql-table-list-preview",async(n,e)=>{await Li({requestId:n,...e})}),{valueAtom:ho,useActions:mo}=Ct(()=>({banners:[]}),{addBanner:(n,e)=>({...n,banners:[...n.banners,{...e,id:Bo()}]}),removeBanner:(n,e)=>({...n,banners:n.banners.filter(t=>t.id!==e)}),clearBanners:n=>({...n,banners:[]})}),aa=()=>je(ho),En=function(){return mo()};function ms(n,e){const{autoInstantiate:t,setCells:r,setLayoutData:l,onError:i,setAppConfig:c,setCapabilities:u}=e,{codes:g,names:f,layout:v,configs:w,resumed:a,ui_values:o,cell_ids:s,last_executed_code:d,last_execution_time:h={},app_config:p,capabilities:b}=n,_=d||{},E=h||{},R=g.map((C,D)=>{const N=s[D];let k=!1;const L=_[N];return L&&(k=L!==C),Hi({id:N,code:C,edited:k,name:f[D],lastCodeRun:_[N]??null,lastExecutionTime:E[N]??null,config:w[D]})}),M={selectedLayout:"vertical",layoutData:{}};if(v){const C=v.type,D=function(N,k,L){const m=Ut.find(y=>y.type===N);if(m===void 0)throw new Error(`Unknown layout type: ${N}`);return m.deserializeLayout(k,L)}(C,v.data,R);M.selectedLayout=C,M.layoutData[C]=D,l({layoutView:C,data:D})}r(R,M);const T=Wi.safeParse(p);if(T.success&&c(T.data),u(b),a){for(const[C,D]of Kt.entries(o||{}))ft.set(C,D);return}const z=[],j=[];ft.entries.forEach((C,D)=>{z.push(D),j.push(C.value)}),Ai({objectIds:z,values:j,autoRun:t}).catch(C=>{i(new Error("Failed to instantiate",{cause:C}))})}let go,yo,bo,vo;go=n=>{const e=new URL(window.location.href);e.searchParams.append(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},yo=n=>{const e=new URL(window.location.href);Array.isArray(n.value)?(e.searchParams.delete(n.key),n.value.forEach(t=>e.searchParams.append(n.key,t))):e.searchParams.set(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},bo=n=>{const e=new URL(window.location.href);n.value==null?e.searchParams.delete(n.key):e.searchParams.delete(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},vo=()=>{const n=new URL(window.location.href);n.search="",window.history.pushState({},"",`${n.pathname}${n.search}`)},vn=new cn("secrets-result",async(n,e)=>{await qi({requestId:n,...e})}),Xo=function(n){const e=F.c(30),t=Z.useRef(!0),{autoInstantiate:r,sessionId:l,setCells:i}=n,{showBoundary:c}=Bi(),{handleCellMessage:u,setCellCodes:g,setCellIds:f}=Lo(),{addCellOperation:v}=Dn(),w=Fi(),{setVariables:a,setMetadata:o}=Gi(),{addColumnPreview:s}=Fo(),{addDatasets:d,filterDatasetsFromVariables:h}=Fo(),{addDataSourceConnection:p,filterDataSourcesFromVariables:b}=Vi(),{setLayoutData:_}=Pt(),[E,R]=ko(Ui),{addBanner:M}=En(),{addPackageAlert:T}=jn(),z=Go(ln),j=Go(Yi),C=$i();let D;e[0]!==M||e[1]!==v||e[2]!==s||e[3]!==p||e[4]!==d||e[5]!==T||e[6]!==r||e[7]!==b||e[8]!==h||e[9]!==u||e[10]!==w||e[11]!==j||e[12]!==g||e[13]!==f||e[14]!==i||e[15]!==z||e[16]!==_||e[17]!==o||e[18]!==a||e[19]!==c?(D=I=>{const P=Xi(I.data);switch(P.op){case"reload":return void No();case"kernel-ready":return ms(P.data,{autoInstantiate:r,setCells:i,setLayoutData:_,setAppConfig:w,setCapabilities:j,onError:c}),void z(P.data.kiosk);case"completed-run":case"interrupted":case"reconnected":return;case"send-ui-element-message":{const H=P.data.model_id,A=P.data.ui_element,G=P.data.message,Y=P.data.buffers??[];return H&&tl(G)&&nl(H,G,Y,rl),void(A&&ft.broadcastMessage(A,P.data.message,Y))}case"remove-ui-elements":return void function(H){const A=H.cell_id;ft.removeElementsByCell(A),Xe.INSTANCE.removeForCellId(A)}(P.data);case"completion-result":return void el.resolve(P.data.completion_id,P.data);case"function-call-result":return void Ji.resolve(P.data.function_call_id,P.data);case"cell-op":{(function(A,G){G(A),Xe.INSTANCE.track(A)})(P.data,u);const H=Dt().cellData[P.data.cell_id];return H?void v({cellOperation:P.data,code:H.code}):void 0}case"variables":return a(P.data.variables.map(ws)),h(P.data.variables.map(vs)),void b(P.data.variables.map(bs));case"variable-values":return void o(P.data.variables.map(ys));case"alert":return void Qt({title:P.data.title,description:Zi({html:P.data.description}),variant:P.data.variant});case"banner":return void M(P.data);case"missing-package-alert":return void T({...P.data,kind:"missing"});case"installing-package-alert":return void T({...P.data,kind:"installing"});case"query-params-append":return void go(P.data);case"query-params-set":return void yo(P.data);case"query-params-delete":return void bo(P.data);case"query-params-clear":return void vo();case"datasets":return void d(P.data);case"data-column-preview":return void s(P.data);case"sql-table-preview":return void Rn.resolve(P.data.request_id,P.data);case"sql-table-list-preview":return void Pn.resolve(P.data.request_id,P.data);case"secret-keys-result":return void vn.resolve(P.data.request_id,P.data);case"data-source-connections":return void p({connections:P.data.connections.map(gs)});case"focus-cell":return void Qi(P.data.cell_id);case"update-cell-codes":return void g({codes:P.data.codes,ids:P.data.cell_ids,codeIsStale:P.data.code_is_stale});case"update-cell-ids":return void f({cellIds:P.data.cell_ids});default:Ki(P)}},e[0]=M,e[1]=v,e[2]=s,e[3]=p,e[4]=d,e[5]=T,e[6]=r,e[7]=b,e[8]=h,e[9]=u,e[10]=w,e[11]=j,e[12]=g,e[13]=f,e[14]=i,e[15]=z,e[16]=_,e[17]=o,e[18]=a,e[19]=c,e[20]=D):D=e[20];const N=D,k=(I,P)=>{t.current&&(t.current=!1,x.reconnect(I,P))};let L,m,y;e[21]!==C||e[22]!==l?(L=()=>C.getWsURL(l).toString(),e[21]=C,e[22]=l,e[23]=L):L=e[23],e[24]!==C?(m=async()=>{C.isSameOrigin||await C.waitForHealthy()},e[24]=C,e[25]=m):m=e[25],e[26]!==N?(y=I=>{try{N(I)}catch(P){const H=P;ve.error("Failed to handle message",H),Qt({title:"Failed to handle message",description:Po(H),variant:"danger"})}},e[26]=N,e[27]=y):y=e[27];const x=function(I){const{onOpen:P,onMessage:H,onClose:A,onError:G,waitToConnect:Y,...se}=I,[W]=Z.useState(()=>{const q=Ot()?new zi(So.INSTANCE):I.static?new hs:new _n(se.url,void 0,{maxRetries:10,debug:!1,startClosed:!0,connectionTimeout:1e4});return P&&q.addEventListener("open",P),A&&q.addEventListener("close",A),G&&q.addEventListener("error",G),H&&q.addEventListener("message",H),q});return Z.useEffect(()=>(W.readyState===WebSocket.CLOSED&&(!Y||dt()||Ot()?W.reconnect():Y().then(()=>{W.reconnect()})),()=>{ve.warn("useWebSocket is unmounting. This likely means there is a bug."),W.close(),P&&W.removeEventListener("open",P),A&&W.removeEventListener("close",A),G&&W.removeEventListener("error",G),H&&W.removeEventListener("message",H)}),[W]),W}({static:dt(),url:L,onOpen:async()=>{t.current=!0,R({state:Ee.OPEN})},waitToConnect:m,onMessage:y,onClose:I=>{switch(ve.warn("WebSocket closed",I.code,I.reason),I.reason){case"MARIMO_ALREADY_CONNECTED":return R({state:Ee.CLOSED,code:kt.ALREADY_RUNNING,reason:"another browser tab is already connected to the kernel",canTakeover:!0}),void x.close();case"MARIMO_WRONG_KERNEL_ID":case"MARIMO_NO_FILE_KEY":case"MARIMO_NO_SESSION_ID":case"MARIMO_NO_SESSION":case"MARIMO_SHUTDOWN":return R({state:Ee.CLOSED,code:kt.KERNEL_DISCONNECTED,reason:"kernel not found"}),void x.close();case"MARIMO_MALFORMED_QUERY":return void R({state:Ee.CLOSED,code:kt.MALFORMED_QUERY,reason:"the kernel did not recognize a request; please file a bug with marimo"});default:R({state:Ee.CONNECTING}),k(I.code,I.reason)}},onError:I=>{ve.warn("WebSocket error",I),R({state:Ee.CLOSED,code:kt.KERNEL_DISCONNECTED,reason:"kernel not found"}),k()}});let O;return e[28]!==E?(O={connection:E},e[28]=E,e[29]=O):O=e[29],O};function gs(n){return{...n,name:n.name}}function ys(n){return{name:n.name,dataType:n.datatype,value:n.value}}function bs(n){return n.name}function vs(n){return n.name}function ws(n){return{name:n.name,declaredBy:n.declared_by,usedBy:n.used_by}}$o=n=>{const e=F.c(2),{children:t}=n;let r;return e[0]!==t?(r=S.jsx("div",{className:"flex flex-col flex-1 overflow-hidden absolute inset-0 print:relative",children:t}),e[0]=t,e[1]=r):r=e[1],r},ue.record(ue.tuple([ue.number(),ue.number()]));let $t=null;Qo=function(n){return{getItem:e=>$t||($t??null),setItem(e,t){$t=t||null}}}});export{Vo as A,un as B,dn as C,fn as D,pn as E,hn as F,mn as I,Uo as L,gn as M,Yo as N,yn as O,$o as P,bn as R,vn as S,Nt as T,Xe as V,sl as __tla,Xo as a,Ko as b,Qo as c,wn as d,Zo as e,Jo as f,xn as g,Pt as h,Sn as i,ea as j,_n as k,Rt as l,On as m,ta as n,jn as o,na as p,ra as q,oa as r,aa as s,En as t,Dn as u,Cn as v,kn as w,Nn as x,Pn as y,Rn as z};
